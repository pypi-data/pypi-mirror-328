"use strict";(self.webpackChunkjupyterlab_notify=self.webpackChunkjupyterlab_notify||[]).push([[568],{568:(e,i,t)=>{t.r(i),t.d(i,{default:()=>c});var o=t(882);const s="isProcessed",n={icon:"/static/favicons/favicon.ico"};class r extends o.Widget{constructor(e){super(),this._mimeType=e.mimeType}renderModel(e){const i=e.data[this._mimeType],t=i.payload;if(i[s])return Promise.resolve();if(("INIT"===i.type&&"default"===Notification.permission||"granted"!==Notification.permission)&&Notification.requestPermission().catch((e=>{alert(`Encountered error - ${e} while requesting permissions for notebook notifications`)})),"NOTIFY"===i.type&&("granted"!==Notification.permission||i[s]?this.node.innerHTML=`<div id="${i.id}">Missing permissions - update "Notifications" preferences under browser settings to receive notifications</div>`:new Notification(t.title,n)),!i[s]){const i=JSON.parse(JSON.stringify(e));i.data[this._mimeType][s]=!0,setTimeout((()=>{e.setData(i)}),0)}return Promise.resolve()}}const a={id:"desktop-notify:plugin",rendererFactory:{safe:!0,mimeTypes:["application/desktop-notify+json"],createRenderer:e=>new r(e)},rank:0,dataType:"json"};console.log("jupyterlab-notify render activated");const c=a}}]);