import{s as be,y as ke,A as qe,p as Je,j as de,e as v,c as $,a as w,d as c,f as d,i as P,r as Ge,v as Qe,w as Ke,x as Xe,k as C,o as S,t as te,b as re,g as m,h as le,l as ge,m as Ye,q as et,n as Ee,C as Se,u as pe,Q as tt,E as Pe,F as Ne,N as Ae,H as rt}from"../chunks/scheduler.CRl-z1y4.js";import{S as ye,i as De,f as Fe,b as Z,d as G,m as Q,t as A,a as B,e as K,g as $e,c as we}from"../chunks/index.Ci9MLlfz.js";import{e as Me}from"../chunks/each.Cd7EUOR7.js";import{t as Te}from"../chunks/Toaster.svelte_svelte_type_style_lang.CQ9dEDgo.js";import{f as lt}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as st}from"../chunks/entry.CJDlsF5_.js";import{W as nt,u as at,c as ot,p as Ue}from"../chunks/index.MX1A76fc.js";import{d as it,b as Be,g as je,c as ft}from"../chunks/index.dxcZHC-y.js";import"../chunks/updater.e7zyckLc.js";import{D as ct,M as _e}from"../chunks/Dropdown.9uTl7bwK.js";import{b as ut}from"../chunks/menu-trigger.HLnuFu5_.js";import{f as mt}from"../chunks/index.BFuekP1B.js";import{G as dt}from"../chunks/GarbageBin.CwQsafHT.js";import{T as Ze}from"../chunks/Tooltip.DuavYtFf.js";import{h as Le}from"../chunks/index.uLnyJFOF.js";import{S as pt,D as ht}from"../chunks/DocumentDuplicate.ClVU3vKI.js";import{A as _t}from"../chunks/ArrowDownTray.D_H3KREq.js";import{E as gt}from"../chunks/EllipsisHorizontal.f3ex1JiB.js";import{C as vt}from"../chunks/ConfirmDialog.rCTTtEnx.js";import{S as $t}from"../chunks/Search.aCWnjc4H.js";import{P as wt}from"../chunks/Plus.BWtK4UEr.js";import{C as bt}from"../chunks/ChevronRight.a1FlZXle.js";import{S as kt}from"../chunks/Spinner.B5qNQZjw.js";function Et(n){let e;const r=n[8].default,t=Ge(r,n,n[15],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&32768)&&Qe(t,r,l,l[15],e?Xe(r,l[15],a,null):Ke(l[15]),null)},i(l){e||(A(t,l),e=!0)},o(l){B(t,l),e=!1},d(l){t&&t.d(l)}}}function yt(n){let e,r;return e=new Ze({props:{content:n[6].t("More"),$$slots:{default:[Et]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,l){Q(e,t,l),r=!0},p(t,l){const a={};l&64&&(a.content=t[6].t("More")),l&32768&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){B(e.$$.fragment,t),r=!1},d(t){K(e,t)}}}function Dt(n){let e,r,t,l=n[6].t("Share")+"",a,o;return e=new pt({}),{c(){Z(e.$$.fragment),r=C(),t=v("div"),a=te(l),this.h()},l(s){G(e.$$.fragment,s),r=S(s),t=$(s,"DIV",{class:!0});var i=w(t);a=re(i,l),i.forEach(c),this.h()},h(){d(t,"class","flex items-center")},m(s,i){Q(e,s,i),P(s,r,i),P(s,t,i),m(t,a),o=!0},p(s,i){(!o||i&64)&&l!==(l=s[6].t("Share")+"")&&le(a,l)},i(s){o||(A(e.$$.fragment,s),o=!0)},o(s){B(e.$$.fragment,s),o=!1},d(s){s&&(c(r),c(t)),K(e,s)}}}function It(n){let e,r,t,l=n[6].t("Clone")+"",a,o;return e=new ht({}),{c(){Z(e.$$.fragment),r=C(),t=v("div"),a=te(l),this.h()},l(s){G(e.$$.fragment,s),r=S(s),t=$(s,"DIV",{class:!0});var i=w(t);a=re(i,l),i.forEach(c),this.h()},h(){d(t,"class","flex items-center")},m(s,i){Q(e,s,i),P(s,r,i),P(s,t,i),m(t,a),o=!0},p(s,i){(!o||i&64)&&l!==(l=s[6].t("Clone")+"")&&le(a,l)},i(s){o||(A(e.$$.fragment,s),o=!0)},o(s){B(e.$$.fragment,s),o=!1},d(s){s&&(c(r),c(t)),K(e,s)}}}function Vt(n){let e,r,t,l=n[6].t("Export")+"",a,o;return e=new _t({}),{c(){Z(e.$$.fragment),r=C(),t=v("div"),a=te(l),this.h()},l(s){G(e.$$.fragment,s),r=S(s),t=$(s,"DIV",{class:!0});var i=w(t);a=re(i,l),i.forEach(c),this.h()},h(){d(t,"class","flex items-center")},m(s,i){Q(e,s,i),P(s,r,i),P(s,t,i),m(t,a),o=!0},p(s,i){(!o||i&64)&&l!==(l=s[6].t("Export")+"")&&le(a,l)},i(s){o||(A(e.$$.fragment,s),o=!0)},o(s){B(e.$$.fragment,s),o=!1},d(s){s&&(c(r),c(t)),K(e,s)}}}function xt(n){let e,r,t,l=n[6].t("Delete")+"",a,o;return e=new dt({props:{strokeWidth:"2"}}),{c(){Z(e.$$.fragment),r=C(),t=v("div"),a=te(l),this.h()},l(s){G(e.$$.fragment,s),r=S(s),t=$(s,"DIV",{class:!0});var i=w(t);a=re(i,l),i.forEach(c),this.h()},h(){d(t,"class","flex items-center")},m(s,i){Q(e,s,i),P(s,r,i),P(s,t,i),m(t,a),o=!0},p(s,i){(!o||i&64)&&l!==(l=s[6].t("Delete")+"")&&le(a,l)},i(s){o||(A(e.$$.fragment,s),o=!0)},o(s){B(e.$$.fragment,s),o=!1},d(s){s&&(c(r),c(t)),K(e,s)}}}function Ht(n){let e,r,t,l,a,o,s,i,h,u;return e=new _e({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Dt]},$$scope:{ctx:n}}}),e.$on("click",n[9]),t=new _e({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[It]},$$scope:{ctx:n}}}),t.$on("click",n[10]),a=new _e({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Vt]},$$scope:{ctx:n}}}),a.$on("click",n[11]),h=new _e({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[xt]},$$scope:{ctx:n}}}),h.$on("click",n[12]),{c(){Z(e.$$.fragment),r=C(),Z(t.$$.fragment),l=C(),Z(a.$$.fragment),o=C(),s=v("hr"),i=C(),Z(h.$$.fragment),this.h()},l(f){G(e.$$.fragment,f),r=S(f),G(t.$$.fragment,f),l=S(f),G(a.$$.fragment,f),o=S(f),s=$(f,"HR",{class:!0}),i=S(f),G(h.$$.fragment,f),this.h()},h(){d(s,"class","border-gray-100 dark:border-gray-850 my-1")},m(f,_){Q(e,f,_),P(f,r,_),Q(t,f,_),P(f,l,_),Q(a,f,_),P(f,o,_),P(f,s,_),P(f,i,_),Q(h,f,_),u=!0},p(f,_){const k={};_&32832&&(k.$$scope={dirty:_,ctx:f}),e.$set(k);const D={};_&32832&&(D.$$scope={dirty:_,ctx:f}),t.$set(D);const T={};_&32832&&(T.$$scope={dirty:_,ctx:f}),a.$set(T);const H={};_&32832&&(H.$$scope={dirty:_,ctx:f}),h.$set(H)},i(f){u||(A(e.$$.fragment,f),A(t.$$.fragment,f),A(a.$$.fragment,f),A(h.$$.fragment,f),u=!0)},o(f){B(e.$$.fragment,f),B(t.$$.fragment,f),B(a.$$.fragment,f),B(h.$$.fragment,f),u=!1},d(f){f&&(c(r),c(l),c(o),c(s),c(i)),K(e,f),K(t,f),K(a,f),K(h,f)}}}function Ct(n){let e,r,t;return r=new ut({props:{class:"w-full max-w-[160px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm",sideOffset:-2,side:"bottom",align:"start",transition:mt,$$slots:{default:[Ht]},$$scope:{ctx:n}}}),{c(){e=v("div"),Z(r.$$.fragment),this.h()},l(l){e=$(l,"DIV",{slot:!0});var a=w(e);G(r.$$.fragment,a),a.forEach(c),this.h()},h(){d(e,"slot","content")},m(l,a){P(l,e,a),Q(r,e,null),t=!0},p(l,a){const o={};a&32847&&(o.$$scope={dirty:a,ctx:l}),r.$set(o)},i(l){t||(A(r.$$.fragment,l),t=!0)},o(l){B(r.$$.fragment,l),t=!1},d(l){l&&c(e),K(r)}}}function St(n){let e,r,t;function l(o){n[13](o)}let a={$$slots:{content:[Ct],default:[yt]},$$scope:{ctx:n}};return n[5]!==void 0&&(a.show=n[5]),e=new ct({props:a}),ke.push(()=>Fe(e,"show",l)),e.$on("change",n[14]),{c(){Z(e.$$.fragment)},l(o){G(e.$$.fragment,o)},m(o,s){Q(e,o,s),t=!0},p(o,[s]){const i={};s&32847&&(i.$$scope={dirty:s,ctx:o}),!r&&s&32&&(r=!0,i.show=o[5],qe(()=>r=!1)),e.$set(i)},i(o){t||(A(e.$$.fragment,o),t=!0)},o(o){B(e.$$.fragment,o),t=!1},d(o){K(e,o)}}}function Pt(n,e,r){let t,{$$slots:l={},$$scope:a}=e;const o=Je("i18n");de(n,o,g=>r(6,t=g));let{shareHandler:s}=e,{cloneHandler:i}=e,{exportHandler:h}=e,{deleteHandler:u}=e,{onClose:f}=e,_=!1;const k=()=>{s()},D=()=>{i()},T=()=>{h()},H=()=>{u()};function I(g){_=g,r(5,_)}const y=g=>{g.detail===!1&&f()};return n.$$set=g=>{"shareHandler"in g&&r(0,s=g.shareHandler),"cloneHandler"in g&&r(1,i=g.cloneHandler),"exportHandler"in g&&r(2,h=g.exportHandler),"deleteHandler"in g&&r(3,u=g.deleteHandler),"onClose"in g&&r(4,f=g.onClose),"$$scope"in g&&r(15,a=g.$$scope)},[s,i,h,u,f,_,t,o,l,k,D,T,H,I,y,a]}class Nt extends ye{constructor(e){super(),De(this,e,Pt,St,be,{shareHandler:0,cloneHandler:1,exportHandler:2,deleteHandler:3,onClose:4})}}function Oe(n,e,r){const t=n.slice();return t[31]=e[r],t}function At(n){let e,r,t;return r=new kt({}),{c(){e=v("div"),Z(r.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var a=w(e);G(r.$$.fragment,a),a.forEach(c),this.h()},h(){d(e,"class","w-full h-full flex justify-center items-center")},m(l,a){P(l,e,a),Q(r,e,null),t=!0},p:Ee,i(l){t||(A(r.$$.fragment,l),t=!0)},o(l){B(r.$$.fragment,l),t=!1},d(l){l&&c(e),K(r)}}}function Mt(n){var ue,Ie;let e,r,t,l,a,o,s=n[8].t("Prompts")+"",i,h,u,f,_,k=n[7].length+"",D,T,H,I,y,g,V,x,R,U,L,j,Y,ee,X,ie,ae,oe,O,M,b;function W(p){n[18](p)}let se={title:n[8].t("Delete prompt?"),$$slots:{default:[Tt]},$$scope:{ctx:n}};n[5]!==void 0&&(se.show=n[5]),e=new vt({props:se}),ke.push(()=>Fe(e,"show",W)),e.$on("confirm",n[19]),g=new $t({props:{className:"size-3.5"}}),Y=new wt({props:{className:"size-3.5"}});let q=Me(n[7]),N=[];for(let p=0;p<q.length;p+=1)N[p]=ze(Oe(n,q,p));const he=p=>B(N[p],1,1,()=>{N[p]=null});let J=((ue=n[10])==null?void 0:ue.role)==="admin"&&Re(n),z=((Ie=n[11])==null?void 0:Ie.features.enable_community_sharing)&&We(n);return{c(){Z(e.$$.fragment),t=C(),l=v("div"),a=v("div"),o=v("div"),i=te(s),h=C(),u=v("div"),f=C(),_=v("span"),D=te(k),T=C(),H=v("div"),I=v("div"),y=v("div"),Z(g.$$.fragment),V=C(),x=v("input"),U=C(),L=v("div"),j=v("a"),Z(Y.$$.fragment),ee=C(),X=v("div");for(let p=0;p<N.length;p+=1)N[p].c();ie=C(),J&&J.c(),ae=C(),z&&z.c(),oe=ge(),this.h()},l(p){G(e.$$.fragment,p),t=S(p),l=$(p,"DIV",{class:!0});var E=w(l);a=$(E,"DIV",{class:!0});var ne=w(a);o=$(ne,"DIV",{class:!0});var fe=w(o);i=re(fe,s),h=S(fe),u=$(fe,"DIV",{class:!0}),w(u).forEach(c),f=S(fe),_=$(fe,"SPAN",{class:!0});var me=w(_);D=re(me,k),me.forEach(c),fe.forEach(c),ne.forEach(c),T=S(E),H=$(E,"DIV",{class:!0});var F=w(H);I=$(F,"DIV",{class:!0});var ce=w(I);y=$(ce,"DIV",{class:!0});var Ve=w(y);G(g.$$.fragment,Ve),Ve.forEach(c),V=S(ce),x=$(ce,"INPUT",{class:!0,placeholder:!0}),ce.forEach(c),U=S(F),L=$(F,"DIV",{});var xe=w(L);j=$(xe,"A",{class:!0,href:!0});var He=w(j);G(Y.$$.fragment,He),He.forEach(c),xe.forEach(c),F.forEach(c),E.forEach(c),ee=S(p),X=$(p,"DIV",{class:!0});var Ce=w(X);for(let ve=0;ve<N.length;ve+=1)N[ve].l(Ce);Ce.forEach(c),ie=S(p),J&&J.l(p),ae=S(p),z&&z.l(p),oe=ge(),this.h()},h(){d(u,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),d(_,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),d(o,"class","flex md:self-center text-xl font-medium px-0.5 items-center"),d(a,"class","flex justify-between items-center"),d(y,"class","self-center ml-1 mr-3"),d(x,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),d(x,"placeholder",R=n[8].t("Search Prompts")),d(I,"class","flex flex-1"),d(j,"class","px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1"),d(j,"href","/workspace/prompts/create"),d(H,"class","flex w-full space-x-2"),d(l,"class","flex flex-col gap-1 my-1.5"),d(X,"class","mb-5 gap-2 grid lg:grid-cols-2 xl:grid-cols-3")},m(p,E){Q(e,p,E),P(p,t,E),P(p,l,E),m(l,a),m(a,o),m(o,i),m(o,h),m(o,u),m(o,f),m(o,_),m(_,D),m(l,T),m(l,H),m(H,I),m(I,y),Q(g,y,null),m(I,V),m(I,x),Se(x,n[0]),m(H,U),m(H,L),m(L,j),Q(Y,j,null),P(p,ee,E),P(p,X,E);for(let ne=0;ne<N.length;ne+=1)N[ne]&&N[ne].m(X,null);P(p,ie,E),J&&J.m(p,E),P(p,ae,E),z&&z.m(p,E),P(p,oe,E),O=!0,M||(b=pe(x,"input",n[20]),M=!0)},p(p,E){var fe,me;const ne={};if(E[0]&256&&(ne.title=p[8].t("Delete prompt?")),E[0]&320|E[1]&8&&(ne.$$scope={dirty:E,ctx:p}),!r&&E[0]&32&&(r=!0,ne.show=p[5],qe(()=>r=!1)),e.$set(ne),(!O||E[0]&256)&&s!==(s=p[8].t("Prompts")+"")&&le(i,s),(!O||E[0]&128)&&k!==(k=p[7].length+"")&&le(D,k),(!O||E[0]&256&&R!==(R=p[8].t("Search Prompts")))&&d(x,"placeholder",R),E[0]&1&&x.value!==p[0]&&Se(x,p[0]),E[0]&115168){q=Me(p[7]);let F;for(F=0;F<q.length;F+=1){const ce=Oe(p,q,F);N[F]?(N[F].p(ce,E),A(N[F],1)):(N[F]=ze(ce),N[F].c(),A(N[F],1),N[F].m(X,null))}for($e(),F=q.length;F<N.length;F+=1)he(F);we()}((fe=p[10])==null?void 0:fe.role)==="admin"?J?J.p(p,E):(J=Re(p),J.c(),J.m(ae.parentNode,ae)):J&&(J.d(1),J=null),(me=p[11])!=null&&me.features.enable_community_sharing?z?(z.p(p,E),E[0]&2048&&A(z,1)):(z=We(p),z.c(),A(z,1),z.m(oe.parentNode,oe)):z&&($e(),B(z,1,1,()=>{z=null}),we())},i(p){if(!O){A(e.$$.fragment,p),A(g.$$.fragment,p),A(Y.$$.fragment,p);for(let E=0;E<q.length;E+=1)A(N[E]);A(z),O=!0}},o(p){B(e.$$.fragment,p),B(g.$$.fragment,p),B(Y.$$.fragment,p),N=N.filter(Boolean);for(let E=0;E<N.length;E+=1)B(N[E]);B(z),O=!1},d(p){p&&(c(t),c(l),c(ee),c(X),c(ie),c(ae),c(oe)),K(e,p),K(g),K(Y),tt(N,p),J&&J.d(p),z&&z.d(p),M=!1,b()}}}function Tt(n){let e,r=n[8].t("This will delete")+"",t,l,a,o=n[6].command+"",s,i;return{c(){e=v("div"),t=te(r),l=C(),a=v("span"),s=te(o),i=te("."),this.h()},l(h){e=$(h,"DIV",{class:!0});var u=w(e);t=re(u,r),l=S(u),a=$(u,"SPAN",{class:!0});var f=w(a);s=re(f,o),f.forEach(c),i=re(u,"."),u.forEach(c),this.h()},h(){d(a,"class","font-semibold"),d(e,"class","text-sm text-gray-500")},m(h,u){P(h,e,u),m(e,t),m(e,l),m(e,a),m(a,s),m(e,i)},p(h,u){u[0]&256&&r!==(r=h[8].t("This will delete")+"")&&le(t,r),u[0]&64&&o!==(o=h[6].command+"")&&le(s,o)},d(h){h&&c(e)}}}function Ut(n){var l,a,o,s;let e,r=n[8].t("By {{name}}",{name:Le(((a=(l=n[31])==null?void 0:l.user)==null?void 0:a.name)??((s=(o=n[31])==null?void 0:o.user)==null?void 0:s.email)??n[8].t("Deleted User"))})+"",t;return{c(){e=v("div"),t=te(r),this.h()},l(i){e=$(i,"DIV",{class:!0});var h=w(e);t=re(h,r),h.forEach(c),this.h()},h(){d(e,"class","shrink-0 text-gray-500")},m(i,h){P(i,e,h),m(e,t)},p(i,h){var u,f,_,k;h[0]&384&&r!==(r=i[8].t("By {{name}}",{name:Le(((f=(u=i[31])==null?void 0:u.user)==null?void 0:f.name)??((k=(_=i[31])==null?void 0:_.user)==null?void 0:k.email)??i[8].t("Deleted User"))})+"")&&le(t,r)},d(i){i&&c(e)}}}function Bt(n){let e,r,t;return r=new gt({props:{className:"size-5"}}),{c(){e=v("button"),Z(r.$$.fragment),this.h()},l(l){e=$(l,"BUTTON",{class:!0,type:!0});var a=w(e);G(r.$$.fragment,a),a.forEach(c),this.h()},h(){d(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),d(e,"type","button")},m(l,a){P(l,e,a),Q(r,e,null),t=!0},p:Ee,i(l){t||(A(r.$$.fragment,l),t=!0)},o(l){B(r.$$.fragment,l),t=!1},d(l){l&&c(e),K(r)}}}function ze(n){var ae,oe;let e,r,t,l,a,o=n[31].title+"",s,i,h,u=n[31].command+"",f,_,k,D,T,H,I,y,g,V,x,R,U,L,j;D=new Ze({props:{content:((oe=(ae=n[31])==null?void 0:ae.user)==null?void 0:oe.email)??n[8].t("Deleted User"),className:"flex shrink-0",placement:"top-start",$$slots:{default:[Ut]},$$scope:{ctx:n}}});function Y(){return n[21](n[31])}function ee(){return n[22](n[31])}function X(){return n[23](n[31])}function ie(){return n[24](n[31])}return U=new Nt({props:{shareHandler:Y,cloneHandler:ee,exportHandler:X,deleteHandler:ie,onClose:Lt,$$slots:{default:[Bt]},$$scope:{ctx:n}}}),{c(){e=v("div"),r=v("div"),t=v("a"),l=v("div"),a=v("div"),s=te(o),i=C(),h=v("div"),f=te(u),_=C(),k=v("div"),Z(D.$$.fragment),H=C(),I=v("div"),y=v("a"),g=Pe("svg"),V=Pe("path"),R=C(),Z(U.$$.fragment),L=C(),this.h()},l(O){e=$(O,"DIV",{class:!0});var M=w(e);r=$(M,"DIV",{class:!0});var b=w(r);t=$(b,"A",{href:!0});var W=w(t);l=$(W,"DIV",{class:!0});var se=w(l);a=$(se,"DIV",{class:!0});var q=w(a);s=re(q,o),q.forEach(c),i=S(se),h=$(se,"DIV",{class:!0});var N=w(h);f=re(N,u),N.forEach(c),se.forEach(c),_=S(W),k=$(W,"DIV",{class:!0});var he=w(k);G(D.$$.fragment,he),he.forEach(c),W.forEach(c),b.forEach(c),H=S(M),I=$(M,"DIV",{class:!0});var J=w(I);y=$(J,"A",{class:!0,type:!0,href:!0});var z=w(y);g=Ne(z,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ue=w(g);V=Ne(ue,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(V).forEach(c),ue.forEach(c),z.forEach(c),R=S(J),G(U.$$.fragment,J),J.forEach(c),L=S(M),M.forEach(c),this.h()},h(){d(a,"class","font-semibold line-clamp-1 capitalize"),d(h,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),d(l,"class","flex-1 flex items-center gap-2 self-center"),d(k,"class","text-xs px-0.5"),d(t,"href",T=`/workspace/prompts/edit?command=${encodeURIComponent(n[31].command)}`),d(r,"class","flex flex-1 space-x-4 cursor-pointer w-full"),d(V,"stroke-linecap","round"),d(V,"stroke-linejoin","round"),d(V,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),d(g,"xmlns","http://www.w3.org/2000/svg"),d(g,"fill","none"),d(g,"viewBox","0 0 24 24"),d(g,"stroke-width","1.5"),d(g,"stroke","currentColor"),d(g,"class","w-4 h-4"),d(y,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),d(y,"type","button"),d(y,"href",x=`/workspace/prompts/edit?command=${encodeURIComponent(n[31].command)}`),d(I,"class","flex flex-row gap-0.5 self-center"),d(e,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl transition")},m(O,M){P(O,e,M),m(e,r),m(r,t),m(t,l),m(l,a),m(a,s),m(l,i),m(l,h),m(h,f),m(t,_),m(t,k),Q(D,k,null),m(e,H),m(e,I),m(I,y),m(y,g),m(g,V),m(I,R),Q(U,I,null),m(e,L),j=!0},p(O,M){var se,q;n=O,(!j||M[0]&128)&&o!==(o=n[31].title+"")&&le(s,o),(!j||M[0]&128)&&u!==(u=n[31].command+"")&&le(f,u);const b={};M[0]&384&&(b.content=((q=(se=n[31])==null?void 0:se.user)==null?void 0:q.email)??n[8].t("Deleted User")),M[0]&384|M[1]&8&&(b.$$scope={dirty:M,ctx:n}),D.$set(b),(!j||M[0]&128&&T!==(T=`/workspace/prompts/edit?command=${encodeURIComponent(n[31].command)}`))&&d(t,"href",T),(!j||M[0]&128&&x!==(x=`/workspace/prompts/edit?command=${encodeURIComponent(n[31].command)}`))&&d(y,"href",x);const W={};M[0]&128&&(W.shareHandler=Y),M[0]&128&&(W.cloneHandler=ee),M[0]&128&&(W.exportHandler=X),M[0]&224&&(W.deleteHandler=ie),M[1]&8&&(W.$$scope={dirty:M,ctx:n}),U.$set(W)},i(O){j||(A(D.$$.fragment,O),A(U.$$.fragment,O),j=!0)},o(O){B(D.$$.fragment,O),B(U.$$.fragment,O),j=!1},d(O){O&&c(e),K(D),K(U)}}}function Re(n){let e,r,t,l,a,o,s=n[8].t("Import Prompts")+"",i,h,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',_,k,D,T=n[8].t("Export Prompts")+"",H,I,y,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',V,x;return{c(){e=v("div"),r=v("div"),t=v("input"),l=C(),a=v("button"),o=v("div"),i=te(s),h=C(),u=v("div"),u.innerHTML=f,_=C(),k=v("button"),D=v("div"),H=te(T),I=C(),y=v("div"),y.innerHTML=g,this.h()},l(R){e=$(R,"DIV",{class:!0});var U=w(e);r=$(U,"DIV",{class:!0});var L=w(r);t=$(L,"INPUT",{id:!0,type:!0,accept:!0}),l=S(L),a=$(L,"BUTTON",{class:!0});var j=w(a);o=$(j,"DIV",{class:!0});var Y=w(o);i=re(Y,s),Y.forEach(c),h=S(j),u=$(j,"DIV",{class:!0,"data-svelte-h":!0}),Ae(u)!=="svelte-fdu697"&&(u.innerHTML=f),j.forEach(c),_=S(L),k=$(L,"BUTTON",{class:!0});var ee=w(k);D=$(ee,"DIV",{class:!0});var X=w(D);H=re(X,T),X.forEach(c),I=S(ee),y=$(ee,"DIV",{class:!0,"data-svelte-h":!0}),Ae(y)!=="svelte-pmq9to"&&(y.innerHTML=g),ee.forEach(c),L.forEach(c),U.forEach(c),this.h()},h(){d(t,"id","prompts-import-input"),d(t,"type","file"),d(t,"accept",".json"),t.hidden=!0,d(o,"class","self-center mr-2 font-medium line-clamp-1"),d(u,"class","self-center"),d(a,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),d(D,"class","self-center mr-2 font-medium line-clamp-1"),d(y,"class","self-center"),d(k,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),d(r,"class","flex space-x-2"),d(e,"class","flex justify-end w-full mb-3")},m(R,U){P(R,e,U),m(e,r),m(r,t),n[25](t),m(r,l),m(r,a),m(a,o),m(o,i),m(a,h),m(a,u),m(r,_),m(r,k),m(k,D),m(D,H),m(k,I),m(k,y),V||(x=[pe(t,"change",n[26]),pe(t,"change",n[27]),pe(a,"click",n[28]),pe(k,"click",n[29])],V=!0)},p(R,U){U[0]&256&&s!==(s=R[8].t("Import Prompts")+"")&&le(i,s),U[0]&256&&T!==(T=R[8].t("Export Prompts")+"")&&le(H,T)},d(R){R&&c(e),n[25](null),V=!1,rt(x)}}}function We(n){let e,r,t=n[8].t("Made by Open WebUI Community")+"",l,a,o,s,i,h=n[8].t("Discover a prompt")+"",u,f,_,k=n[8].t("Discover, download, and explore custom prompts")+"",D,T,H,I,y,g;return y=new bt({}),{c(){e=v("div"),r=v("div"),l=te(t),a=C(),o=v("a"),s=v("div"),i=v("div"),u=te(h),f=C(),_=v("div"),D=te(k),T=C(),H=v("div"),I=v("div"),Z(y.$$.fragment),this.h()},l(V){e=$(V,"DIV",{class:!0});var x=w(e);r=$(x,"DIV",{class:!0});var R=w(r);l=re(R,t),R.forEach(c),a=S(x),o=$(x,"A",{class:!0,href:!0,target:!0});var U=w(o);s=$(U,"DIV",{class:!0});var L=w(s);i=$(L,"DIV",{class:!0});var j=w(i);u=re(j,h),j.forEach(c),f=S(L),_=$(L,"DIV",{class:!0});var Y=w(_);D=re(Y,k),Y.forEach(c),L.forEach(c),T=S(U),H=$(U,"DIV",{});var ee=w(H);I=$(ee,"DIV",{});var X=w(I);G(y.$$.fragment,X),X.forEach(c),ee.forEach(c),U.forEach(c),x.forEach(c),this.h()},h(){d(r,"class","text-xl font-medium mb-1 line-clamp-1"),d(i,"class","font-semibold line-clamp-1"),d(_,"class","text-sm line-clamp-1"),d(s,"class","self-center"),d(o,"class","flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition"),d(o,"href","https://openwebui.com/#open-webui-community"),d(o,"target","_blank"),d(e,"class","my-16")},m(V,x){P(V,e,x),m(e,r),m(r,l),m(e,a),m(e,o),m(o,s),m(s,i),m(i,u),m(s,f),m(s,_),m(_,D),m(o,T),m(o,H),m(H,I),Q(y,I,null),g=!0},p(V,x){(!g||x[0]&256)&&t!==(t=V[8].t("Made by Open WebUI Community")+"")&&le(l,t),(!g||x[0]&256)&&h!==(h=V[8].t("Discover a prompt")+"")&&le(u,h),(!g||x[0]&256)&&k!==(k=V[8].t("Discover, download, and explore custom prompts")+"")&&le(D,k)},i(V){g||(A(y.$$.fragment,V),g=!0)},o(V){B(y.$$.fragment,V),g=!1},d(V){V&&c(e),K(y)}}}function jt(n){let e,r,t,l,a,o;document.title=e=`
		`+n[8].t("Prompts")+" | "+n[9]+`
	`;const s=[Mt,At],i=[];function h(u,f){return u[3]?0:1}return t=h(n),l=i[t]=s[t](n),{c(){r=C(),l.c(),a=ge()},l(u){Ye("svelte-1bq1zi1",document.head).forEach(c),r=S(u),l.l(u),a=ge()},m(u,f){P(u,r,f),i[t].m(u,f),P(u,a,f),o=!0},p(u,f){(!o||f[0]&768)&&e!==(e=`
		`+u[8].t("Prompts")+" | "+u[9]+`
	`)&&(document.title=e);let _=t;t=h(u),t===_?i[t].p(u,f):($e(),B(i[_],1,1,()=>{i[_]=null}),we(),l=i[t],l?l.p(u,f):(l=i[t]=s[t](u),l.c()),A(l,1),l.m(a.parentNode,a))},i(u){o||(A(l),o=!0)},o(u){B(l),o=!1},d(u){u&&(c(r),c(a)),i[t].d(u)}}}const Lt=()=>{};function Ot(n,e,r){let t,l,a,o;de(n,nt,b=>r(9,l=b)),de(n,at,b=>r(10,a=b)),de(n,ot,b=>r(11,o=b));const{saveAs:s}=lt,i=Je("i18n");de(n,i,b=>r(8,t=b));let h,u=!1,f="",_="",k=[],D=!1,T=null,H=[];const I=async b=>{Te.success(t.t("Redirecting you to Open WebUI Community"));const W="https://openwebui.com",se=await window.open(`${W}/prompts/create`,"_blank");window.addEventListener("message",q=>{q.origin===W&&q.data==="loaded"&&se.postMessage(JSON.stringify(b),"*")},!1)},y=async b=>{sessionStorage.prompt=JSON.stringify(b),st("/workspace/prompts/create")},g=async b=>{let W=new Blob([JSON.stringify([b])],{type:"application/json"});s(W,`prompt-export-${Date.now()}.json`)},V=async b=>{const W=b.command;await it(localStorage.token,W),await x()},x=async()=>{r(1,k=await Be(localStorage.token)),await Ue.set(await je(localStorage.token))};et(async()=>{await x(),r(3,u=!0)});function R(b){D=b,r(5,D)}const U=()=>{V(T)};function L(){_=this.value,r(0,_)}const j=b=>{I(b)},Y=b=>{y(b)},ee=b=>{g(b)},X=async b=>{r(6,T=b),r(5,D=!0)};function ie(b){ke[b?"unshift":"push"](()=>{h=b,r(2,h)})}function ae(){f=this.files,r(4,f)}const oe=()=>{console.log(f);const b=new FileReader;b.onload=async W=>{const se=JSON.parse(W.target.result);console.log(se);for(const q of se)await ft(localStorage.token,{command:q.command.charAt(0)==="/"?q.command.slice(1):q.command,title:q.title,content:q.content}).catch(N=>(Te.error(`${N}`),null));r(1,k=await Be(localStorage.token)),await Ue.set(await je(localStorage.token)),r(4,f=[]),r(2,h.value="",h)},b.readAsText(f[0])},O=()=>{h.click()},M=async()=>{let b=new Blob([JSON.stringify(k)],{type:"application/json"});s(b,`prompts-export-${Date.now()}.json`)};return n.$$.update=()=>{n.$$.dirty[0]&3&&r(7,H=k.filter(b=>_===""||b.command.includes(_)))},[_,k,h,u,f,D,T,H,t,l,a,o,s,i,I,y,g,V,R,U,L,j,Y,ee,X,ie,ae,oe,O,M]}class zt extends ye{constructor(e){super(),De(this,e,Ot,jt,be,{},null,[-1,-1])}}function Rt(n){let e,r;return e=new zt({}),{c(){Z(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,l){Q(e,t,l),r=!0},p:Ee,i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){B(e.$$.fragment,t),r=!1},d(t){K(e,t)}}}class dr extends ye{constructor(e){super(),De(this,e,null,Rt,be,{})}}export{dr as component};
//# sourceMappingURL=29.r953p3L1.js.map
