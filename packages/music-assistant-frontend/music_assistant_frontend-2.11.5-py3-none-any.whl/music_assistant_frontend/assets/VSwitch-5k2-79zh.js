import{V as ne,m as ge}from"./VTextField-Cco-YJDX.js";import{s as re,w as Q,g as de,p as te,aG as ye,x as K,q as z,c as b,c7 as Ve,c5 as ke,A as fe,B as a,D as I,aB as we,bR as be,aC as Ce,cn as Pe,ca as oe,cb as Z,cp as ie,P as Se,cq as xe,bS as Ae,G as $,ak as ee,am as De,a1 as Ie,X as ue,bl as Te,cd as Be,F as ve,al as Fe,cr as _e,bJ as Re,c3 as Le,cl as Ee,cs as Oe}from"./index-B1-NcwUi.js";import{c as Me,a as Ue,u as qe,V as se,h as ce,i as He,m as Ke}from"./VCheckboxBtn-D0e0hPpb.js";import{V as Ne}from"./VVirtualScroll-D-wPh9N4.js";import{b as $e}from"./VChip-DM7RmZPX.js";import{f as ze}from"./VBtn-bKB7410c.js";function je(e,O){const l=re(!1);let c;function r(s){cancelAnimationFrame(c),l.value=!0,c=requestAnimationFrame(()=>{c=requestAnimationFrame(()=>{l.value=!1})})}async function p(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const o=Q(l,()=>{o(),s()})}else s()})}async function C(s){var T,B;if(s.key==="Tab"&&((T=O.value)==null||T.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const o=(B=e.value)==null?void 0:B.$el;if(!o)return;(s.key==="Home"||s.key==="End")&&o.scrollTo({top:s.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await p();const y=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const i=o.getBoundingClientRect().top;for(const V of y)if(V.getBoundingClientRect().top>=i){V.focus();break}}else{const i=o.getBoundingClientRect().bottom;for(const V of[...y].reverse())if(V.getBoundingClientRect().bottom<=i){V.focus();break}}}return{onScrollPassive:r,onKeydown:C}}const Ge=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ae,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...xe({itemChildren:!1})},"Select"),We=te({...Ge(),...Ce(ge({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...be({transition:{component:Pe}})},"VSelect"),lt=de()({name:"VSelect",props:We(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,O){let{slots:l}=O;const{t:c}=ye(),r=K(),p=K(),C=K(),s=z(e,"menu"),o=b({get:()=>s.value,set:t=>{var n;s.value&&!t&&((n=p.value)!=null&&n.Î¨openChildren.size)||(s.value=t)}}),{items:y,transformIn:T,transformOut:B}=Ve(e),i=z(e,"modelValue",[],t=>T(t===null?[null]:ke(t)),t=>{const n=B(t);return e.multiple?n:n[0]??null}),V=b(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),M=Me(e),j=b(()=>i.value.map(t=>t.value)),k=re(!1),F=b(()=>o.value?e.closeText:e.openText);let P="",_;const S=b(()=>e.hideSelected?y.value.filter(t=>!i.value.some(n=>e.valueComparator(n,t))):y.value),E=b(()=>e.hideNoData&&!S.value.length||M.isReadonly.value||M.isDisabled.value),G=b(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),R=K(),W=je(R,r);function J(t){e.openOnClear&&(o.value=!0)}function N(){E.value||(o.value=!o.value)}function U(t){oe(t)&&x(t)}function x(t){var w,u;if(!t.key||M.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(o.value=!0),["Escape","Tab"].includes(t.key)&&(o.value=!1),t.key==="Home"?(w=R.value)==null||w.focus("first"):t.key==="End"&&((u=R.value)==null||u.focus("last"));const n=1e3;if(!oe(t))return;const d=performance.now();d-_>n&&(P=""),P+=t.key.toLowerCase(),_=d;const D=y.value.find(f=>f.title.toLowerCase().startsWith(P));if(D!==void 0){i.value=[D];const f=S.value.indexOf(D);Z&&window.requestAnimationFrame(()=>{var v;f>=0&&((v=C.value)==null||v.scrollToIndex(f))})}}function A(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const d=i.value.findIndex(w=>e.valueComparator(w.value,t.value)),D=n??!~d;if(~d){const w=D?[...i.value,t]:[...i.value];w.splice(d,1),i.value=w}else D&&(i.value=[...i.value,t])}else{const d=n!==!1;i.value=d?[t]:[],Se(()=>{o.value=!1})}}function g(t){var n;(n=R.value)!=null&&n.$el.contains(t.relatedTarget)||(o.value=!1)}function X(){var t;e.eager&&((t=C.value)==null||t.calculateVisibleItems())}function Y(){var t;k.value&&((t=r.value)==null||t.focus())}function q(t){k.value=!0}function me(t){if(t==null)i.value=[];else if(ie(r.value,":autofill")||ie(r.value,":-webkit-autofill")){const n=y.value.find(d=>d.title===t);n&&A(n)}else r.value&&(r.value.value="")}return Q(o,()=>{if(!e.hideSelected&&o.value&&i.value.length){const t=S.value.findIndex(n=>i.value.some(d=>e.valueComparator(d.value,n.value)));Z&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=C.value)==null||n.scrollToIndex(t))})}}),Q(()=>e.items,(t,n)=>{o.value||k.value&&!n.length&&t.length&&(o.value=!0)}),fe(()=>{const t=!!(e.chips||l.chip),n=!!(!e.hideNoData||S.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),d=i.value.length>0,D=ne.filterProps(e),w=d||!k.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(ne,I({ref:r},D,{modelValue:i.value.map(u=>u.props.value).join(", "),"onUpdate:modelValue":me,focused:k.value,"onUpdate:focused":u=>k.value=u,validationValue:i.externalValue,counterValue:V.value,dirty:d,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":i.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:w,"onClick:clear":J,"onMousedown:control":N,onBlur:g,onKeydown:x,"aria-label":c(F.value),title:c(F.value)}),{...l,default:()=>a($,null,[a(De,I({ref:p,modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:X,onAfterLeave:Y},G.value),{default:()=>[n&&a(Ie,I({ref:R,selected:j.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:u=>u.preventDefault(),onKeydown:U,onFocusin:q,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},W,e.listProps),{default:()=>{var u,f,v;return[(u=l["prepend-item"])==null?void 0:u.call(l),!S.value.length&&!e.hideNoData&&(((f=l["no-data"])==null?void 0:f.call(l))??a(ue,{key:"no-data",title:c(e.noDataText)},null)),a(Ne,{ref:C,renderless:!0,items:S.value},{default:L=>{var ae;let{item:h,index:H,itemRef:m}=L;const le=I(h.props,{ref:m,key:h.value,onClick:()=>A(h,null)});return((ae=l.item)==null?void 0:ae.call(l,{item:h,index:H,props:le}))??a(ue,I(le,{role:"option"}),{prepend:he=>{let{isSelected:pe}=he;return a($,null,[e.multiple&&!e.hideSelected?a(Ue,{key:h.value,modelValue:pe,ripple:!1,tabindex:"-1"},null):void 0,h.props.prependAvatar&&a(Te,{image:h.props.prependAvatar},null),h.props.prependIcon&&a(ee,{icon:h.props.prependIcon},null)])}})}}),(v=l["append-item"])==null?void 0:v.call(l)]}})]}),i.value.map((u,f)=>{function v(m){m.stopPropagation(),m.preventDefault(),A(u,!1)}const L={"onClick:close":v,onKeydown(m){m.key!=="Enter"&&m.key!==" "||(m.preventDefault(),m.stopPropagation(),v(m))},onMousedown(m){m.preventDefault(),m.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},h=t?!!l.chip:!!l.selection,H=h?Be(t?l.chip({item:u,index:f,props:L}):l.selection({item:u,index:f})):void 0;if(!(h&&!H))return a("div",{key:u.value,class:"v-select__selection"},[t?l.chip?a(ve,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>[H]}):a($e,I({key:"chip",closable:e.closableChips,size:"small",text:u.title,disabled:u.props.disabled},L),null):H??a("span",{class:"v-select__selection-text"},[u.title,e.multiple&&f<i.value.length-1&&a("span",{class:"v-select__selection-comma"},[Fe(",")])])])})]),"append-inner":function(){var L;for(var u=arguments.length,f=new Array(u),v=0;v<u;v++)f[v]=arguments[v];return a($,null,[(L=l["append-inner"])==null?void 0:L.call(l,...f),e.menuIcon?a(ee,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),we({isFocused:k,menu:o,select:A},r)}}),Je=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ke(),...He()},"VSwitch"),at=de()({name:"VSwitch",inheritAttrs:!1,props:Je(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,O){let{attrs:l,slots:c}=O;const r=z(e,"indeterminate"),p=z(e,"modelValue"),{loaderClasses:C}=_e(e),{isFocused:s,focus:o,blur:y}=qe(e),T=K(),B=Z&&window.matchMedia("(forced-colors: active)").matches,i=b(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),V=Re(),M=b(()=>e.id||`switch-${V}`);function j(){r.value&&(r.value=!1)}function k(F){var P,_;F.stopPropagation(),F.preventDefault(),(_=(P=T.value)==null?void 0:P.input)==null||_.click()}return fe(()=>{const[F,P]=Le(l),_=se.filterProps(e),S=ce.filterProps(e);return a(se,I({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},C.value,e.class]},F,_,{modelValue:p.value,"onUpdate:modelValue":E=>p.value=E,id:M.value,focused:s.value,style:e.style}),{...c,default:E=>{let{id:G,messagesId:R,isDisabled:W,isReadonly:J,isValid:N}=E;const U={model:p,isValid:N};return a(ce,I({ref:T},S,{modelValue:p.value,"onUpdate:modelValue":[x=>p.value=x,j],id:G.value,"aria-describedby":R.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:W.value,readonly:J.value,onFocus:o,onBlur:y},P),{...c,default:x=>{let{backgroundColorClasses:A,backgroundColorStyles:g}=x;return a("div",{class:["v-switch__track",B?void 0:A.value],style:g.value,onClick:k},[c["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[c["track-true"](U)]),c["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[c["track-false"](U)])])},input:x=>{let{inputNode:A,icon:g,backgroundColorClasses:X,backgroundColorStyles:Y}=x;return a($,null,[A,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":g||e.loading},e.inset||B?void 0:X.value],style:e.inset?void 0:Y.value},[c.thumb?a(ve,{defaults:{VIcon:{icon:g,size:"x-small"}}},{default:()=>[c.thumb({...U,icon:g})]}):a(Ee,null,{default:()=>[e.loading?a(Oe,{name:"v-switch",active:!0,color:N.value===!1?void 0:i.value},{default:q=>c.loader?c.loader(q):a(ze,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)}):g&&a(ee,{key:String(g),icon:g,size:"x-small"},null)]})])])}})}})}),{}}});export{at as V,lt as a,Ge as m,je as u};
