/*! For license information please see 4462.c2f81456.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[2599,3951,4462],{23951:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var s=n(23441),a=n(88543),l=n(72338),i=n(74325),r=n(96141),o=n(76975),c=n(99159),u=n(57893),d=n(68260),g=n(61539),h=n(57280),p=n(66596),y=n(12221),m=n(1364),x=n(88221),f=n(91043),b=n(8656),j=n(38398),A=n(78502),k=n.n(A),v=n(46976),C=n.n(v),S=n(55093),w=n(33364),T=n(79569);const K=()=>{const{t:e}=(0,w.Bd)(),{token:t}=p.A.useToken(),[n,A]=(0,S.useState)(!1),[v,K]=(0,S.useState)(!1),[I,_]=(0,S.useState)(!1),[q,E]=(0,S.useState)(""),[R,L]=(0,s.Tw)("first"),[D,M]=(0,S.useTransition)(),[B,P]=(0,S.useTransition)(),[F,V]=(0,S.useTransition)();(0,s.CX)();const U=[{title:e("logs.TimeStamp"),dataIndex:"formattedTimeStamp",key:"timeStamp",render:e=>(0,T.jsx)("div",{style:{minWidth:50},children:C().isUndefined(e)?"-":(0,T.jsx)(r.A,{keyword:q,children:e})}),fixed:"left"},{title:e("logs.Status"),dataIndex:"statusCode",key:"status",render:(e,t)=>(0,T.jsx)("div",{style:{minWidth:50},children:C().isUndefined(e)?"-":(0,T.jsx)(r.A,{keyword:q,children:e+" "+t.statusText})})},{title:e("logs.ErrorTitle"),dataIndex:"title",key:"errorTitle",render:e=>(0,T.jsx)("div",{style:{minWidth:50},children:e?(0,T.jsx)(r.A,{keyword:q,children:C().toString(e)}):"-"})},{title:e("logs.ErrorMessage"),dataIndex:"message",key:"errorMessage",render:e=>(0,T.jsx)("div",{style:{minWidth:70},children:e?(0,T.jsx)(r.A,{keyword:q,children:e}):"-"})},{title:e("logs.ErrorType"),dataIndex:"type",key:"errorType",render:e=>(0,T.jsx)("div",{style:{minWidth:60},children:e?(0,T.jsx)(r.A,{keyword:q,children:e}):"-"})},{title:e("logs.Method"),dataIndex:"requestMethod",key:"method",render:e=>(0,T.jsx)("div",{style:{minWidth:60},children:e?(0,T.jsx)(r.A,{keyword:q,children:e}):"-"})},{title:e("logs.RequestUrl"),dataIndex:"requestUrl",key:"requestUrl",render:e=>(0,T.jsx)("div",{style:{minWidth:60},children:e?(0,T.jsx)(r.A,{keyword:q,children:e}):"-"})},{title:e("logs.Parameters"),dataIndex:"requestParameters",key:"requestParameter",render:e=>(0,T.jsx)("div",{style:{minWidth:100},children:e?(0,T.jsx)(r.A,{keyword:q,children:e}):"-"})}],[W,H]=(0,h.A)("backendaiwebui.ErrorLogList.displayedColumnKeys",{defaultValue:U.map((e=>C().toString(e.key)))}),O=(0,S.useMemo)((()=>{const e=JSON.parse(localStorage.getItem("backendaiwebui.logs")||"[]");return C().map(e,(e=>({...e,formattedTimeStamp:k()(e.timestamp).format("ll LTS")})))}),[R]),N=(0,S.useMemo)((()=>{if(C().isEmpty(q))return O;const e=new RegExp(`${C().escapeRegExp(q)}`,"i");return C().filter(O,(t=>C().some(t,((t,n)=>"timestamp"!==n&&e.test(C().toString(t))))))}),[q,O]);return(0,T.jsxs)(l.A,{direction:"column",align:"stretch",children:[(0,T.jsxs)(l.A,{direction:"row",justify:"between",wrap:"wrap",gap:"xs",style:{padding:t.paddingContentVertical,paddingLeft:t.paddingContentHorizontalSM,paddingRight:t.paddingContentHorizontalSM},children:[(0,T.jsxs)(l.A,{direction:"column",align:"start",children:[(0,T.jsx)(y.A.Title,{level:4,style:{margin:0,padding:0},children:e("logs.LogMessages")}),(0,T.jsx)(y.A.Text,{type:"secondary",children:e("logs.UpTo3000Logs")})]}),(0,T.jsxs)(l.A,{direction:"row",gap:"xs",wrap:"wrap",style:{flexShrink:1},children:[(0,T.jsxs)(l.A,{gap:"xs",children:[(0,T.jsx)(m.A,{allowClear:!0,prefix:(0,T.jsx)(o.A,{}),placeholder:e("logs.SearchLogs"),onChange:e=>{P((()=>E(e.target.value)))},style:{width:200}}),(0,T.jsx)(x.A,{onChange:e=>_(e.target.checked),children:e("logs.ShowOnlyError")})]}),(0,T.jsxs)(l.A,{gap:"xs",children:[(0,T.jsx)(f.Ay,{icon:(0,T.jsx)(c.A,{}),loading:D,onClick:()=>{M((()=>L()))},children:e("button.Refresh")}),(0,T.jsx)(f.Ay,{danger:!0,icon:(0,T.jsx)(u.A,{}),onClick:()=>{A(!0)},children:e("button.ClearLogs")})]})]})]}),(0,T.jsx)(b.A,{pagination:{showSizeChanger:!1,style:{marginBottom:0}},loading:!!B&&{indicator:(0,T.jsx)(d.A,{})},scroll:{x:"max-content",y:"calc(100vh - 400px)"},dataSource:I?C().filter(N,(e=>e.isError)):N,columns:U.filter((e=>null===W||void 0===W?void 0:W.includes(C().toString(e.key)))),onRow:e=>({style:{color:e.isError?t.colorError:""}})}),(0,T.jsx)(l.A,{justify:"end",style:{paddingRight:t.paddingXS},children:(0,T.jsx)(f.Ay,{type:"text",icon:(0,T.jsx)(g.A,{}),onClick:()=>{K(!0)}})}),(0,T.jsx)(a.A,{open:n,title:e("dialog.warning.LogDeletion"),okText:e("button.Delete"),okButtonProps:{danger:!0},confirmLoading:F,onOk:()=>{V((()=>{localStorage.removeItem("backendaiwebui.logs"),L(),A(!1)}))},cancelText:e("button.Cancel"),onCancel:()=>A(!1),children:(0,T.jsx)(j.A,{message:e("dialog.warning.CannotBeUndone"),type:"warning"})}),(0,T.jsx)(i.A,{open:v,onRequestClose:e=>{(null===e||void 0===e?void 0:e.selectedColumnKeys)&&H(null===e||void 0===e?void 0:e.selectedColumnKeys),K(!1)},columns:U,displayedColumnKeys:W||[]})]})}},22599:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var s,a=n(23441),l=n(7971),i=n(69949),r=n(88543),o=n(72338),c=n(91043),u=n(8656),d=n(12221),g=n(25913),h=(n(55093),n(33364)),p=n(63821),y=n(79569);const m=e=>{let{onRequestClose:t,...m}=e;const{t:x}=(0,h.Bd)(),[f]=(0,l.U6)(),b=(0,a.CX)(),{data:j}=(0,i.nN)({queryKey:["baiClient.keypair.list",m.open],queryFn:()=>m.open?b.keypair.list(f.email,["access_key","secret_key","is_active"],!0).then((e=>e.keypairs)):null,staleTime:0}),A=null===b||void 0===b?void 0:b.supports("main-access-key"),{user:k}=(0,p.useLazyLoadQuery)(void 0!==s?s:s=n(76768),{email:f.email});return(0,y.jsx)(r.A,{...m,title:x("usersettings.MyKeypairInfo"),centered:!0,onCancel:t,destroyOnClose:!0,width:"auto",footer:[(0,y.jsx)(c.Ay,{onClick:()=>{t()},children:x("button.Close")},"keypairInfoClose")],children:(0,y.jsx)(u.A,{scroll:{x:"max-content"},rowKey:"access_key",dataSource:j,columns:[{title:"#",fixed:"left",render:(e,t,n)=>++n,showSorterTooltip:!1,rowScope:"row"},{title:x("general.AccessKey"),key:"accessKey",dataIndex:"access_key",fixed:"left",render:e=>(0,y.jsxs)(o.A,{direction:"column",align:"start",children:[(0,y.jsx)(d.A.Text,{ellipsis:!0,copyable:!0,children:e}),A&&e===(null===k||void 0===k?void 0:k.main_access_key)&&(0,y.jsx)(g.A,{color:"#457b3b",children:x("credential.MainAccessKey")})]})},{title:x("general.SecretKey"),key:"secretKey",dataIndex:"secret_key",fixed:"left",render:e=>(0,y.jsx)(d.A.Text,{ellipsis:!0,copyable:!0,children:e})}]})})}},12444:(e,t,n)=>{n.d(t,{A:()=>A});var s=n(23441),a=n(69949),l=n(88543),i=n(72338),r=n(68260),o=n(66596),c=n(25951),u=n(91043),d=n(65489),g=n(12221),h=n(55093),p=n(33364),y=n(79569);const m=e=>{let{onRequestClose:t,isRefreshModalPending:n,...h}=e;const{t:m}=(0,p.Bd)(),{token:x}=o.A.useToken(),f=(0,s.CX)(),{data:b}=(0,a.nN)({queryKey:["refreshSSHKeypair",h.open],queryFn:()=>h.open?f.refreshSSHKeypair():null});return(0,y.jsx)(l.A,{title:m("usersettings.SSHKeypairGeneration"),closeIcon:!1,footer:[(0,y.jsx)(c.A,{title:m("button.Confirm"),description:m("usersettings.ClearSSHKeypairInput"),onConfirm:t,children:(0,y.jsx)(u.Ay,{children:m("button.Close")})},"close")],...h,children:(0,y.jsxs)(d.A,{spinning:n,indicator:(0,y.jsx)(r.A,{}),children:[(0,y.jsx)(g.A.Text,{strong:!0,children:m("usersettings.PublicKey")}),(0,y.jsxs)(i.A,{direction:"row",align:"start",justify:"between",children:[(0,y.jsx)(g.A.Paragraph,{children:(0,y.jsx)("pre",{style:{width:430,maxHeight:100,overflowY:"scroll",scrollbarWidth:"none"},children:null===b||void 0===b?void 0:b.ssh_public_key})}),(0,y.jsx)(g.A.Text,{copyable:{text:null===b||void 0===b?void 0:b.ssh_public_key},style:{marginTop:x.margin}})]}),(0,y.jsx)(g.A.Text,{strong:!0,children:m("usersettings.PrivateKey")}),(0,y.jsxs)(i.A,{direction:"row",align:"start",justify:"between",children:[(0,y.jsxs)(g.A.Paragraph,{children:[(0,y.jsx)("pre",{style:{width:430,maxHeight:100,overflowY:"scroll",scrollbarWidth:"none"},children:null===b||void 0===b?void 0:b.ssh_private_key}),(0,y.jsx)(g.A.Text,{type:"danger",children:m("usersettings.SSHKeypairGenerationWarning")})]}),(0,y.jsx)(g.A.Text,{copyable:{text:null===b||void 0===b?void 0:b.ssh_private_key},style:{marginTop:x.margin}})]})]})})};var x=n(79597),f=n(1364);const b=e=>{let{onRequestClose:t,onRequestRefresh:n,...i}=e;const{t:r}=(0,p.Bd)(),o=(0,s.CX)(),c=(0,h.useRef)(null),u=(0,a.ET)({mutationFn:e=>o.postSSHKeypair(e)});return(0,y.jsx)(l.A,{title:r("usersettings.SSHKeypairEnterManually"),okText:r("button.Save"),onOk:()=>{var e;null===(e=c.current)||void 0===e||e.validateFields().then((e=>{u.mutate(e,{onSuccess:()=>{n()}}),t()})).catch((()=>{}))},destroyOnClose:!0,...i,children:(0,y.jsxs)(x.A,{ref:c,preserve:!1,layout:"vertical",requiredMark:"optional",children:[(0,y.jsx)(x.A.Item,{name:"pubkey",label:(0,y.jsx)(g.A.Text,{strong:!0,children:r("usersettings.PublicKey")}),rules:[{required:!0,message:r("settings.InputRequired")}],children:(0,y.jsx)(f.A.TextArea,{rows:5,style:{backgroundColor:"rgba(150, 150, 150, 0.1)"}})}),(0,y.jsx)(x.A.Item,{name:"privkey",label:(0,y.jsx)(g.A.Text,{strong:!0,children:r("usersettings.PrivateKey")}),rules:[{required:!0,message:r("settings.InputRequired")}],children:(0,y.jsx)(f.A.TextArea,{rows:5,style:{backgroundColor:"rgba(150, 150, 150, 0.1)"}})})]})})};var j=n(11956);const A=e=>{let{onRequestClose:t,...n}=e;const{t:r}=(0,p.Bd)(),{token:c}=o.A.useToken(),[d,x]=(0,h.useTransition)(),[f,A]=(0,s.Tw)("initial-fetch"),[k,{toggle:v}]=(0,j.A)(!1),[C,{toggle:S}]=(0,j.A)(!1),w=(0,s.CX)(),{data:T}=(0,a.nN)({queryKey:["fetchSSHKeypair",f],queryFn:()=>w.fetchSSHKeypair()});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.A,{title:r("usersettings.SSHKeypairGeneration"),onCancel:()=>t(),footer:[(0,y.jsx)(u.Ay,{onClick:()=>t(),children:r("button.Close")},"back"),(0,y.jsx)(u.Ay,{type:"primary",onClick:v,children:r("button.Generate")},"generate"),(0,y.jsx)(u.Ay,{type:"primary",onClick:S,children:r("button.EnterManually")},"enterManually")],...n,children:[(0,y.jsx)(g.A.Text,{strong:!0,children:r("usersettings.CurrentSSHPublicKey")}),null!==T&&void 0!==T&&T.ssh_public_key?(0,y.jsxs)(i.A,{direction:"row",align:"start",justify:"between",children:[(0,y.jsx)(g.A.Paragraph,{children:(0,y.jsx)("pre",{style:{width:430,height:270},children:null===T||void 0===T?void 0:T.ssh_public_key})}),(0,y.jsx)(g.A.Text,{copyable:{text:null===T||void 0===T?void 0:T.ssh_public_key},style:{marginTop:c.margin}})]}):(0,y.jsx)(g.A.Paragraph,{children:(0,y.jsx)("pre",{style:{height:270},children:r("usersettings.NoExistingSSHKeypair")})})]}),(0,y.jsx)(m,{open:k,isRefreshModalPending:d,onRequestClose:()=>{v(),x((()=>{A()}))}}),(0,y.jsx)(b,{open:C,onCancel:S,onRequestClose:()=>{S()},onRequestRefresh:()=>{x((()=>{A()}))}})]})}},50514:(e,t,n)=>{n.d(t,{A:()=>w});var s=n(88543),a=n(72338),l=n(66596),i=n(12221),r=n(29759),o=n(88221),c=n(47543),u=n(77946),d=n(55093),g=n(79569);const h=(0,u.rU)((e=>{let{css:t}=e;return{baiSettingItemCheckbox:t`
    .ant-checkbox {
      align-self: flex-start;
      margin-top: 0.2rem;
    }
  `}})),p=e=>{let{type:t,title:n,description:s,children:u,defaultValue:d,value:p,selectProps:y,onChange:m}=e;const{token:x}=l.A.useToken(),{styles:f}=h();return(0,g.jsxs)(a.A,{direction:"column",align:"start",gap:"xxs",children:[(0,g.jsxs)(a.A,{direction:"row",gap:"xxs",children:[(0,g.jsx)(i.A.Text,{strong:!0,style:{fontSize:x.fontSize},children:n}),void 0!==p&&null!==p&&d!==p&&(0,g.jsx)(r.A,{dot:!0,status:"warning"})]}),"custom"===t&&(0,g.jsxs)(g.Fragment,{children:[s,u]}),"checkbox"===t&&(0,g.jsx)(o.A,{checked:p,onChange:m,className:f.baiSettingItemCheckbox,children:s}),"select"===t&&(0,g.jsxs)(g.Fragment,{children:[s,(0,g.jsx)(c.A,{value:p,popupMatchSelectWidth:!1,onChange:m,...y})]})]})};var y=n(76975),m=n(30344),x=n(11956),f=n(1364),b=n(91043),j=n(11824),A=n(38398),k=n(46976),v=n.n(k),C=n(33364);const S=(0,u.rU)((e=>{let{css:t}=e;return{TabStyles:t`
    .ant-tabs-tab-active {
      font-weight: var(--token-fontWeightSuperStrong, 700);
    }
    .ant-typography-secondary {
      font-weight: normal !important;
    }
  `}})),w=e=>{let{settingGroup:t,tabDirection:n="left"}=e;const{t:r}=(0,C.Bd)(),{token:c}=l.A.useToken(),{styles:u}=S(),[h,k]=(0,d.useState)(""),[w,T]=(0,d.useState)(!1),[K,{toggle:I}]=(0,x.A)(!1),_=(0,d.useMemo)((()=>[{title:r("general.All"),settingItems:v().flatMap(t,(e=>e.settingItems))},...t]),[t]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(a.A,{direction:"column",gap:"md",align:"stretch",style:{padding:c.paddingContentHorizontal,maxWidth:c.screenLG},children:[(0,g.jsxs)(a.A,{justify:"start",gap:"xs",children:[(0,g.jsx)(f.A,{prefix:(0,g.jsx)(y.A,{}),placeholder:r("settings.SearchPlaceholder"),onChange:e=>k(e.target.value),value:h}),(0,g.jsx)(o.A,{onChange:e=>T(e.target.checked),style:{whiteSpace:"nowrap"},children:r("settings.ShowOnlyChanged")}),(0,g.jsx)(b.Ay,{icon:(0,g.jsx)(m.A,{}),onClick:()=>I(),children:r("button.Reset")})]}),(0,g.jsx)(j.A,{className:u.TabStyles,tabPosition:n?"left":"top",tabBarStyle:{minWidth:200},items:v().map(_,(e=>{const t=e.settingItems.filter((e=>(!w||(e=>null!==e.value&&void 0!==e.value&&e.value!==e.defaultValue)(e))&&(e=>e.title.toLowerCase().includes(h.toLowerCase())||"string"===typeof e.description&&e.description.toLowerCase().includes(h.toLowerCase()))(e)));return{key:e.title,label:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.A.Text,{children:e.title}),(0,g.jsx)(i.A.Text,{type:"secondary",children:` (${t.length})`})]}),children:(0,g.jsx)(a.A,{direction:"column",gap:"lg",align:"start",children:t.map((e=>(0,g.jsx)(p,{...e})))})}}))})]}),(0,g.jsx)(s.A,{open:K,title:r("dialog.ask.DoYouWantToResetChanges"),okText:r("button.Reset"),okButtonProps:{danger:!0},onOk:()=>{v().flatMap(t,(e=>e.settingItems)).forEach((e=>{(null===e||void 0===e?void 0:e.setValue)&&e.setValue(e.defaultValue)})),I()},cancelText:r("button.Cancel"),onCancel:()=>I(),children:(0,g.jsx)(A.A,{showIcon:!0,message:r("dialog.warning.CannotBeUndone"),type:"warning"})})]})}},32981:(e,t,n)=>{n.d(t,{A:()=>k});var s=n(72375),a=n(69949),l=n(85730),i=n(30146),r=n(92240),o=n(79569);const c=e=>{let{value:t,onChange:n,language:s="shell",editable:a=!1,showLineNumbers:c=!0,lineWrapping:u=!1,...d}=e;const[g,h]=(0,l.A)({defaultValue:"",value:t,onChange:n}),p=[(0,i.rI)(s)];return(0,o.jsx)(r.Ay,{theme:"dark",extensions:u?[r.Lz.lineWrapping,...p]:p,editable:a,readOnly:!a,basicSetup:{lineNumbers:c},...d,value:g,onChange:(e,t)=>h(e)})};var u=n(88543),d=n(72338),g=n(57893),h=n(67089),p=n(35364),y=n(91043),m=n(12221),x=n(47543),f=n(46976),b=n.n(f),j=n(55093),A=n(33364);const k=e=>{let{onRequestClose:t,shellInfo:n,...l}=e;const{t:i}=(0,A.Bd)(),r=h.A.useApp(),[f,k]=(0,j.useState)(".bashrc"),[v,C]=(0,j.useState)(""),[S,w]=(0,j.useState)([]),T=(0,s.QE)(),K=(0,a.ET)({mutationFn:e=>T({method:"POST",url:"/user-config/bootstrap-script",body:{script:e}})}),I=(0,a.ET)({mutationFn:e=>T({method:"PATCH",url:"/user-config/dotfiles",body:{data:e,path:f,permission:"644"}})}),_=(0,a.ET)({mutationFn:e=>T({method:"POST",url:"/user-config/dotfiles",body:{path:f,data:e,permission:"644"}})}),q=(0,a.ET)({mutationFn:()=>T({method:"DELETE",url:"/user-config/dotfiles",body:{path:f}})}),E=()=>{"bootstrap"===n&&T({method:"GET",url:"/user-config/bootstrap-script"}).then((e=>{C(e)})),"userconfig"===n&&T({method:"GET",url:"/user-config/dotfiles"}).then((e=>{const t=b().find(e,{path:f});C((null===t||void 0===t?void 0:t.data)||""),w(e)}))};(0,j.useMemo)((()=>{E()}),[n]);const R=function(){let{closeAfter:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("bootstrap"===n){if(!v)return void r.message.error(i("usersettings.BootstrapScriptEmpty"));K.mutate(v,{onSuccess:n=>{r.message.success(i("usersettings.BootstrapScriptUpdated")),e&&t()},onError:e=>{r.message.error(e.message),console.error(e)}})}if("userconfig"===n){b().find(S,{path:f})?I.mutate(v,{onSuccess:n=>{r.message.success(i("usersettings.DescScriptUpdated")),e?t():E()},onError:e=>{r.message.error(i("usersettings.DescNewUserConfigFileCreated")),console.error(e)}}):_.mutate(v,{onSuccess:n=>{r.message.success(i("usersettings.DescScriptCreated")),e?t():E()},onError:e=>{r.message.error(i("usersettings.DescNewUserConfigFileCreated")),console.error(e)}})}},L=()=>{"bootstrap"===n&&K.mutate("",{onSuccess:e=>{r.message.success(i("usersettings.BootstrapScriptDeleted")),t()},onError:e=>{r.message.error(e.message),console.error(e)}}),"userconfig"===n&&q.mutate(void 0,{onSuccess:e=>{r.message.success(`${i("usersettings.DescScriptDeleted")}${f}`),t()},onError:e=>{r.message.error(e.message),console.error(e)}})};return(0,o.jsx)(u.A,{width:800,title:i("bootstrap"===n?"usersettings.EditBootstrapScript":"usersettings.EditUserConfigScript"),onCancel:()=>t(),okText:i("button.Save"),footer:[(0,o.jsxs)(d.A,{justify:"between",style:{width:"100%"},children:[(0,o.jsx)(d.A,{children:(0,o.jsx)(p.A.Button,{type:"default",danger:!0,style:{width:"fit-content"},menu:{items:[{key:"reset",label:i("button.Reset"),onClick:()=>{r.modal.confirm({title:i("dialog.title.LetsDouble-Check"),content:i("dialog.ask.DoYouWantToResetChanges"),onOk:()=>{"bootstrap"===n&&C(""),"userconfig"===n&&C("")}})},danger:!0}]},onClick:()=>{r.modal.confirm({title:i("dialog.title.LetsDouble-Check"),content:i("dialog.ask.DoYouWantToDeleteSomething",{name:"bootstrap"===n?"Bootstrap script":`${f}`}),onOk:L})},children:(0,o.jsx)(g.A,{})})}),(0,o.jsxs)(d.A,{gap:"sm",children:[(0,o.jsx)(y.Ay,{onClick:()=>t(),style:{width:"fit-content"},children:i("button.Cancel")},"cancel"),(0,o.jsx)(p.A.Button,{type:"primary",onClick:()=>{R()},style:{width:"fit-content"},menu:{items:[{key:"save",label:i("button.SaveWithoutClose"),onClick:()=>R({closeAfter:!1})}]},children:i("button.SaveAndClose")},"submit")]})]})],destroyOnClose:!0,...l,children:(0,o.jsxs)(d.A,{direction:"column",align:"stretch",gap:"sm",children:[(0,o.jsx)(m.A.Text,{children:i("usersettings.BootstrapScriptDescription")}),"userconfig"===n&&(0,o.jsx)(x.A,{defaultValue:".bashrc",onChange:e=>{const t=b().find(S,{path:e});C((null===t||void 0===t?void 0:t.data)||""),k(e)},options:[{value:".bashrc"},{value:".zshrc"},{value:".tmux.conf.local"},{value:".vimrc"},{value:".Renviron"}],style:{width:"200px"}}),(0,o.jsx)(c,{onChange:e=>C(e),language:"shell",editable:!0,value:v})]})})}},74325:(e,t,n)=>{n.d(t,{A:()=>p});var s=n(88543),a=n(76975),l=n(66596),i=n(79597),r=n(1364),o=n(88221),c=n(46976),u=n.n(c),d=n(55093),g=n(33364),h=n(79569);const p=e=>{let{open:t,onRequestClose:n,columns:c,displayedColumnKeys:p,...y}=e;const m=(0,d.useRef)(null),{t:x}=(0,g.Bd)(),{token:f}=l.A.useToken(),b=c.map((e=>{return"string"===typeof e.title?{label:e.title,value:u().toString(e.key)}:"object"===typeof e.title&&"props"in e.title?{label:(t=e.title,d.Children.map(t.props.children,(e=>{if("string"===typeof e)return e}))),value:u().toString(e.key)}:{label:void 0,value:u().toString(e.key)};var t}));return(0,h.jsx)(s.A,{title:x("table.SettingTable"),open:t,destroyOnClose:!0,centered:!0,onOk:()=>{var e;null===(e=m.current)||void 0===e||e.validateFields().then((e=>{n(e)})).catch((()=>{}))},onCancel:()=>{n()},...y,children:(0,h.jsxs)(i.A,{ref:m,preserve:!1,initialValues:{selectedColumnKeys:p||b.map((e=>e.value))},layout:"vertical",children:[(0,h.jsx)(i.A.Item,{name:"searchInput",label:x("table.SelectColumnToDisplay"),style:{marginBottom:0},children:(0,h.jsx)(r.A,{prefix:(0,h.jsx)(a.A,{}),style:{marginBottom:f.marginSM},placeholder:x("table.SearchTableColumn")})}),(0,h.jsx)(i.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.searchInput!==t.searchInput,children:e=>{let{getFieldValue:t}=e;const n=t("searchInput")?u().toLower(t("searchInput")):void 0,s=b.map((e=>u().toLower(u().toString(e.label)).includes(n||"")?e:{...e,style:{display:"none"}}));return(0,h.jsx)(i.A.Item,{name:"selectedColumnKeys",style:{height:220,overflowY:"auto"},children:(0,h.jsx)(o.A.Group,{options:s,style:{flexDirection:"column"}})})}})]})})}},76768:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"}],t=[{kind:"Variable",name:"email",variableName:"email"}],n={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"KeypairInfoModalQuery",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,s],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"KeypairInfoModalQuery",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"352a943226b02e137a3fcd32fa0ae22a",id:null,metadata:{},name:"KeypairInfoModalQuery",operationKind:"query",text:'query KeypairInfoModalQuery(\n  $email: String\n) {\n  user(email: $email) {\n    email\n    main_access_key @since(version: "23.09.7")\n    id\n  }\n}\n'}}}();s.hash="70097c005c8abc07e233048a68db1273";const a=s},14462:(e,t,n)=>{n.a(e,(async(e,s)=>{try{n.r(t),n.d(t,{default:()=>j});var a=n(23951),l=n(22599),i=n(12444),r=n(50514),o=n(32981),c=n(39768),u=n(61539),d=n(11956),g=n(91043),h=n(72173),p=n(55093),y=n(33364),m=n(2647),x=n(79569),f=e([c]);c=(f.then?(await f)():f)[0];const b=(0,m.withDefault)(m.StringParam,"general"),j=()=>{const{t:e}=(0,y.Bd)(),[t,n]=(0,m.useQueryParam)("tab",b),[s,f]=(0,c.q)("desktop_notification"),[j,A]=(0,c.q)("classic_session_launcher"),[k,v]=(0,c.q)("compact_sidebar"),[C,S]=(0,c.q)("selected_language"),[,w]=(0,c.f)("language"),[T,K]=(0,c.q)("automatic_update_check"),[I,_]=(0,c.q)("auto_logout"),[q,{toggle:E}]=(0,d.A)(!1),[R,{toggle:L}]=(0,d.A)(!1),[D,M]=(0,c.q)("preserve_login"),[B,P]=(0,p.useState)("bootstrap"),[F,{toggle:V}]=(0,d.A)(!1),U=[{title:e("usersettings.Preferences"),settingItems:[{type:"checkbox",title:e("usersettings.DesktopNotification"),description:(0,x.jsx)(y.x6,{i18nKey:"usersettings.DescDesktopNotification"}),defaultValue:!1,value:s,setValue:f,onChange:e=>{f(e.target.checked)}},{type:"checkbox",title:e("usersettings.UseCompactSidebar"),description:(0,x.jsx)(y.x6,{i18nKey:"usersettings.DescUseCompactSidebar"}),defaultValue:!1,value:k,setValue:v,onChange:e=>{v(e.target.checked)}},{type:"select",title:e("usersettings.Language"),description:e("usersettings.DescLanguage"),selectProps:{options:[{label:e("language.OSDefault"),value:"default"},{label:e("language.English"),value:"en"},{label:e("language.Korean"),value:"ko"},{label:e("language.Brazilian"),value:"pt-BR"},{label:e("language.Chinese"),value:"zh-CN"},{label:e("language.Chinese (Simplified)"),value:"zh-TW"},{label:e("language.French"),value:"fr"},{label:e("language.Finnish"),value:"fi"},{label:e("language.German"),value:"de"},{label:e("language.Greek"),value:"el"},{label:e("language.Indonesian"),value:"id"},{label:e("language.Italian"),value:"it"},{label:e("language.Japanese"),value:"ja"},{label:e("language.Mongolian"),value:"mn"},{label:e("language.Polish"),value:"pl"},{label:e("language.Portuguese"),value:"pt"},{label:e("language.Russian"),value:"ru"},{label:e("language.Spanish"),value:"es"},{label:e("language.Thai"),value:"th"},{label:e("language.Turkish"),value:"tr"},{label:e("language.Vietnamese"),value:"vi"}],showSearch:!0},defaultValue:"default",value:C||"default",setValue:S,onChange:e=>{S(e);const t=globalThis.navigator.language.split("-")[0],n=new CustomEvent("language-changed",{detail:{language:"default"===e?t:e}});w("default"===e?t:e),document.dispatchEvent(n),console.log(globalThis.backendaioptions.get("selected_language"))}},...[globalThis.isElectron&&{type:"checkbox",title:e("usersettings.KeepLoginSessionInformation"),description:(0,x.jsx)(y.x6,{i18nKey:"usersettings.DescKeepLoginSessionInformation"}),defaultValue:!1,value:D,onChange:e=>{M(e.target.checked)}}].filter(Boolean),{type:"checkbox",title:e("usersettings.AutomaticUpdateCheck"),description:(0,x.jsx)(y.x6,{i18nKey:"usersettings.DescAutomaticUpdateCheck"}),defaultValue:!1,value:T,setValue:K,onChange:e=>{K(e.target.checked)}},{type:"checkbox",title:e("usersettings.AutoLogout"),description:e("usersettings.DescAutoLogout"),defaultValue:!1,value:I,setValue:_,onChange:e=>{_(e.target.checked)}},{type:"custom",title:e("usersettings.MyKeypairInfo"),description:e("usersettings.DescMyKeypairInfo"),children:(0,x.jsx)(g.Ay,{icon:(0,x.jsx)(u.A,{}),onClick:()=>E(),children:e("button.Config")})},{type:"custom",title:e("usersettings.SSHKeypairManagement"),description:e("usersettings.DescSSHKeypairManagement"),children:(0,x.jsx)(g.Ay,{icon:(0,x.jsx)(u.A,{}),onClick:()=>L(),children:e("button.Config")})},{type:"checkbox",title:e("usersettings.ClassicSessionLauncher"),description:e("usersettings.DescClassicSessionLauncher"),defaultValue:!1,value:j,onChange:e=>{A(e.target.checked)}}]},{title:e("usersettings.ShellEnvironments"),settingItems:[{type:"custom",title:e("usersettings.EditBootstrapScript"),children:(0,x.jsx)(g.Ay,{icon:(0,x.jsx)(u.A,{}),onClick:()=>{P("bootstrap"),V()},children:e("button.Config")})},{type:"custom",title:e("usersettings.EditUserConfigScript"),children:(0,x.jsx)(g.Ay,{icon:(0,x.jsx)(u.A,{}),onClick:()=>{P("userconfig"),V()},children:e("button.Config")})}]}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(h.A,{activeTabKey:t,onTabChange:e=>n(e),tabList:[{key:"general",label:e("usersettings.General")},{key:"logs",label:e("usersettings.Logs")}],bodyStyle:{padding:0},children:["general"===t&&(0,x.jsx)(r.A,{settingGroup:U}),"logs"===t&&(0,x.jsx)(a.default,{})]}),(0,x.jsx)(l.default,{open:q,onRequestClose:E}),(0,x.jsx)(i.A,{open:R,onRequestClose:L}),B&&(0,x.jsx)(o.A,{open:F,shellInfo:B,onRequestClose:()=>{V()},afterClose:()=>{P(void 0)}})]})};s()}catch(b){s(b)}}))}}]);
//# sourceMappingURL=4462.c2f81456.chunk.js.map