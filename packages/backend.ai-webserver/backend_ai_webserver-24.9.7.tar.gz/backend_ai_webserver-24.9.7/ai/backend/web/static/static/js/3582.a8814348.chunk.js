"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[3582],{3582:(e,n,a)=>{a.a(e,(async(e,l)=>{try{a.r(n),a.d(n,{default:()=>m});var s=a(88543),i=a(85662),o=a(33835),r=a(16954),t=a(55093),d=a(2647),u=a(79569),c=e([o]);o=(c.then?(await c)():c)[0];const m=()=>{const[e,n]=(0,d.useQueryParam)("sessionDetail",d.StringParam),[a,l]=(0,t.useState)();return(0,t.useEffect)((()=>{const e=e=>{l(e.detail)};return document.addEventListener("bai-open-session-log",e),()=>{document.removeEventListener("bai-open-session-log",e)}}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.A,{open:!e,sessionId:e||void 0,onClose:()=>{n(null,"replaceIn")}}),a&&(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(s.A,{open:!0,width:"100%",styles:{header:{width:"100%"},body:{height:"calc(100vh - 100px)",maxHeight:"calc(100vh - 100px)"}},footer:null,children:(0,u.jsx)(r.A,{active:!0})}),children:(0,u.jsx)(i.A,{sessionId:a,afterClose:()=>{l(void 0)}})})]})};l()}catch(m){l(m)}}))},85662:(e,n,a)=>{a.d(n,{A:()=>d});var l,s=a(81530),i=a(61823),o=a(55093),r=a(63821),t=a(79569);const d=e=>{let{sessionId:n,afterClose:d}=e;const u=(0,s.hd)(),[c,m]=(0,o.useState)(!0),{compute_session_node:g}=(0,r.useLazyLoadQuery)(void 0!==l?l:l=a(14601),{sessionId:n,project_id:u.id});return g&&(0,t.jsx)(i.A,{maskTransitionName:c?"":void 0,transitionName:c?"":void 0,sessionFrgmt:g,open:c,onCancel:()=>{m(!1)},afterClose:()=>{null===d||void 0===d||d()}})}},14601:(e,n,a)=>{a.r(n),a.d(n,{default:()=>s});const l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"project_id"},n={defaultValue:null,kind:"LocalArgument",name:"sessionId"},a=[{kind:"Variable",name:"id",variableName:"sessionId"},{kind:"Variable",name:"project_id",variableName:"project_id"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null};return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"ContainerLogModalWithLazyQueryLoaderQuery",selections:[{alias:null,args:a,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ContainerLogModalFragment"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"ContainerLogModalWithLazyQueryLoaderQuery",selections:[{alias:null,args:a,concreteType:"ComputeSessionNode",kind:"LinkedField",name:"compute_session_node",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_key",storageKey:null},{alias:null,args:null,concreteType:"KernelConnection",kind:"LinkedField",name:"kernel_nodes",plural:!1,selections:[{alias:null,args:null,concreteType:"KernelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KernelNode",kind:"LinkedField",name:"node",plural:!1,selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"container_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_idx",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cluster_role",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"7b98b0ea1543062a5dec07d96bbad320",id:null,metadata:{},name:"ContainerLogModalWithLazyQueryLoaderQuery",operationKind:"query",text:"query ContainerLogModalWithLazyQueryLoaderQuery(\n  $sessionId: GlobalIDField!\n  $project_id: UUID!\n) {\n  compute_session_node(id: $sessionId, project_id: $project_id) {\n    ...ContainerLogModalFragment\n    id\n  }\n}\n\nfragment ContainerLogModalFragment on ComputeSessionNode {\n  id\n  row_id\n  name\n  status\n  access_key\n  kernel_nodes {\n    edges {\n      node {\n        id\n        row_id\n        container_id\n        cluster_idx\n        cluster_role\n      }\n    }\n  }\n}\n"}}}();l.hash="6c9b5934d5fea075e571c13b1c070bd1";const s=l}}]);
//# sourceMappingURL=3582.a8814348.chunk.js.map