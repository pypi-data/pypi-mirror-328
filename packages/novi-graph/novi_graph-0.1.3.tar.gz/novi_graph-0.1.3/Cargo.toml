[package]
name = "novi-graph"
version = "0.1.3"
edition = "2021"

[lib]
crate-type = ["cdylib", "rlib"]

[features]
default = []
wasm = [
    "dep:wasm-bindgen",
    "dep:js-sys",
    "dep:serde-wasm-bindgen",
    "dep:serde_json",
    "dep:serde_cbor",
    "dep:base64",
]
python = ["dep:pyo3", "dep:serde_cbor"]

[dependencies]
base64 = { version = "0.22.1", optional = true }
im = "15.1.0"
js-sys = { version = "0.3.77", optional = true }
logos = "0.15.0"
pyo3 = { version = "0.23.4", features = ["abi3-py38"], optional = true }
serde = { version = "1.0.217", features = ["derive", "rc"] }
serde-wasm-bindgen = { version = "0.6.5", optional = true }
serde_cbor = { version = "0.11.2", optional = true }
serde_json = { version = "1.0.135", optional = true }
wasm-bindgen = { version = "0.2.100", optional = true }

[profile.dev]
panic = "abort"

[profile.release]
opt-level = "s"
lto = true
panic = "abort"
strip = "debuginfo"
