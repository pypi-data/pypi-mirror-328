import{s as Ct,r as G,e as y,a as O,c as E,m as fe,g as z,b as U,f as b,o as D,v as Be,i as $,h as w,w as J,C as yt,t as xe,d as et,j as Et,x as Ze,y as tt,n as ze}from"../chunks/scheduler.Bw2O2KLD.js";import{S as Dt,i as Ht,b as K,c as Ee,d as De,m as He,t as k,a as H,e as Ce,f as Ie,g as ye}from"../chunks/index.Cyrvb228.js";import{e as lt}from"../chunks/each.D6YF6ztN.js";import{S as It,f as Ne,B as Vt,c as Pe,r as Oe}from"../chunks/utils.C2HpxDyR.js";import{A as Le}from"../chunks/AllCheckbox.dzwR-lxb.js";import{R as Tt}from"../chunks/Radio.7beh6wzX.js";import{T as gt}from"../chunks/ToggleButton.CgFO1nKI.js";import{g as Re}from"../chunks/variables.CqS7hfz2.js";function nt(e,l,n){const r=e.slice();return r[67]=l[n],r[68]=l,r[69]=n,r}function st(e){let l,n,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCost" aria-expanded="false" aria-controls="collapseCost">Cost selection</button>',s,_,d,i,o,a,c='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Technology and Carrier Selection</button>',t,u,h,v,q="Technologies (for Capex/Opex)",L,x,pe,he,S,ge,Q,T,j='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',A,ne,me,te,ve,I,ke,se="Aggregation",B,re,de,oe,m,M,ae,ce=lt(Object.keys(e[22])),V=[];for(let p=0;p<ce.length;p+=1)V[p]=at(nt(e,ce,p));const Se=p=>H(V[p],1,1,()=>{V[p]=null});let N=e[11].length>0&&it(e),P=e[13].length>0&&rt(e),R=e[15].length>0&&ct(e),Y=e[18].length>0&&ft(e),W=e[19].length>0&&dt(e);function Ue(p){e[49](p)}function We(p){e[50](p)}let qe={};e[20]!==void 0&&(qe.options=e[20]),e[21]!==void 0&&(qe.selected_option=e[21]),re=new Tt({props:qe}),G.push(()=>K(re,"options",Ue)),G.push(()=>K(re,"selected_option",We)),re.$on("selection-changed",e[51]);let X=e[21]==e[20][1]&&_t(e),Z=e[6]&&ut(e);return{c(){l=y("div"),n=y("h2"),n.innerHTML=r,s=O(),_=y("div"),d=y("div");for(let p=0;p<V.length;p+=1)V[p].c();i=O(),o=y("div"),a=y("h2"),a.innerHTML=c,t=O(),u=y("div"),h=y("div"),v=y("h3"),v.textContent=q,L=O(),N&&N.c(),x=O(),P&&P.c(),pe=O(),R&&R.c(),he=O(),Y&&Y.c(),S=O(),W&&W.c(),ge=O(),Q=y("div"),T=y("h2"),T.innerHTML=j,A=O(),ne=y("div"),me=y("div"),te=y("div"),ve=y("div"),I=y("div"),ke=y("h3"),ke.textContent=se,B=O(),Ee(re.$$.fragment),m=O(),X&&X.c(),M=O(),Z&&Z.c(),this.h()},l(p){l=E(p,"DIV",{class:!0});var C=U(l);n=E(C,"H2",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1y9fyqz"&&(n.innerHTML=r),s=z(C),_=E(C,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var we=U(_);d=E(we,"DIV",{class:!0});var le=U(d);for(let Ae=0;Ae<V.length;Ae+=1)V[Ae].l(le);le.forEach(b),we.forEach(b),C.forEach(b),i=z(p),o=E(p,"DIV",{class:!0});var Te=U(o);a=E(Te,"H2",{class:!0,"data-svelte-h":!0}),fe(a)!=="svelte-c8inc9"&&(a.innerHTML=c),t=z(Te),u=E(Te,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ge=U(u);h=E(Ge,"DIV",{class:!0});var be=U(h);v=E(be,"H3",{"data-svelte-h":!0}),fe(v)!=="svelte-17gugf8"&&(v.textContent=q),L=z(be),N&&N.l(be),x=z(be),P&&P.l(be),pe=z(be),R&&R.l(be),he=z(be),Y&&Y.l(be),S=z(be),W&&W.l(be),be.forEach(b),Ge.forEach(b),Te.forEach(b),ge=z(p),Q=E(p,"DIV",{class:!0});var je=U(Q);T=E(je,"H2",{class:!0,"data-svelte-h":!0}),fe(T)!=="svelte-hz94lo"&&(T.innerHTML=j),A=z(je),ne=E(je,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Je=U(ne);me=E(Je,"DIV",{class:!0});var Ke=U(me);te=E(Ke,"DIV",{class:!0});var $e=U(te);ve=E($e,"DIV",{class:!0});var Qe=U(ve);I=E(Qe,"DIV",{class:!0});var Me=U(I);ke=E(Me,"H3",{"data-svelte-h":!0}),fe(ke)!=="svelte-126hufg"&&(ke.textContent=se),B=z(Me),De(re.$$.fragment,Me),Me.forEach(b),Qe.forEach(b),m=z($e),X&&X.l($e),M=z($e),Z&&Z.l($e),$e.forEach(b),Ke.forEach(b),Je.forEach(b),je.forEach(b),this.h()},h(){D(n,"class","accordion-header"),D(d,"class","accordion-body"),D(_,"id","collapseCost"),D(_,"class","accordion-collapse collapse"),D(_,"data-bs-parent","#accordionExample"),D(l,"class","accordion-item"),D(a,"class","accordion-header"),D(h,"class","accordion-body"),D(u,"id","collapseTwo"),D(u,"class","accordion-collapse collapse"),D(u,"data-bs-parent","#accordionExample"),D(o,"class","accordion-item"),D(T,"class","accordion-header"),D(I,"class","col-6"),D(ve,"class","row"),D(te,"class","accordion-body"),D(me,"class","accordion-body"),D(ne,"id","collapseThree"),D(ne,"class","accordion-collapse collapse"),D(ne,"data-bs-parent","#accordionExample"),D(Q,"class","accordion-item")},m(p,C){$(p,l,C),w(l,n),w(l,s),w(l,_),w(_,d);for(let we=0;we<V.length;we+=1)V[we]&&V[we].m(d,null);$(p,i,C),$(p,o,C),w(o,a),w(o,t),w(o,u),w(u,h),w(h,v),w(h,L),N&&N.m(h,null),w(h,x),P&&P.m(h,null),w(h,pe),R&&R.m(h,null),w(h,he),Y&&Y.m(h,null),w(h,S),W&&W.m(h,null),$(p,ge,C),$(p,Q,C),w(Q,T),w(Q,A),w(Q,ne),w(ne,me),w(me,te),w(te,ve),w(ve,I),w(I,ke),w(I,B),He(re,I,null),w(te,m),X&&X.m(te,null),w(te,M),Z&&Z.m(te,null),ae=!0},p(p,C){if(C[0]&37748736){ce=lt(Object.keys(p[22]));let le;for(le=0;le<ce.length;le+=1){const Te=nt(p,ce,le);V[le]?(V[le].p(Te,C),k(V[le],1)):(V[le]=at(Te),V[le].c(),k(V[le],1),V[le].m(d,null))}for(ye(),le=ce.length;le<V.length;le+=1)Se(le);Ce()}p[11].length>0?N?(N.p(p,C),C[0]&2048&&k(N,1)):(N=it(p),N.c(),k(N,1),N.m(h,x)):N&&(ye(),H(N,1,1,()=>{N=null}),Ce()),p[13].length>0?P?(P.p(p,C),C[0]&8192&&k(P,1)):(P=rt(p),P.c(),k(P,1),P.m(h,pe)):P&&(ye(),H(P,1,1,()=>{P=null}),Ce()),p[15].length>0?R?(R.p(p,C),C[0]&32768&&k(R,1)):(R=ct(p),R.c(),k(R,1),R.m(h,he)):R&&(ye(),H(R,1,1,()=>{R=null}),Ce()),p[18].length>0?Y?(Y.p(p,C),C[0]&262144&&k(Y,1)):(Y=ft(p),Y.c(),k(Y,1),Y.m(h,S)):Y&&(ye(),H(Y,1,1,()=>{Y=null}),Ce()),p[19].length>0?W?(W.p(p,C),C[0]&524288&&k(W,1)):(W=dt(p),W.c(),k(W,1),W.m(h,null)):W&&(ye(),H(W,1,1,()=>{W=null}),Ce());const we={};!de&&C[0]&1048576&&(de=!0,we.options=p[20],J(()=>de=!1)),!oe&&C[0]&2097152&&(oe=!0,we.selected_option=p[21],J(()=>oe=!1)),re.$set(we),p[21]==p[20][1]?X?(X.p(p,C),C[0]&3145728&&k(X,1)):(X=_t(p),X.c(),k(X,1),X.m(te,M)):X&&(ye(),H(X,1,1,()=>{X=null}),Ce()),p[6]?Z?(Z.p(p,C),C[0]&64&&k(Z,1)):(Z=ut(p),Z.c(),k(Z,1),Z.m(te,null)):Z&&(ye(),H(Z,1,1,()=>{Z=null}),Ce())},i(p){if(!ae){for(let C=0;C<ce.length;C+=1)k(V[C]);k(N),k(P),k(R),k(Y),k(W),k(re.$$.fragment,p),k(X),k(Z),ae=!0}},o(p){V=V.filter(Boolean);for(let C=0;C<V.length;C+=1)H(V[C]);H(N),H(P),H(R),H(Y),H(W),H(re.$$.fragment,p),H(X),H(Z),ae=!1},d(p){p&&(b(l),b(i),b(o),b(ge),b(Q)),yt(V,p),N&&N.d(),P&&P.d(),R&&R.d(),Y&&Y.d(),W&&W.d(),Ie(re),X&&X.d(),Z&&Z.d()}}}function ot(e){let l,n,r,s;function _(i){e[33](i,e[67])}let d={};return e[22][e[67]].subdivision!==void 0&&(d.value=e[22][e[67]].subdivision),n=new gt({props:d}),G.push(()=>K(n,"value",_)),n.$on("change",e[25]),{c(){l=xe(`Subdivision
											`),Ee(n.$$.fragment)},l(i){l=et(i,`Subdivision
											`),De(n.$$.fragment,i)},m(i,o){$(i,l,o),He(n,i,o),s=!0},p(i,o){e=i;const a={};!r&&o[0]&4194304&&(r=!0,a.value=e[22][e[67]].subdivision,J(()=>r=!1)),n.$set(a)},i(i){s||(k(n.$$.fragment,i),s=!0)},o(i){H(n.$$.fragment,i),s=!1},d(i){i&&b(l),Ie(n,i)}}}function at(e){let l,n,r=e[22][e[67]].title+"",s,_,d,i,o,a,c,t;function u(q){e[32](q,e[67])}let h={};e[22][e[67]].show!==void 0&&(h.value=e[22][e[67]].show),i=new gt({props:h}),G.push(()=>K(i,"value",u)),i.$on("change",e[25]);let v=e[22][e[67]].show&&e[67]!="carbon_emission"&&ot(e);return{c(){l=y("div"),n=y("h4"),s=xe(r),_=xe(" :"),d=O(),Ee(i.$$.fragment),a=O(),v&&v.c(),c=O(),this.h()},l(q){l=E(q,"DIV",{class:!0});var L=U(l);n=E(L,"H4",{});var x=U(n);s=et(x,r),_=et(x," :"),x.forEach(b),d=z(L),De(i.$$.fragment,L),a=z(L),v&&v.l(L),c=z(L),L.forEach(b),this.h()},h(){D(l,"class","d-flex")},m(q,L){$(q,l,L),w(l,n),w(n,s),w(n,_),w(l,d),He(i,l,null),w(l,a),v&&v.m(l,null),w(l,c),t=!0},p(q,L){e=q,(!t||L[0]&4194304)&&r!==(r=e[22][e[67]].title+"")&&Et(s,r);const x={};!o&&L[0]&4194304&&(o=!0,x.value=e[22][e[67]].show,J(()=>o=!1)),i.$set(x),e[22][e[67]].show&&e[67]!="carbon_emission"?v?(v.p(e,L),L[0]&4194304&&k(v,1)):(v=ot(e),v.c(),k(v,1),v.m(l,c)):v&&(ye(),H(v,1,1,()=>{v=null}),Ce())},i(q){t||(k(i.$$.fragment,q),k(v),t=!0)},o(q){H(i.$$.fragment,q),H(v),t=!1},d(q){q&&b(l),Ie(i),v&&v.d()}}}function it(e){let l,n="Transport",r,s,_,d,i;function o(t){e[34](t)}function a(t){e[35](t)}let c={};return e[12]!==void 0&&(c.selected_elements=e[12]),e[11]!==void 0&&(c.elements=e[11]),s=new Le({props:c}),G.push(()=>K(s,"selected_elements",o)),G.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[36]),{c(){l=y("h4"),l.textContent=n,r=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H4",{"data-svelte-h":!0}),fe(l)!=="svelte-1tmas69"&&(l.textContent=n),r=z(t),De(s.$$.fragment,t)},m(t,u){$(t,l,u),$(t,r,u),He(s,t,u),i=!0},p(t,u){const h={};!_&&u[0]&4096&&(_=!0,h.selected_elements=t[12],J(()=>_=!1)),!d&&u[0]&2048&&(d=!0,h.elements=t[11],J(()=>d=!1)),s.$set(h)},i(t){i||(k(s.$$.fragment,t),i=!0)},o(t){H(s.$$.fragment,t),i=!1},d(t){t&&(b(l),b(r)),Ie(s,t)}}}function rt(e){let l,n="Storage",r,s,_,d,i;function o(t){e[37](t)}function a(t){e[38](t)}let c={};return e[14]!==void 0&&(c.selected_elements=e[14]),e[13]!==void 0&&(c.elements=e[13]),s=new Le({props:c}),G.push(()=>K(s,"selected_elements",o)),G.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[39]),{c(){l=y("h4"),l.textContent=n,r=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H4",{"data-svelte-h":!0}),fe(l)!=="svelte-hjv5od"&&(l.textContent=n),r=z(t),De(s.$$.fragment,t)},m(t,u){$(t,l,u),$(t,r,u),He(s,t,u),i=!0},p(t,u){const h={};!_&&u[0]&16384&&(_=!0,h.selected_elements=t[14],J(()=>_=!1)),!d&&u[0]&8192&&(d=!0,h.elements=t[13],J(()=>d=!1)),s.$set(h)},i(t){i||(k(s.$$.fragment,t),i=!0)},o(t){H(s.$$.fragment,t),i=!1},d(t){t&&(b(l),b(r)),Ie(s,t)}}}function ct(e){let l,n="Conversion",r,s,_,d,i;function o(t){e[40](t)}function a(t){e[41](t)}let c={};return e[16]!==void 0&&(c.selected_elements=e[16]),e[15]!==void 0&&(c.elements=e[15]),s=new Le({props:c}),G.push(()=>K(s,"selected_elements",o)),G.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[42]),{c(){l=y("h4"),l.textContent=n,r=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H4",{"data-svelte-h":!0}),fe(l)!=="svelte-ad5jza"&&(l.textContent=n),r=z(t),De(s.$$.fragment,t)},m(t,u){$(t,l,u),$(t,r,u),He(s,t,u),i=!0},p(t,u){const h={};!_&&u[0]&65536&&(_=!0,h.selected_elements=t[16],J(()=>_=!1)),!d&&u[0]&32768&&(d=!0,h.elements=t[15],J(()=>d=!1)),s.$set(h)},i(t){i||(k(s.$$.fragment,t),i=!0)},o(t){H(s.$$.fragment,t),i=!1},d(t){t&&(b(l),b(r)),Ie(s,t)}}}function ft(e){let l,n="Cost of Carrier",r,s,_,d,i;function o(t){e[43](t)}function a(t){e[44](t)}let c={};return e[7]!==void 0&&(c.selected_elements=e[7]),e[18]!==void 0&&(c.elements=e[18]),s=new Le({props:c}),G.push(()=>K(s,"selected_elements",o)),G.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[45]),{c(){l=y("h3"),l.textContent=n,r=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-bhb6z8"&&(l.textContent=n),r=z(t),De(s.$$.fragment,t)},m(t,u){$(t,l,u),$(t,r,u),He(s,t,u),i=!0},p(t,u){const h={};!_&&u[0]&128&&(_=!0,h.selected_elements=t[7],J(()=>_=!1)),!d&&u[0]&262144&&(d=!0,h.elements=t[18],J(()=>d=!1)),s.$set(h)},i(t){i||(k(s.$$.fragment,t),i=!0)},o(t){H(s.$$.fragment,t),i=!1},d(t){t&&(b(l),b(r)),Ie(s,t)}}}function dt(e){let l,n="Shed Demand",r,s,_,d,i;function o(t){e[46](t)}function a(t){e[47](t)}let c={};return e[8]!==void 0&&(c.selected_elements=e[8]),e[19]!==void 0&&(c.elements=e[19]),s=new Le({props:c}),G.push(()=>K(s,"selected_elements",o)),G.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[48]),{c(){l=y("h3"),l.textContent=n,r=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-13kd4c5"&&(l.textContent=n),r=z(t),De(s.$$.fragment,t)},m(t,u){$(t,l,u),$(t,r,u),He(s,t,u),i=!0},p(t,u){const h={};!_&&u[0]&256&&(_=!0,h.selected_elements=t[8],J(()=>_=!1)),!d&&u[0]&524288&&(d=!0,h.elements=t[19],J(()=>d=!1)),s.$set(h)},i(t){i||(k(s.$$.fragment,t),i=!0)},o(t){H(s.$$.fragment,t),i=!1},d(t){t&&(b(l),b(r)),Ie(s,t)}}}function _t(e){let l,n="Location",r,s,_,d;function i(a){e[52](a)}let o={elements:e[3]};return e[4]!==void 0&&(o.selected_elements=e[4]),s=new Le({props:o}),G.push(()=>K(s,"selected_elements",i)),s.$on("selection-changed",e[53]),{c(){l=y("h3"),l.textContent=n,r=O(),Ee(s.$$.fragment)},l(a){l=E(a,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-15gguv3"&&(l.textContent=n),r=z(a),De(s.$$.fragment,a)},m(a,c){$(a,l,c),$(a,r,c),He(s,a,c),d=!0},p(a,c){const t={};c[0]&8&&(t.elements=a[3]),!_&&c[0]&16&&(_=!0,t.selected_elements=a[4],J(()=>_=!1)),s.$set(t)},i(a){d||(k(s.$$.fragment,a),d=!0)},o(a){H(s.$$.fragment,a),d=!1},d(a){a&&(b(l),b(r)),Ie(s,a)}}}function ut(e){let l,n="Year",r,s,_,d;function i(a){e[54](a)}let o={elements:e[2]};return e[6]!==void 0&&(o.selected_elements=e[6]),s=new Le({props:o}),G.push(()=>K(s,"selected_elements",i)),s.$on("selection-changed",e[55]),{c(){l=y("h3"),l.textContent=n,r=O(),Ee(s.$$.fragment)},l(a){l=E(a,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-r9e7qt"&&(l.textContent=n),r=z(a),De(s.$$.fragment,a)},m(a,c){$(a,l,c),$(a,r,c),He(s,a,c),d=!0},p(a,c){const t={};c[0]&4&&(t.elements=a[2]),!_&&c[0]&64&&(_=!0,t.selected_elements=a[6],J(()=>_=!1)),s.$set(t)},i(a){d||(k(s.$$.fragment,a),d=!0)},o(a){H(s.$$.fragment,a),d=!1},d(a){a&&(b(l),b(r)),Ie(s,a)}}}function St(e){let l,n,r,s;const _=[jt,Lt],d=[];function i(o,a){return o[24].data.datasets.length==0||o[24].data.datasets[0].data.length==0?0:1}return l=i(e),n=d[l]=_[l](e),{c(){n.c(),r=tt()},l(o){n.l(o),r=tt()},m(o,a){d[l].m(o,a),$(o,r,a),s=!0},p(o,a){let c=l;l=i(o),l===c?d[l].p(o,a):(ye(),H(d[c],1,1,()=>{d[c]=null}),Ce(),n=d[l],n?n.p(o,a):(n=d[l]=_[l](o),n.c()),k(n,1),n.m(r.parentNode,r))},i(o){s||(k(n),s=!0)},o(o){H(n),s=!1},d(o){o&&b(r),d[l].d(o)}}}function $t(e){let l,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){l=y("div"),l.innerHTML=n,this.h()},l(r){l=E(r,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1a5ljpq"&&(l.innerHTML=n),this.h()},h(){D(l,"class","text-center")},m(r,s){$(r,l,s)},p:ze,i:ze,o:ze,d(r){r&&b(l)}}}function Lt(e){let l,n,r,s,_;function d(c){e[56](c)}function i(c){e[57](c)}function o(c){e[58](c)}let a={};return e[24]!==void 0&&(a.config=e[24]),e[5].detail.system.reference_year!==void 0&&(a.year_offset=e[5].detail.system.reference_year),e[23]!==void 0&&(a.plot_name=e[23]),l=new Vt({props:a}),G.push(()=>K(l,"config",d)),G.push(()=>K(l,"year_offset",i)),G.push(()=>K(l,"plot_name",o)),{c(){Ee(l.$$.fragment)},l(c){De(l.$$.fragment,c)},m(c,t){He(l,c,t),_=!0},p(c,t){const u={};!n&&t[0]&16777216&&(n=!0,u.config=c[24],J(()=>n=!1)),!r&&t[0]&32&&(r=!0,u.year_offset=c[5].detail.system.reference_year,J(()=>r=!1)),!s&&t[0]&8388608&&(s=!0,u.plot_name=c[23],J(()=>s=!1)),l.$set(u)},i(c){_||(k(l.$$.fragment,c),_=!0)},o(c){H(l.$$.fragment,c),_=!1},d(c){Ie(l,c)}}}function jt(e){let l,n="No data with this selection.";return{c(){l=y("div"),l.textContent=n,this.h()},l(r){l=E(r,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1doxial"&&(l.textContent=n),this.h()},h(){D(l,"class","text-center")},m(r,s){$(r,l,s)},p:ze,i:ze,o:ze,d(r){r&&b(l)}}}function Mt(e){let l,n="Costs",r,s,_,d,i,o,a,c='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',t,u,h,v,q,L,x,pe,he,S,ge,Q,T,j,A,ne;function me(m){e[27](m)}function te(m){e[28](m)}function ve(m){e[29](m)}function I(m){e[30](m)}function ke(m){e[31](m)}let se={enabled:!e[9]&&!e[10]};e[0]!==void 0&&(se.carriers=e[0]),e[1]!==void 0&&(se.nodes=e[1]),e[2]!==void 0&&(se.years=e[2]),e[5]!==void 0&&(se.selected_solution=e[5]),e[9]!==void 0&&(se.loading=e[9]),v=new It({props:se}),G.push(()=>K(v,"carriers",me)),G.push(()=>K(v,"nodes",te)),G.push(()=>K(v,"years",ve)),G.push(()=>K(v,"selected_solution",I)),G.push(()=>K(v,"loading",ke)),v.$on("solution_selected",e[26]);let B=!e[10]&&!e[9]&&e[17]&&e[5]!=null&&st(e);const re=[$t,St],de=[];function oe(m,M){return m[9]||m[10]?0:m[5]!=null?1:-1}return~(j=oe(e))&&(A=de[j]=re[j](e)),{c(){l=y("h2"),l.textContent=n,r=O(),s=y("div"),_=y("div"),d=y("div"),i=y("div"),o=y("div"),a=y("h2"),a.innerHTML=c,t=O(),u=y("div"),h=y("div"),Ee(v.$$.fragment),S=O(),B&&B.c(),ge=O(),Q=y("div"),T=y("div"),A&&A.c(),this.h()},l(m){l=E(m,"H2",{"data-svelte-h":!0}),fe(l)!=="svelte-lt28jw"&&(l.textContent=n),r=z(m),s=E(m,"DIV",{class:!0});var M=U(s);_=E(M,"DIV",{class:!0,style:!0});var ae=U(_);d=E(ae,"DIV",{class:!0,style:!0});var ce=U(d);i=E(ce,"DIV",{class:!0,id:!0});var V=U(i);o=E(V,"DIV",{class:!0});var Se=U(o);a=E(Se,"H2",{class:!0,"data-svelte-h":!0}),fe(a)!=="svelte-64kjki"&&(a.innerHTML=c),t=z(Se),u=E(Se,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var N=U(u);h=E(N,"DIV",{class:!0});var P=U(h);De(v.$$.fragment,P),P.forEach(b),N.forEach(b),Se.forEach(b),S=z(V),B&&B.l(V),V.forEach(b),ce.forEach(b),ae.forEach(b),M.forEach(b),ge=z(m),Q=E(m,"DIV",{class:!0});var R=U(Q);T=E(R,"DIV",{class:!0,style:!0});var Y=U(T);A&&A.l(Y),Y.forEach(b),R.forEach(b),this.h()},h(){D(a,"class","accordion-header"),D(h,"class","accordion-body"),D(u,"id","collapseOne"),D(u,"class","accordion-collapse collapse show"),D(u,"data-bs-parent","#accordionExample"),D(o,"class","accordion-item solution-selection"),D(i,"class","accordion"),D(i,"id","accordionExample"),D(d,"class","filters"),Be(d,"position","absolute"),Be(d,"width","100%"),D(_,"class","col position-relative"),Be(_,"z-index","1"),Be(_,"position","relative"),D(s,"class","row"),D(T,"class","col"),Be(T,"margin-top","400px"),D(Q,"class","row")},m(m,M){$(m,l,M),$(m,r,M),$(m,s,M),w(s,_),w(_,d),w(d,i),w(i,o),w(o,a),w(o,t),w(o,u),w(u,h),He(v,h,null),w(i,S),B&&B.m(i,null),$(m,ge,M),$(m,Q,M),w(Q,T),~j&&de[j].m(T,null),ne=!0},p(m,M){const ae={};M[0]&1536&&(ae.enabled=!m[9]&&!m[10]),!q&&M[0]&1&&(q=!0,ae.carriers=m[0],J(()=>q=!1)),!L&&M[0]&2&&(L=!0,ae.nodes=m[1],J(()=>L=!1)),!x&&M[0]&4&&(x=!0,ae.years=m[2],J(()=>x=!1)),!pe&&M[0]&32&&(pe=!0,ae.selected_solution=m[5],J(()=>pe=!1)),!he&&M[0]&512&&(he=!0,ae.loading=m[9],J(()=>he=!1)),v.$set(ae),!m[10]&&!m[9]&&m[17]&&m[5]!=null?B?(B.p(m,M),M[0]&132640&&k(B,1)):(B=st(m),B.c(),k(B,1),B.m(i,null)):B&&(ye(),H(B,1,1,()=>{B=null}),Ce());let ce=j;j=oe(m),j===ce?~j&&de[j].p(m,M):(A&&(ye(),H(de[ce],1,1,()=>{de[ce]=null}),Ce()),~j?(A=de[j],A?A.p(m,M):(A=de[j]=re[j](m),A.c()),k(A,1),A.m(T,null)):A=null)},i(m){ne||(k(v.$$.fragment,m),k(B),k(A),ne=!0)},o(m){H(v.$$.fragment,m),H(B),H(A),ne=!1},d(m){m&&(b(l),b(r),b(s),b(ge),b(Q)),Ie(v),B&&B.d(),~j&&de[j].d()}}}let Ot="not_normalized",F="Techology / Carrier";const Ye=" (Capex)",Fe=" (Opex)",pt="Capex",ht="Opex",mt="Carrier",bt="Shed Demand";function zt(e,l,n){let r=[],s=[],_=[],d=[],i=[],o=null,a=[],c=[],t=[],u=!1,h=!1,v=[],q=[],L=[],x=[],pe=[],he=[],S,ge,Q,T,j,A,ne=[],me=[],te=[F,"Location"],ve=te[1],I={capex:{title:"Capex",show:!0,subdivision:!1},opex:{title:"Opex",show:!0,subdivision:!1},carrier:{title:"Carrier",show:!0,subdivision:!1},shed_demand:{title:"Shed Demand",show:!0,subdivision:!1},carbon_emission:{title:"Carbon Emissions",show:!0,subdivision:!1}},ke="plot",se={type:"line",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:"Costs ["+de()+"]"}}}}};async function B(){if(o!=null){n(10,h=!0),await Ze(),n(17,T=await Pe(o.solution_name,Re("capex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years)),j=await Pe(o.solution_name,Re("opex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),ge=await Pe(o.solution_name,Re("cost_carbon_emissions_total",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),Q=await Pe(o.solution_name,Re("cost_carrier",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),A=await Pe(o.solution_name,Re("cost_shed_demand",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),Oe(Q.data,"node","location"),Oe(A.data,"node","location"),Oe(j.data,"technology",F),Oe(T.data,"technology",F),Oe(Q.data,"carrier",F),Oe(A.data,"carrier",F);for(let f in T.data.data)n(17,T.data.data[f][F]=T.data.data[f][F]+Ye,T);for(let f in j.data.data)j.data.data[f][F]=j.data.data[f][F]+Fe;n(3,d=Object.keys(o.detail.edges).concat(o.detail.system.set_nodes)),n(10,h=!1)}}function re(f){n(10,h=!0),S=new Array;let ie=structuredClone(Q.data);ie.data=ie.data.filter(g=>c.includes(g[F]));let _e=structuredClone(A.data);if(_e.data=_e.data.filter(g=>t.includes(g[F])),I.capex.show)if(I.capex.subdivision)S=S.concat(T.data.data);else{let g=Ne(T.data.data,{location:i},{[F]:f},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[F]=pt,S.push(g[ee].data)}if(I.opex.show)if(I.opex.subdivision)S=S.concat(j.data.data);else{let g=Ne(j.data.data,{location:i},{[F]:f},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[F]=ht,S.push(g[ee].data)}if(I.carrier.show)if(I.carrier.subdivision)S=S.concat(ie.data);else{let g=Ne(ie.data,{location:i},{[F]:f},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[F]=mt,S.push(g[ee].data)}if(I.shed_demand.show)if(I.shed_demand.subdivision)S=S.concat(_e.data);else{let g=Ne(_e.data,{location:i},{[F]:f},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[F]=bt,S.push(g[ee].data)}if(S.length==0){S=void 0,n(10,h=!1);return}let ue=new Set;S=S.filter(g=>g!=null);for(const g of S)ue.add(g.location);n(3,d=Array.from(ue)),n(10,h=!1)}function de(){return!T||T.unit===null?"":T.unit.data[0][0]}function oe(){n(10,h=!0);let f={},ie={},_e=[];for(const Ve of he)_e.push(Ve+Ye),_e.push(Ve+Fe);for(const Ve of x)_e.push(Ve+Ye),_e.push(Ve+Fe);for(const Ve of q)_e.push(Ve+Ye),_e.push(Ve+Fe);let ue=[..._e,...c,...t];re(ue),I.capex.subdivision||ue.push(pt),I.opex.subdivision||ue.push(ht),I.carrier.subdivision||ue.push(mt),I.shed_demand.subdivision||ue.push(bt),ve==te[0]?(f.location=d,ie[F]=ue):(f[F]=ue,ie.location=i);let g=_.filter(Ve=>!a.includes(Ve)),ee=Ot=="normalized",Xe=[];S&&(Xe=Ne(S,f,ie,g,ee)),ge.data.data.length>0&&I.carbon_emission.show&&Xe.push({label:"Total Carbon Costs",data:ge.data.data[0],type:"bar"}),Ze().then(()=>{n(24,se.data={datasets:Xe},se),n(24,se.options.scales.y.title.text="Costs ["+de()+"]",se),n(10,h=!1)})}async function m(){if(o==null)return;await B(),await Ze(),n(10,h=!0);let f=new Set;for(const g of T.data.data)f.add(g[F].replace(Ye,""));for(const g of j.data.data)f.add(g[F].replace(Fe,""));n(11,v=o.detail.system.set_transport_technologies.filter(g=>f.has(g))),n(15,pe=o.detail.system.set_conversion_technologies.filter(g=>f.has(g))),n(13,L=o.detail.system.set_storage_technologies.filter(g=>f.has(g))),n(12,q=v),n(16,he=pe),n(14,x=L);let ie=new Set;for(const g of Q.data.data)ie.add(g[F]);n(0,r=o.detail.system.set_carriers),n(18,ne=o.detail.carriers_import.concat(o.detail.carriers_export).filter(g=>ie.has(g))),n(7,c=ne);let _e=new Set;for(const g of A.data.data)_e.add(g[F]);n(19,me=o.detail.carriers_demand.filter(g=>_e.has(g))),n(8,t=me),n(1,s=o.detail.system.set_nodes),n(6,a=_),n(4,i=d),oe(),n(10,h=!1);let ue=o.solution_name.split(".");n(23,ke=[ue[(ue==null?void 0:ue.length)-1],o==null?void 0:o.scenario_name,"costs"].join("_"))}function M(f){r=f,n(0,r)}function ae(f){s=f,n(1,s)}function ce(f){_=f,n(2,_)}function V(f){o=f,n(5,o)}function Se(f){u=f,n(9,u)}function N(f,ie){e.$$.not_equal(I[ie].show,f)&&(I[ie].show=f,n(22,I))}function P(f,ie){e.$$.not_equal(I[ie].subdivision,f)&&(I[ie].subdivision=f,n(22,I))}function R(f){q=f,n(12,q)}function Y(f){v=f,n(11,v)}const W=()=>{oe()};function Ue(f){x=f,n(14,x)}function We(f){L=f,n(13,L)}const qe=()=>{oe()};function X(f){he=f,n(16,he)}function Z(f){pe=f,n(15,pe)}const p=()=>{oe()};function C(f){c=f,n(7,c)}function we(f){ne=f,n(18,ne)}const le=()=>{oe()};function Te(f){t=f,n(8,t)}function Ge(f){me=f,n(19,me)}const be=()=>{oe()};function je(f){te=f,n(20,te)}function Je(f){ve=f,n(21,ve)}const Ke=f=>{oe()};function $e(f){i=f,n(4,i)}const Qe=f=>{oe()};function Me(f){a=f,n(6,a)}const Ae=f=>{oe()};function vt(f){se=f,n(24,se)}function kt(f){e.$$.not_equal(o.detail.system.reference_year,f)&&(o.detail.system.reference_year=f,n(5,o))}function wt(f){ke=f,n(23,ke)}return[r,s,_,d,i,o,a,c,t,u,h,v,q,L,x,pe,he,T,ne,me,te,ve,I,ke,se,oe,m,M,ae,ce,V,Se,N,P,R,Y,W,Ue,We,qe,X,Z,p,C,we,le,Te,Ge,be,je,Je,Ke,$e,Qe,Me,Ae,vt,kt,wt]}class Gt extends Dt{constructor(l){super(),Ht(this,l,zt,Mt,Ct,{},null,[-1,-1,-1])}}export{Gt as component};
