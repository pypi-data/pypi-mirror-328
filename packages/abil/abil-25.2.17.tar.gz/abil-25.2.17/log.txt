length of y:
254
training regressor
{'regressor__estimator__n_estimators': [100], 'regressor__estimator__max_features': [0.2, 0.4, 0.8], 'regressor__estimator__max_depth': [50], 'regressor__estimator__min_samples_leaf': [0.5], 'regressor__estimator__max_samples': [0.5]}
Fitting 10 folds for each of 3 candidates, totalling 30 fits
exported model to: ./tests/ModelOutput/regressor/model/rf/Emiliania_huxleyi_reg.sav
exported scoring to: ./tests/ModelOutput/regressor/scoring/rf/Emiliania_huxleyi_reg.sav
reg rRMSE: 156%
reg rMAE: 123%
reg R2: -0.1
execution time: 0.0 seconds
training regressor
{'regressor__estimator__learning_rate': [0.05], 'regressor__estimator__n_estimators': [100], 'regressor__estimator__max_depth': [7], 'regressor__estimator__subsample': [0.8], 'regressor__estimator__colsample_bytree': [0.5], 'regressor__estimator__gamma': [1], 'regressor__estimator__reg_alpha': [0.1]}
Fitting 10 folds for each of 1 candidates, totalling 10 fits
exported model to: ./tests/ModelOutput/regressor/model/xgb/Emiliania_huxleyi_reg.sav
exported scoring to: ./tests/ModelOutput/regressor/scoring/xgb/Emiliania_huxleyi_reg.sav
reg rRMSE: 135%
reg rMAE: 76%
reg R2: 0.2
execution time: 0.0 seconds
training regressor
{'regressor__estimator__max_samples': [0.85], 'regressor__estimator__max_features': [0.85], 'regressor__estimator__estimator__leaf_size': [5], 'regressor__estimator__estimator__n_neighbors': [5], 'regressor__estimator__estimator__p': [1], 'regressor__estimator__estimator__weights': ['uniform']}
Fitting 10 folds for each of 1 candidates, totalling 10 fits
exported model to: ./tests/ModelOutput/regressor/model/knn/Emiliania_huxleyi_reg.sav
exported scoring to: ./tests/ModelOutput/regressor/scoring/knn/Emiliania_huxleyi_reg.sav
reg rRMSE: 107%
reg rMAE: 66%
reg R2: 0.48
execution time: 0.0 seconds
initialized prediction
number of models in ensemble:3
predicting regressor
===================
DEBUG OF ZIR MODELS
===================
rf
<class 'sklearn.compose._target.TransformedTargetRegressor'>
<class 'pandas.core.frame.DataFrame'>
<class 'pandas.core.frame.DataFrame'>
                                           mean  sd  median   ci95_LL   ci95_UL
lat        lon        depth      time                                          
 57.883302 -61.455161 12.466601  8     12.23419 NaN     NaN  12.23419  12.23419
-78.180436  66.798602 54.154395  10    12.23419 NaN     NaN  12.23419  12.23419
 41.926179 -8.574180  23.650621  9     12.23419 NaN     NaN  12.23419  12.23419
-17.853515  77.116733 164.853837 9     12.23419 NaN     NaN  12.23419  12.23419
 69.843676  48.843553 29.650914  7     12.23419 NaN     NaN  12.23419  12.23419
finished exporting summary stats to:  ./tests/ModelOutput/regressor/predictions/rf/50/Emiliania_huxleyi.nc
exporting rf prediction to: ./tests/ModelOutput/regressor/predictions/rf/50
predicting regressor
===================
DEBUG OF ZIR MODELS
===================
xgb
<class 'sklearn.compose._target.TransformedTargetRegressor'>
<class 'pandas.core.frame.DataFrame'>
<class 'pandas.core.frame.DataFrame'>
                                            mean  sd  ...    ci95_LL    ci95_UL
lat        lon        depth      time                 ...                      
 57.883302 -61.455161 12.466601  8     22.982695 NaN  ...  22.982695  22.982695
-78.180436  66.798602 54.154395  10    10.026672 NaN  ...  10.026672  10.026672
 41.926179 -8.574180  23.650621  9     26.876381 NaN  ...  26.876381  26.876381
-17.853515  77.116733 164.853837 9     14.029385 NaN  ...  14.029385  14.029385
 69.843676  48.843553 29.650914  7     10.282563 NaN  ...  10.282563  10.282563

[5 rows x 5 columns]
finished exporting summary stats to:  ./tests/ModelOutput/regressor/predictions/xgb/50/Emiliania_huxleyi.nc
exporting xgb prediction to: ./tests/ModelOutput/regressor/predictions/xgb/50
predicting regressor
===================
DEBUG OF ZIR MODELS
===================
knn
<class 'sklearn.compose._target.TransformedTargetRegressor'>
<class 'pandas.core.frame.DataFrame'>
<class 'pandas.core.frame.DataFrame'>
                                            mean  sd  ...    ci95_LL    ci95_UL
lat        lon        depth      time                 ...                      
 57.883302 -61.455161 12.466601  8     41.719177 NaN  ...  41.719177  41.719177
-78.180436  66.798602 54.154395  10    15.162630 NaN  ...  15.162630  15.162630
 41.926179 -8.574180  23.650621  9     10.377629 NaN  ...  10.377629  10.377629
-17.853515  77.116733 164.853837 9     21.397969 NaN  ...  21.397969  21.397969
 69.843676  48.843553 29.650914  7     16.230284 NaN  ...  16.230284  16.230284

[5 rows x 5 columns]
finished exporting summary stats to:  ./tests/ModelOutput/regressor/predictions/knn/50/Emiliania_huxleyi.nc
exporting knn prediction to: ./tests/ModelOutput/regressor/predictions/knn/50
                                            mean  ...    ci95_UL
lat        lon        depth      time             ...           
 57.883302 -61.455161 12.466601  8     25.645354  ...  40.782352
-78.180436  66.798602 54.154395  10    12.474497  ...  15.016208
 41.926179 -8.574180  23.650621  9     16.496067  ...  26.144271
-17.853515  77.116733 164.853837 9     15.887181  ...  21.029539
 69.843676  48.843553 29.650914  7     12.915679  ...  16.030479

[5 rows x 5 columns]
finished exporting summary stats to:  ./tests/ModelOutput/regressor/predictions/ens/50/Emiliania_huxleyi.nc
exporting m ens to:  ./tests/ModelOutput/regressor/model/ens/Emiliania_huxleyi_reg.sav
exporting ensemble scores to: ./tests/ModelOutput/regressor/scoring/ens/Emiliania_huxleyi_reg.sav
finished
execution time: 2.5620460510253906 seconds
merging...
./tests/ModelOutput/regressor/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  mean             target
0 -85.883775 -176.278648  0.480177     1   NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2   NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3   NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4   NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5   NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/regressor/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'xgb', 'knn']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           13.581835  ...  -1.281048
-82.584905 -101.800831 10   101.109111           7.958087  ...   0.597408
-81.491508 -54.936770  4    67.944803            4.978628  ...  -1.057419
-78.180436  66.798602  10   54.154395            6.237249  ...  -1.211907
-77.904858 -64.821469  6    1.957816             4.037884  ...  -0.569152

[5 rows x 6 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           13.581835  ...  -1.281048
-82.584905 -101.800831 10   101.109111           7.958087  ...   0.597408
-81.491508 -54.936770  4    67.944803            4.978628  ...  -1.057419
-78.180436  66.798602  10   54.154395            6.237249  ...  -1.211907
-77.904858 -64.821469  6    1.957816             4.037884  ...  -0.569152

[5 rows x 6 columns]
exported ds to: ./tests/ModelOutput/regressor/posts/test_mean_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           13.581835  ...  -1.281048
-82.584905 -101.800831 10   101.109111           7.958087  ...   0.597408
-81.491508 -54.936770  4    67.944803            4.978628  ...  -1.057419
-78.180436  66.798602  10   54.154395            6.237249  ...  -1.211907
-77.904858 -64.821469  6    1.957816             4.037884  ...  -0.569152

[5 rows x 6 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_mean_poc.csv
['Emiliania huxleyi']
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 1.4505125281937314e+16
Processing target: total
Initiate integrated_total
Final integrated total: 1.4505125281937314e+16
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [9.16596370e+14 9.82667404e+14 1.24873233e+15 1.67314959e+15
 1.00099440e+15 4.59768953e+14 1.12592921e+15 1.55522388e+15
 1.99319541e+15 1.33916155e+15 9.77890164e+14 1.23181602e+15]
Processing target: total
Initiate integrated_total
All monthly totals: [9.16596370e+14 9.82667404e+14 1.24873233e+15 1.67314959e+15
 1.00099440e+15 4.59768953e+14 1.12592921e+15 1.55522388e+15
 1.99319541e+15 1.33916155e+15 9.77890164e+14 1.23181602e+15]
Exported totals
merging...
./tests/ModelOutput/regressor/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  median             target
0 -85.883775 -176.278648  0.480177     1     NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2     NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3     NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4     NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5     NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/regressor/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'xgb', 'knn']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            8.666447  ...  -1.281048
-82.584905 -101.800831 10   101.109111           1.595494  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.684957  ...  -1.057419
-78.180436  66.798602  10   54.154395            1.288199  ...  -1.211907
-77.904858 -64.821469  6    1.957816             2.626597  ...  -0.569152

[5 rows x 6 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            8.666447  ...  -1.281048
-82.584905 -101.800831 10   101.109111           1.595494  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.684957  ...  -1.057419
-78.180436  66.798602  10   54.154395            1.288199  ...  -1.211907
-77.904858 -64.821469  6    1.957816             2.626597  ...  -0.569152

[5 rows x 6 columns]
exported ds to: ./tests/ModelOutput/regressor/posts/test_median_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            8.666447  ...  -1.281048
-82.584905 -101.800831 10   101.109111           1.595494  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.684957  ...  -1.057419
-78.180436  66.798602  10   54.154395            1.288199  ...  -1.211907
-77.904858 -64.821469  6    1.957816             2.626597  ...  -0.569152

[5 rows x 6 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_median_poc.csv
['Emiliania huxleyi']
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 7160247031934919.0
Processing target: total
Initiate integrated_total
Final integrated total: 7160247031934919.0
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [4.53114784e+14 4.57172869e+14 7.61299862e+14 9.52961586e+14
 5.18730805e+14 1.05698997e+14 3.26554538e+14 6.78148404e+14
 1.00710120e+15 6.50054886e+14 5.49940714e+14 6.99468391e+14]
Processing target: total
Initiate integrated_total
All monthly totals: [4.53114784e+14 4.57172869e+14 7.61299862e+14 9.52961586e+14
 5.18730805e+14 1.05698997e+14 3.26554538e+14 6.78148404e+14
 1.00710120e+15 6.50054886e+14 5.49940714e+14 6.99468391e+14]
Exported totals
merging...
./tests/ModelOutput/regressor/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  sd             target
0 -85.883775 -176.278648  0.480177     1 NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2 NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3 NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4 NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5 NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/regressor/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'xgb', 'knn']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            8.666447  ...  -1.281048
-82.584905 -101.800831 10   101.109111           1.595494  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.684957  ...  -1.057419
-78.180436  66.798602  10   54.154395            1.288199  ...  -1.211907
-77.904858 -64.821469  6    1.957816             2.626597  ...  -0.569152

[5 rows x 6 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            8.666447  ...  -1.281048
-82.584905 -101.800831 10   101.109111           1.595494  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.684957  ...  -1.057419
-78.180436  66.798602  10   54.154395            1.288199  ...  -1.211907
-77.904858 -64.821469  6    1.957816             2.626597  ...  -0.569152

[5 rows x 6 columns]
exported ds to: ./tests/ModelOutput/regressor/posts/test_sd_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            8.666447  ...  -1.281048
-82.584905 -101.800831 10   101.109111           1.595494  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.684957  ...  -1.057419
-78.180436  66.798602  10   54.154395            1.288199  ...  -1.211907
-77.904858 -64.821469  6    1.957816             2.626597  ...  -0.569152

[5 rows x 6 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_sd_poc.csv
['Emiliania huxleyi']
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 7160247031934919.0
Processing target: total
Initiate integrated_total
Final integrated total: 7160247031934919.0
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [4.53114784e+14 4.57172869e+14 7.61299862e+14 9.52961586e+14
 5.18730805e+14 1.05698997e+14 3.26554538e+14 6.78148404e+14
 1.00710120e+15 6.50054886e+14 5.49940714e+14 6.99468391e+14]
Processing target: total
Initiate integrated_total
All monthly totals: [4.53114784e+14 4.57172869e+14 7.61299862e+14 9.52961586e+14
 5.18730805e+14 1.05698997e+14 3.26554538e+14 6.78148404e+14
 1.00710120e+15 6.50054886e+14 5.49940714e+14 6.99468391e+14]
Exported totals
merging...
./tests/ModelOutput/regressor/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  ci95_UL             target
0 -85.883775 -176.278648  0.480177     1      NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2      NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3      NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4      NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5      NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/regressor/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'xgb', 'knn']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           22.508970  ...  -1.281048
-82.584905 -101.800831 10   101.109111           8.933066  ...   0.597408
-81.491508 -54.936770  4    67.944803            6.867292  ...  -1.057419
-78.180436  66.798602  10   54.154395            7.508104  ...  -1.211907
-77.904858 -64.821469  6    1.957816             6.056766  ...  -0.569152

[5 rows x 6 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           22.508970  ...  -1.281048
-82.584905 -101.800831 10   101.109111           8.933066  ...   0.597408
-81.491508 -54.936770  4    67.944803            6.867292  ...  -1.057419
-78.180436  66.798602  10   54.154395            7.508104  ...  -1.211907
-77.904858 -64.821469  6    1.957816             6.056766  ...  -0.569152

[5 rows x 6 columns]
exported ds to: ./tests/ModelOutput/regressor/posts/test_ci95_UL_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           22.508970  ...  -1.281048
-82.584905 -101.800831 10   101.109111           8.933066  ...   0.597408
-81.491508 -54.936770  4    67.944803            6.867292  ...  -1.057419
-78.180436  66.798602  10   54.154395            7.508104  ...  -1.211907
-77.904858 -64.821469  6    1.957816             6.056766  ...  -0.569152

[5 rows x 6 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_ci95_UL_poc.csv
['Emiliania huxleyi']
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 2.1130209611569868e+16
Processing target: total
Initiate integrated_total
Final integrated total: 2.1130209611569868e+16
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [1.39047712e+15 1.33571695e+15 1.94640915e+15 2.58277384e+15
 1.53893387e+15 5.63744528e+14 1.43225200e+15 2.21375337e+15
 2.91554231e+15 1.96821318e+15 1.44436949e+15 1.79802381e+15]
Processing target: total
Initiate integrated_total
All monthly totals: [1.39047712e+15 1.33571695e+15 1.94640915e+15 2.58277384e+15
 1.53893387e+15 5.63744528e+14 1.43225200e+15 2.21375337e+15
 2.91554231e+15 1.96821318e+15 1.44436949e+15 1.79802381e+15]
Exported totals
merging...
./tests/ModelOutput/regressor/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  ci95_LL             target
0 -85.883775 -176.278648  0.480177     1      NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2      NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3      NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4      NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5      NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/regressor/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'xgb', 'knn']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            6.388353  ...  -1.281048
-82.584905 -101.800831 10   101.109111           6.252143  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.122267  ...  -1.057419
-78.180436  66.798602  10   54.154395            5.068524  ...  -1.211907
-77.904858 -64.821469  6    1.957816             1.277260  ...  -0.569152

[5 rows x 6 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            6.388353  ...  -1.281048
-82.584905 -101.800831 10   101.109111           6.252143  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.122267  ...  -1.057419
-78.180436  66.798602  10   54.154395            5.068524  ...  -1.211907
-77.904858 -64.821469  6    1.957816             1.277260  ...  -0.569152

[5 rows x 6 columns]
exported ds to: ./tests/ModelOutput/regressor/posts/test_ci95_LL_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855            6.388353  ...  -1.281048
-82.584905 -101.800831 10   101.109111           6.252143  ...   0.597408
-81.491508 -54.936770  4    67.944803            2.122267  ...  -1.057419
-78.180436  66.798602  10   54.154395            5.068524  ...  -1.211907
-77.904858 -64.821469  6    1.957816             1.277260  ...  -0.569152

[5 rows x 6 columns]
exported d to: ./tests/ModelOutput/regressor/posts/test_ci95_LL_poc.csv
['Emiliania huxleyi']
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 8173060686618637.0
Processing target: total
Initiate integrated_total
Final integrated total: 8173060686618637.0
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [5.61619825e+14 5.05247510e+14 6.27830801e+14 8.71022941e+14
 6.03160081e+14 3.74716539e+14 8.47711561e+14 9.51230150e+14
 1.08956698e+15 7.68178691e+14 4.39073941e+14 5.33701664e+14]
Processing target: total
Initiate integrated_total
All monthly totals: [5.61619825e+14 5.05247510e+14 6.27830801e+14 8.71022941e+14
 6.03160081e+14 3.74716539e+14 8.47711561e+14 9.51230150e+14
 1.08956698e+15 7.68178691e+14 4.39073941e+14 5.33701664e+14]
Exported totals
length of y:
254
training regressor
{'regressor__estimator__n_estimators': [100], 'regressor__estimator__max_features': [4], 'regressor__estimator__max_depth': [50], 'regressor__estimator__min_samples_leaf': [0.5], 'regressor__estimator__max_samples': [0.5]}
Fitting 3 folds for each of 1 candidates, totalling 3 fits
exported model to: ./tests/ModelOutput/2-phase/model/rf/Emiliania_huxleyi_reg.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/rf/Emiliania_huxleyi_reg.sav
reg rRMSE: 170%
reg rMAE: 136%
reg R2: -0.04
training classifier
length of y_clf:
254
[1. 1. 1. 0. 1. 0. 0. 0. 1. 0. 1. 1. 0. 1. 1. 1. 1. 0. 0. 0. 1. 0. 1. 1.
 1. 0. 1. 1. 0. 0. 0. 1. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 1. 0. 0. 1. 1.
 0. 1. 0. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0. 1. 0. 0. 1. 0. 0. 1. 0. 1. 1. 1.
 0. 0. 0. 1. 1. 1. 1. 0. 1. 1. 0. 1. 1. 0. 1. 0. 1. 1. 1. 0. 1. 0. 0. 0.
 1. 1. 1. 0. 1. 1. 1. 0. 1. 0. 0. 1. 1. 1. 0. 1. 0. 1. 1. 1. 1. 0. 1. 0.
 0. 0. 1. 1. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 0. 0. 0. 0. 0. 1. 1.
 0. 0. 0. 1. 1. 0. 1. 0. 0. 1. 0. 0. 0. 1. 0. 0. 0. 0. 1. 0. 1. 1. 0. 1.
 0. 1. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 1. 0. 1. 0. 0. 0. 0. 0. 0. 0. 0. 0.
 0. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 0. 1. 0. 1. 1. 0. 1. 1. 0. 0. 1. 1. 0.
 0. 0. 0. 1. 1. 0. 0. 1. 1. 0. 1. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 1.
 0. 0. 0. 0. 1. 0. 0. 1. 1. 0. 0. 0. 1. 0.]
Fitting 3 folds for each of 1 candidates, totalling 3 fits
exported model to:./tests/ModelOutput/2-phase/model/rf/Emiliania_huxleyi_clf.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/rf/Emiliania_huxleyi_clf.sav
[0.91041433 0.87415541 0.88125359]
clf balanced accuracy 0.89
training zero-inflated regressor
exported model to: ./tests/ModelOutput/2-phase/model/rf/Emiliania_huxleyi_zir.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/rf/Emiliania_huxleyi_zir.sav
zir rRMSE: 127%
zir rMAE: 71%
zir R2: 0.35
execution time: 0.0 seconds
training regressor
{'regressor__estimator__learning_rate': [0.05], 'regressor__estimator__n_estimators': [100], 'regressor__estimator__max_depth': [7], 'regressor__estimator__subsample': [0.8], 'regressor__estimator__colsample_bytree': [0.5], 'regressor__estimator__gamma': [1], 'regressor__estimator__reg_alpha': [0.1]}
Fitting 3 folds for each of 1 candidates, totalling 3 fits
exported model to: ./tests/ModelOutput/2-phase/model/xgb/Emiliania_huxleyi_reg.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/xgb/Emiliania_huxleyi_reg.sav
reg rRMSE: 156%
reg rMAE: 127%
reg R2: 0.12
training classifier
length of y_clf:
254
[1. 1. 1. 0. 1. 0. 0. 0. 1. 0. 1. 1. 0. 1. 1. 1. 1. 0. 0. 0. 1. 0. 1. 1.
 1. 0. 1. 1. 0. 0. 0. 1. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 1. 0. 0. 1. 1.
 0. 1. 0. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0. 1. 0. 0. 1. 0. 0. 1. 0. 1. 1. 1.
 0. 0. 0. 1. 1. 1. 1. 0. 1. 1. 0. 1. 1. 0. 1. 0. 1. 1. 1. 0. 1. 0. 0. 0.
 1. 1. 1. 0. 1. 1. 1. 0. 1. 0. 0. 1. 1. 1. 0. 1. 0. 1. 1. 1. 1. 0. 1. 0.
 0. 0. 1. 1. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 0. 0. 0. 0. 0. 1. 1.
 0. 0. 0. 1. 1. 0. 1. 0. 0. 1. 0. 0. 0. 1. 0. 0. 0. 0. 1. 0. 1. 1. 0. 1.
 0. 1. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 1. 0. 1. 0. 0. 0. 0. 0. 0. 0. 0. 0.
 0. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 0. 1. 0. 1. 1. 0. 1. 1. 0. 0. 1. 1. 0.
 0. 0. 0. 1. 1. 0. 0. 1. 1. 0. 1. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 1.
 0. 0. 0. 0. 1. 0. 0. 1. 1. 0. 0. 0. 1. 0.]
Fitting 3 folds for each of 1 candidates, totalling 3 fits
exported model to:./tests/ModelOutput/2-phase/model/xgb/Emiliania_huxleyi_clf.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/xgb/Emiliania_huxleyi_clf.sav
[0.72620381 0.63597973 0.6359977 ]
clf balanced accuracy 0.67
training zero-inflated regressor
exported model to: ./tests/ModelOutput/2-phase/model/xgb/Emiliania_huxleyi_zir.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/xgb/Emiliania_huxleyi_zir.sav
zir rRMSE: 158%
zir rMAE: 85%
zir R2: -0.0
execution time: 0.0 seconds
training regressor
{'regressor__estimator__max_samples': [0.2], 'regressor__estimator__max_features': [0.2], 'regressor__estimator__estimator__leaf_size': [25], 'regressor__estimator__estimator__n_neighbors': [3]}
Fitting 3 folds for each of 1 candidates, totalling 3 fits
exported model to: ./tests/ModelOutput/2-phase/model/knn/Emiliania_huxleyi_reg.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/knn/Emiliania_huxleyi_reg.sav
reg rRMSE: 157%
reg rMAE: 119%
reg R2: 0.12
training classifier
length of y_clf:
254
[1. 1. 1. 0. 1. 0. 0. 0. 1. 0. 1. 1. 0. 1. 1. 1. 1. 0. 0. 0. 1. 0. 1. 1.
 1. 0. 1. 1. 0. 0. 0. 1. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 1. 0. 0. 1. 1.
 0. 1. 0. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0. 1. 0. 0. 1. 0. 0. 1. 0. 1. 1. 1.
 0. 0. 0. 1. 1. 1. 1. 0. 1. 1. 0. 1. 1. 0. 1. 0. 1. 1. 1. 0. 1. 0. 0. 0.
 1. 1. 1. 0. 1. 1. 1. 0. 1. 0. 0. 1. 1. 1. 0. 1. 0. 1. 1. 1. 1. 0. 1. 0.
 0. 0. 1. 1. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 0. 0. 0. 0. 0. 1. 1.
 0. 0. 0. 1. 1. 0. 1. 0. 0. 1. 0. 0. 0. 1. 0. 0. 0. 0. 1. 0. 1. 1. 0. 1.
 0. 1. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 1. 0. 1. 0. 0. 0. 0. 0. 0. 0. 0. 0.
 0. 0. 0. 1. 0. 0. 0. 0. 1. 1. 1. 0. 1. 0. 1. 1. 0. 1. 1. 0. 0. 1. 1. 0.
 0. 0. 0. 1. 1. 0. 0. 1. 1. 0. 1. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 1.
 0. 0. 0. 0. 1. 0. 0. 1. 1. 0. 0. 0. 1. 0.]
Fitting 3 folds for each of 1 candidates, totalling 3 fits
exported model to:./tests/ModelOutput/2-phase/model/knn/Emiliania_huxleyi_clf.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/knn/Emiliania_huxleyi_clf.sav
[0.57082867 0.58502252 0.60120759]
clf balanced accuracy 0.59
training zero-inflated regressor
exported model to: ./tests/ModelOutput/2-phase/model/knn/Emiliania_huxleyi_zir.sav
exported scoring to: ./tests/ModelOutput/2-phase/scoring/knn/Emiliania_huxleyi_zir.sav
zir rRMSE: 177%
zir rMAE: 96%
zir R2: -0.25
execution time: 0.0 seconds
initialized prediction
number of models in ensemble:3
predicting zero-inflated regressor
===================
DEBUG OF ZIR MODELS
===================
rf
<class 'functions.ZeroInflatedRegressor'>
<class 'pandas.core.frame.DataFrame'>
<class 'pandas.core.frame.DataFrame'>
predicting zero-inflated regressor
===================
DEBUG OF ZIR MODELS
===================
knn
<class 'functions.ZeroInflatedRegressor'>
<class 'pandas.core.frame.DataFrame'>
<class 'pandas.core.frame.DataFrame'>
predicting zero-inflated regressor
===================
DEBUG OF ZIR MODELS
===================
xgb
<class 'functions.ZeroInflatedRegressor'>
<class 'pandas.core.frame.DataFrame'>
<class 'pandas.core.frame.DataFrame'>
loading clf
loading reg
loading clf
loading reg
loading clf
loading reg
defining voting regressor
defining ZIR
predicting ZIR
                                            mean  ...    ci95_UL
lat        lon        depth      time             ...           
 57.883302 -61.455161 12.466601  8     31.180382  ...  37.757588
-78.180436  66.798602 54.154395  10    23.513309  ...  28.443571
 41.926179 -8.574180  23.650621  9      0.000000  ...  28.479342
-17.853515  77.116733 164.853837 9     36.693103  ...  52.312748
 69.843676  48.843553 29.650914  7     28.660261  ...  34.650564

[5 rows x 5 columns]
finished exporting summary stats to:  ./tests/ModelOutput/2-phase/predictions/ens/50/Emiliania_huxleyi.nc
exporting ZIR object
exporting to ens:  ./tests/ModelOutput/2-phase/model/ens/Emiliania_huxleyi_zir.sav
exporting ensemble scores to: ./tests/ModelOutput/2-phase/scoring/ens/Emiliania_huxleyi_zir.sav
finished
execution time: 1.3338351249694824 seconds
merging...
./tests/ModelOutput/2-phase/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  mean             target
0 -85.883775 -176.278648  0.480177     1   NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2   NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3   NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4   NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5   NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/2-phase/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'knn', 'xgb']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating shannon diversity
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           18.023105  ...  -1.281048
-82.584905 -101.800831 10   101.109111          11.518819  ...   0.597408
-81.491508 -54.936770  4    67.944803           14.865692  ...  -1.057419
-78.180436  66.798602  10   54.154395           11.756655  ...  -1.211907
-70.802934  88.227887  3    128.724946          17.170485  ...  -1.192067

[5 rows x 7 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           18.023105  ...  -1.281048
-82.584905 -101.800831 10   101.109111          11.518819  ...   0.597408
-81.491508 -54.936770  4    67.944803           14.865692  ...  -1.057419
-78.180436  66.798602  10   54.154395           11.756655  ...  -1.211907
-70.802934  88.227887  3    128.724946          17.170485  ...  -1.192067

[5 rows x 7 columns]
exported ds to: ./tests/ModelOutput/2-phase/posts/test_mean_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           18.023105  ...  -1.281048
-82.584905 -101.800831 10   101.109111          11.518819  ...   0.597408
-81.491508 -54.936770  4    67.944803           14.865692  ...  -1.057419
-78.180436  66.798602  10   54.154395           11.756655  ...  -1.211907
-70.802934  88.227887  3    128.724946          17.170485  ...  -1.192067

[5 rows x 7 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_mean_poc.csv
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [1.10658956e+15 1.97373323e+15 9.56833717e+14 1.07720848e+15
 4.28754730e+14 1.24525696e+15 1.46096554e+15 3.06533946e+14
 1.40634644e+15 1.53020000e+15 1.25887581e+15]
Processing target: total
Initiate integrated_total
All monthly totals: [1.10658956e+15 1.97373323e+15 9.56833717e+14 1.07720848e+15
 4.28754730e+14 1.24525696e+15 1.46096554e+15 3.06533946e+14
 1.40634644e+15 1.53020000e+15 1.25887581e+15]
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 1.2751298403483772e+16
Processing target: total
Initiate integrated_total
Final integrated total: 1.2751298403483772e+16
Exported totals
merging...
./tests/ModelOutput/2-phase/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  median             target
0 -85.883775 -176.278648  0.480177     1     NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2     NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3     NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4     NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5     NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/2-phase/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'knn', 'xgb']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating shannon diversity
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-81.491508 -54.936770  4    67.944803            4.297943  ...  -1.057419
-70.802934  88.227887  3    128.724946           6.588943  ...  -1.192067
-69.024098 -104.686115 12   156.290908           3.190277  ...   0.298015
-64.794662 -70.864387  2    161.773102           5.409858  ...  -0.486982
-55.091781 -120.507249 4    151.340252           5.580919  ...   1.778089

[5 rows x 7 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-81.491508 -54.936770  4    67.944803            4.297943  ...  -1.057419
-70.802934  88.227887  3    128.724946           6.588943  ...  -1.192067
-69.024098 -104.686115 12   156.290908           3.190277  ...   0.298015
-64.794662 -70.864387  2    161.773102           5.409858  ...  -0.486982
-55.091781 -120.507249 4    151.340252           5.580919  ...   1.778089

[5 rows x 7 columns]
exported ds to: ./tests/ModelOutput/2-phase/posts/test_median_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-81.491508 -54.936770  4    67.944803            4.297943  ...  -1.057419
-70.802934  88.227887  3    128.724946           6.588943  ...  -1.192067
-69.024098 -104.686115 12   156.290908           3.190277  ...   0.298015
-64.794662 -70.864387  2    161.773102           5.409858  ...  -0.486982
-55.091781 -120.507249 4    151.340252           5.580919  ...   1.778089

[5 rows x 7 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_median_poc.csv
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [1.49206300e+14 3.39982844e+14 6.66241470e+14 1.19265583e+14
 6.06595395e+13 9.66539629e+13 2.13920691e+14 3.04158501e+14
 8.31448512e+14 1.93541691e+14 7.57229452e+14 3.20001237e+14]
Processing target: total
Initiate integrated_total
All monthly totals: [1.49206300e+14 3.39982844e+14 6.66241470e+14 1.19265583e+14
 6.06595395e+13 9.66539629e+13 2.13920691e+14 3.04158501e+14
 8.31448512e+14 1.93541691e+14 7.57229452e+14 3.20001237e+14]
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 4052309782584995.5
Processing target: total
Initiate integrated_total
Final integrated total: 4052309782584995.5
Exported totals
merging...
./tests/ModelOutput/2-phase/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  sd             target
0 -85.883775 -176.278648  0.480177     1 NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2 NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3 NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4 NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5 NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/2-phase/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'knn', 'xgb']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating shannon diversity
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-81.491508 -54.936770  4    67.944803            4.297943  ...  -1.057419
-70.802934  88.227887  3    128.724946           6.588943  ...  -1.192067
-69.024098 -104.686115 12   156.290908           3.190277  ...   0.298015
-64.794662 -70.864387  2    161.773102           5.409858  ...  -0.486982
-55.091781 -120.507249 4    151.340252           5.580919  ...   1.778089

[5 rows x 7 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-81.491508 -54.936770  4    67.944803            4.297943  ...  -1.057419
-70.802934  88.227887  3    128.724946           6.588943  ...  -1.192067
-69.024098 -104.686115 12   156.290908           3.190277  ...   0.298015
-64.794662 -70.864387  2    161.773102           5.409858  ...  -0.486982
-55.091781 -120.507249 4    151.340252           5.580919  ...   1.778089

[5 rows x 7 columns]
exported ds to: ./tests/ModelOutput/2-phase/posts/test_sd_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-81.491508 -54.936770  4    67.944803            4.297943  ...  -1.057419
-70.802934  88.227887  3    128.724946           6.588943  ...  -1.192067
-69.024098 -104.686115 12   156.290908           3.190277  ...   0.298015
-64.794662 -70.864387  2    161.773102           5.409858  ...  -0.486982
-55.091781 -120.507249 4    151.340252           5.580919  ...   1.778089

[5 rows x 7 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_sd_poc.csv
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [1.49206300e+14 3.39982844e+14 6.66241470e+14 1.19265583e+14
 6.06595395e+13 9.66539629e+13 2.13920691e+14 3.04158501e+14
 8.31448512e+14 1.93541691e+14 7.57229452e+14 3.20001237e+14]
Processing target: total
Initiate integrated_total
All monthly totals: [1.49206300e+14 3.39982844e+14 6.66241470e+14 1.19265583e+14
 6.06595395e+13 9.66539629e+13 2.13920691e+14 3.04158501e+14
 8.31448512e+14 1.93541691e+14 7.57229452e+14 3.20001237e+14]
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 4052309782584995.5
Processing target: total
Initiate integrated_total
Final integrated total: 4052309782584995.5
Exported totals
merging...
./tests/ModelOutput/2-phase/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  ci95_UL             target
0 -85.883775 -176.278648  0.480177     1      NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2      NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3      NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4      NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5      NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/2-phase/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'knn', 'xgb']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating shannon diversity
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           25.063947  ...  -1.281048
-82.584905 -101.800831 10   101.109111          14.230887  ...   0.597408
-81.491508 -54.936770  4    67.944803           19.127917  ...  -1.057419
-78.180436  66.798602  10   54.154395           14.221786  ...  -1.211907
-70.802934  88.227887  3    128.724946          24.177466  ...  -1.192067

[5 rows x 7 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           25.063947  ...  -1.281048
-82.584905 -101.800831 10   101.109111          14.230887  ...   0.597408
-81.491508 -54.936770  4    67.944803           19.127917  ...  -1.057419
-78.180436  66.798602  10   54.154395           14.221786  ...  -1.211907
-70.802934  88.227887  3    128.724946          24.177466  ...  -1.192067

[5 rows x 7 columns]
exported ds to: ./tests/ModelOutput/2-phase/posts/test_ci95_UL_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           25.063947  ...  -1.281048
-82.584905 -101.800831 10   101.109111          14.230887  ...   0.597408
-81.491508 -54.936770  4    67.944803           19.127917  ...  -1.057419
-78.180436  66.798602  10   54.154395           14.221786  ...  -1.211907
-70.802934  88.227887  3    128.724946          24.177466  ...  -1.192067

[5 rows x 7 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_ci95_UL_poc.csv
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [1.63864996e+15 2.00668542e+15 3.13568201e+15 3.05366038e+15
 2.48639672e+15 1.19976579e+15 2.48024264e+15 2.98344592e+15
 5.34785122e+15 2.71458203e+15 3.37416935e+15 3.04188963e+15]
Processing target: total
Initiate integrated_total
All monthly totals: [1.63864996e+15 2.00668542e+15 3.13568201e+15 3.05366038e+15
 2.48639672e+15 1.19976579e+15 2.48024264e+15 2.98344592e+15
 5.34785122e+15 2.71458203e+15 3.37416935e+15 3.04188963e+15]
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 3.3463021069856372e+16
Processing target: total
Initiate integrated_total
Final integrated total: 3.3463021069856372e+16
Exported totals
merging...
./tests/ModelOutput/2-phase/predictions/ens/50
finished loading netcdf files
         lat         lon     depth  time  ci95_LL             target
0 -85.883775 -176.278648  0.480177     1      NaN  Emiliania huxleyi
1 -85.883775 -176.278648  0.480177     2      NaN  Emiliania huxleyi
2 -85.883775 -176.278648  0.480177     3      NaN  Emiliania huxleyi
3 -85.883775 -176.278648  0.480177     4      NaN  Emiliania huxleyi
4 -85.883775 -176.278648  0.480177     5      NaN  Emiliania huxleyi
Model configuration exported to: ./tests/ModelOutput/2-phase/posts/model_config.yml
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
the target is:
Emiliania huxleyi
finished merging parameters
models included in merge performance!
['rf', 'knn', 'xgb']
finished merging performance
finished merging performance
finished merging performance
finished merging performance
[0.5]
finished estimating pg poc
finished calculating shannon diversity
finished calculating total
                         Emiliania huxleyi  ...  Emiliania huxleyi_resid
lat   lon    depth time                     ...                         
-64.0 -170.0 100.0 12               1130.0  ...                      NaN
       175.0 0.0   1               96109.0  ...                      NaN
-63.0 -142.0 40.0  12                796.0  ...                      NaN
             60.0  12               1180.0  ...                      NaN
      -66.0  5.0   2                 441.0  ...                      NaN

[5 rows x 3 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_obs_poc.csv
training merged with predictions
export_ds
dataframe: 
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           14.060132  ...  -1.281048
-82.584905 -101.800831 10   101.109111           9.266340  ...   0.597408
-78.180436  66.798602  10   54.154395           10.107992  ...  -1.211907
-57.825060 -167.055561 1    134.750132           5.252787  ...  -0.566650
-55.500090  74.438812  11   30.998217           13.491155  ...  -0.047882

[5 rows x 7 columns]
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           14.060132  ...  -1.281048
-82.584905 -101.800831 10   101.109111           9.266340  ...   0.597408
-78.180436  66.798602  10   54.154395           10.107992  ...  -1.211907
-57.825060 -167.055561 1    134.750132           5.252787  ...  -0.566650
-55.500090  74.438812  11   30.998217           13.491155  ...  -0.047882

[5 rows x 7 columns]
exported ds to: ./tests/ModelOutput/2-phase/posts/test_ci95_LL_poc.nc
                                        Emiliania huxleyi  ...  feature_3
lat        lon         time depth                          ...           
-85.883775 -64.658268  10   70.183855           14.060132  ...  -1.281048
-82.584905 -101.800831 10   101.109111           9.266340  ...   0.597408
-78.180436  66.798602  10   54.154395           10.107992  ...  -1.211907
-57.825060 -167.055561 1    134.750132           5.252787  ...  -0.566650
-55.500090  74.438812  11   30.998217           13.491155  ...  -0.047882

[5 rows x 7 columns]
exported d to: ./tests/ModelOutput/2-phase/posts/test_ci95_LL_poc.csv
Processing target: Emiliania huxleyi
Initiate integrated_total
All monthly totals: [6.53072776e+14 4.30389454e+13 1.24951032e+14 4.64007336e+14
 1.79400395e+14 3.45282405e+14 8.62578690e+14 4.15023730e+14
 2.27941718e+14 3.50017531e+14 3.42780112e+14]
Processing target: total
Initiate integrated_total
All monthly totals: [6.53072776e+14 4.30389454e+13 1.24951032e+14 4.64007336e+14
 1.79400395e+14 3.45282405e+14 8.62578690e+14 4.15023730e+14
 2.27941718e+14 3.50017531e+14 3.42780112e+14]
Exported totals
Processing target: Emiliania huxleyi
Initiate integrated_total
Final integrated total: 4008094670011157.5
Processing target: total
Initiate integrated_total
Final integrated total: 4008094670011157.5
Exported totals
