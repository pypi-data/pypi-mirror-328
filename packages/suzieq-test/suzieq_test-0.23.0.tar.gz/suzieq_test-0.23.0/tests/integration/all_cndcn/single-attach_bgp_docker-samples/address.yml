description: 'Testing verbs for address: show summarize unique'
tests:
- command: address show --format=json --namespace=single-attach_bgp_docker
  data-directory: /tmp/suzieq-tests-parquet/single-attach_bgp_docker/parquet-out
  marks: address show
  output: '[{"namespace": "single-attach_bgp_docker", "hostname": "edge01", "ifname":
    "eth0", "ipAddressList": ["192.168.121.37/24"], "macaddr": "52:54:00:c4:c5:2c",
    "ip6AddressList": [], "state": "up", "timestamp": 1594389609308}, {"namespace":
    "single-attach_bgp_docker", "hostname": "edge01", "ifname": "eth1.2", "ipAddressList":
    ["169.254.254.2/30"], "macaddr": "44:38:39:00:00:4a", "ip6AddressList": [], "state":
    "up", "timestamp": 1594389609308}, {"namespace": "single-attach_bgp_docker", "hostname":
    "edge01", "ifname": "eth1.4", "ipAddressList": ["169.254.254.10/30"], "macaddr":
    "44:38:39:00:00:4a", "ip6AddressList": [], "state": "up", "timestamp": 1594389609308},
    {"namespace": "single-attach_bgp_docker", "hostname": "edge01", "ifname": "eth2.2",
    "ipAddressList": ["169.254.253.2/30"], "macaddr": "44:38:39:00:00:0b", "ip6AddressList":
    [], "state": "up", "timestamp": 1594389609308}, {"namespace": "single-attach_bgp_docker",
    "hostname": "edge01", "ifname": "eth2.4", "ipAddressList": ["169.254.253.10/30"],
    "macaddr": "44:38:39:00:00:0b", "ip6AddressList": [], "state": "up", "timestamp":
    1594389609308}, {"namespace": "single-attach_bgp_docker", "hostname": "edge01",
    "ifname": "lo", "ipAddressList": ["10.0.0.100/32"], "macaddr": "00:00:00:00:00:00",
    "ip6AddressList": [], "state": "up", "timestamp": 1594389609308}, {"namespace":
    "single-attach_bgp_docker", "hostname": "exit01", "ifname": "eth0", "ipAddressList":
    ["192.168.121.3/24"], "macaddr": "52:54:00:a1:4d:0d", "ip6AddressList": ["fe80::5054:ff:fea1:4d0d/64"],
    "state": "up", "timestamp": 1594389609525}, {"namespace": "single-attach_bgp_docker",
    "hostname": "exit01", "ifname": "internet-vrf", "ipAddressList": ["10.0.0.101/32"],
    "macaddr": "32:4e:d8:9c:65:f1", "ip6AddressList": [], "state": "up", "timestamp":
    1594389609525}, {"namespace": "single-attach_bgp_docker", "hostname": "exit01",
    "ifname": "lo", "ipAddressList": ["10.0.0.101/32"], "macaddr": "00:00:00:00:00:00",
    "ip6AddressList": ["::1/128"], "state": "up", "timestamp": 1594389609525}, {"namespace":
    "single-attach_bgp_docker", "hostname": "exit01", "ifname": "mgmt", "ipAddressList":
    ["127.0.0.1/8"], "macaddr": "a2:af:81:4a:94:10", "ip6AddressList": [], "state":
    "up", "timestamp": 1594389609525}, {"namespace": "single-attach_bgp_docker", "hostname":
    "exit01", "ifname": "swp5.2", "ipAddressList": ["169.254.254.1/30"], "macaddr":
    "44:38:39:00:00:4b", "ip6AddressList": ["fe80::4638:39ff:fe00:4b/64"], "state":
    "up", "timestamp": 1594389609525}, {"namespace": "single-attach_bgp_docker", "hostname":
    "exit01", "ifname": "swp5.4", "ipAddressList": ["169.254.254.9/30"], "macaddr":
    "44:38:39:00:00:4b", "ip6AddressList": ["fe80::4638:39ff:fe00:4b/64"], "state":
    "up", "timestamp": 1594389609525}, {"namespace": "single-attach_bgp_docker", "hostname":
    "exit01", "ifname": "swp6", "ipAddressList": ["169.254.127.1/31"], "macaddr":
    "44:38:39:00:00:08", "ip6AddressList": ["fe80::4638:39ff:fe00:8/64"], "state":
    "up", "timestamp": 1594389609525}, {"namespace": "single-attach_bgp_docker", "hostname":
    "exit02", "ifname": "eth0", "ipAddressList": ["192.168.121.162/24"], "macaddr":
    "52:54:00:57:5e:59", "ip6AddressList": ["fe80::5054:ff:fe57:5e59/64"], "state":
    "up", "timestamp": 1594389609526}, {"namespace": "single-attach_bgp_docker", "hostname":
    "exit02", "ifname": "internet-vrf", "ipAddressList": ["10.0.0.102/32"], "macaddr":
    "16:5f:36:49:b6:a8", "ip6AddressList": [], "state": "up", "timestamp": 1594389609526},
    {"namespace": "single-attach_bgp_docker", "hostname": "exit02", "ifname": "lo",
    "ipAddressList": ["10.0.0.102/32"], "macaddr": "00:00:00:00:00:00", "ip6AddressList":
    ["::1/128"], "state": "up", "timestamp": 1594389609526}, {"namespace": "single-attach_bgp_docker",
    "hostname": "exit02", "ifname": "mgmt", "ipAddressList": ["127.0.0.1/8"], "macaddr":
    "2a:0d:f6:0c:f3:b2", "ip6AddressList": [], "state": "up", "timestamp": 1594389609526},
    {"namespace": "single-attach_bgp_docker", "hostname": "exit02", "ifname": "swp5.2",
    "ipAddressList": ["169.254.253.1/30"], "macaddr": "44:38:39:00:00:0c", "ip6AddressList":
    ["fe80::4638:39ff:fe00:c/64"], "state": "up", "timestamp": 1594389609526}, {"namespace":
    "single-attach_bgp_docker", "hostname": "exit02", "ifname": "swp5.4", "ipAddressList":
    ["169.254.253.9/30"], "macaddr": "44:38:39:00:00:0c", "ip6AddressList": ["fe80::4638:39ff:fe00:c/64"],
    "state": "up", "timestamp": 1594389609526}, {"namespace": "single-attach_bgp_docker",
    "hostname": "exit02", "ifname": "swp6", "ipAddressList": ["169.254.127.3/31"],
    "macaddr": "44:38:39:00:00:3f", "ip6AddressList": ["fe80::4638:39ff:fe00:3f/64"],
    "state": "up", "timestamp": 1594389609526}, {"namespace": "single-attach_bgp_docker",
    "hostname": "internet", "ifname": "eth0", "ipAddressList": ["192.168.121.201/24"],
    "macaddr": "52:54:00:d1:62:01", "ip6AddressList": ["fe80::5054:ff:fed1:6201/64"],
    "state": "up", "timestamp": 1594389609532}, {"namespace": "single-attach_bgp_docker",
    "hostname": "internet", "ifname": "lo", "ipAddressList": ["10.0.0.253/32", "172.16.253.1/32"],
    "macaddr": "00:00:00:00:00:00", "ip6AddressList": ["::1/128"], "state": "up",
    "timestamp": 1594389609532}, {"namespace": "single-attach_bgp_docker", "hostname":
    "internet", "ifname": "swp1", "ipAddressList": ["169.254.127.0/31"], "macaddr":
    "44:38:39:00:00:07", "ip6AddressList": ["fe80::4638:39ff:fe00:7/64"], "state":
    "up", "timestamp": 1594389609532}, {"namespace": "single-attach_bgp_docker", "hostname":
    "internet", "ifname": "swp2", "ipAddressList": ["169.254.127.2/31"], "macaddr":
    "44:38:39:00:00:3e", "ip6AddressList": ["fe80::4638:39ff:fe00:3e/64"], "state":
    "up", "timestamp": 1594389609532}, {"namespace": "single-attach_bgp_docker", "hostname":
    "leaf01", "ifname": "eth0", "ipAddressList": ["192.168.121.69/24"], "macaddr":
    "52:54:00:7b:3e:74", "ip6AddressList": ["fe80::5054:ff:fe7b:3e74/64"], "state":
    "up", "timestamp": 1594389609545}, {"namespace": "single-attach_bgp_docker", "hostname":
    "leaf01", "ifname": "lo", "ipAddressList": ["10.0.0.11/32"], "macaddr": "00:00:00:00:00:00",
    "ip6AddressList": ["::1/128"], "state": "up", "timestamp": 1594389609545}, {"namespace":
    "single-attach_bgp_docker", "hostname": "leaf01", "ifname": "mgmt", "ipAddressList":
    ["127.0.0.1/8"], "macaddr": "8a:e0:20:c0:8c:92", "ip6AddressList": [], "state":
    "up", "timestamp": 1594389609545}, {"namespace": "single-attach_bgp_docker", "hostname":
    "leaf01", "ifname": "vlan10", "ipAddressList": ["172.16.1.1/24"], "macaddr": "44:38:39:00:00:03",
    "ip6AddressList": ["fe80::4638:39ff:fe00:3/64"], "state": "up", "timestamp": 1594389609545},
    {"namespace": "single-attach_bgp_docker", "hostname": "leaf02", "ifname": "eth0",
    "ipAddressList": ["192.168.121.128/24"], "macaddr": "52:54:00:eb:5e:e2", "ip6AddressList":
    ["fe80::5054:ff:feeb:5ee2/64"], "state": "up", "timestamp": 1594389609586}, {"namespace":
    "single-attach_bgp_docker", "hostname": "leaf02", "ifname": "lo", "ipAddressList":
    ["10.0.0.12/32"], "macaddr": "00:00:00:00:00:00", "ip6AddressList": ["::1/128"],
    "state": "up", "timestamp": 1594389609586}, {"namespace": "single-attach_bgp_docker",
    "hostname": "leaf02", "ifname": "mgmt", "ipAddressList": ["127.0.0.1/8"], "macaddr":
    "6e:9f:d9:3a:e5:44", "ip6AddressList": [], "state": "up", "timestamp": 1594389609586},
    {"namespace": "single-attach_bgp_docker", "hostname": "leaf02", "ifname": "vlan10",
    "ipAddressList": ["172.16.2.1/24"], "macaddr": "44:38:39:00:00:18", "ip6AddressList":
    ["fe80::4638:39ff:fe00:18/64"], "state": "up", "timestamp": 1594389609586}, {"namespace":
    "single-attach_bgp_docker", "hostname": "leaf03", "ifname": "eth0", "ipAddressList":
    ["192.168.121.164/24"], "macaddr": "52:54:00:66:25:3b", "ip6AddressList": ["fe80::5054:ff:fe66:253b/64"],
    "state": "up", "timestamp": 1594389609556}, {"namespace": "single-attach_bgp_docker",
    "hostname": "leaf03", "ifname": "lo", "ipAddressList": ["10.0.0.13/32"], "macaddr":
    "00:00:00:00:00:00", "ip6AddressList": ["::1/128"], "state": "up", "timestamp":
    1594389609556}, {"namespace": "single-attach_bgp_docker", "hostname": "leaf03",
    "ifname": "mgmt", "ipAddressList": ["127.0.0.1/8"], "macaddr": "62:69:cf:c5:ab:b5",
    "ip6AddressList": [], "state": "up", "timestamp": 1594389609556}, {"namespace":
    "single-attach_bgp_docker", "hostname": "leaf03", "ifname": "vlan10", "ipAddressList":
    ["172.16.3.1/24"], "macaddr": "44:38:39:00:00:1f", "ip6AddressList": ["fe80::4638:39ff:fe00:1f/64"],
    "state": "up", "timestamp": 1594389609556}, {"namespace": "single-attach_bgp_docker",
    "hostname": "leaf04", "ifname": "eth0", "ipAddressList": ["192.168.121.89/24"],
    "macaddr": "52:54:00:18:ab:2f", "ip6AddressList": ["fe80::5054:ff:fe18:ab2f/64"],
    "state": "up", "timestamp": 1594389609527}, {"namespace": "single-attach_bgp_docker",
    "hostname": "leaf04", "ifname": "lo", "ipAddressList": ["10.0.0.14/32"], "macaddr":
    "00:00:00:00:00:00", "ip6AddressList": ["::1/128"], "state": "up", "timestamp":
    1594389609527}, {"namespace": "single-attach_bgp_docker", "hostname": "leaf04",
    "ifname": "mgmt", "ipAddressList": ["127.0.0.1/8"], "macaddr": "62:52:da:b4:45:0d",
    "ip6AddressList": [], "state": "up", "timestamp": 1594389609527}, {"namespace":
    "single-attach_bgp_docker", "hostname": "leaf04", "ifname": "vlan10", "ipAddressList":
    ["172.16.4.1/24"], "macaddr": "44:38:39:00:00:2c", "ip6AddressList": ["fe80::4638:39ff:fe00:2c/64"],
    "state": "up", "timestamp": 1594389609527}, {"namespace": "single-attach_bgp_docker",
    "hostname": "server101", "ifname": "docker0", "ipAddressList": ["192.168.10.1/24"],
    "macaddr": "02:42:e1:c3:a8:1c", "ip6AddressList": [], "state": "down", "timestamp":
    1594389609308}, {"namespace": "single-attach_bgp_docker", "hostname": "server101",
    "ifname": "eth0", "ipAddressList": ["192.168.121.245/24"], "macaddr": "52:54:00:c3:ac:2f",
    "ip6AddressList": [], "state": "up", "timestamp": 1594389609308}, {"namespace":
    "single-attach_bgp_docker", "hostname": "server101", "ifname": "eth1", "ipAddressList":
    ["172.16.1.101/24"], "macaddr": "00:03:00:11:11:01", "ip6AddressList": [], "state":
    "up", "timestamp": 1594389609308}, {"namespace": "single-attach_bgp_docker", "hostname":
    "server102", "ifname": "docker0", "ipAddressList": ["192.168.11.1/24"], "macaddr":
    "02:42:e9:24:1a:88", "ip6AddressList": [], "state": "down", "timestamp": 1594389609308},
    {"namespace": "single-attach_bgp_docker", "hostname": "server102", "ifname": "eth0",
    "ipAddressList": ["192.168.121.29/24"], "macaddr": "52:54:00:7a:75:65", "ip6AddressList":
    [], "state": "up", "timestamp": 1594389609308}, {"namespace": "single-attach_bgp_docker",
    "hostname": "server102", "ifname": "eth1", "ipAddressList": ["172.16.2.102/24"],
    "macaddr": "00:03:00:22:22:02", "ip6AddressList": [], "state": "up", "timestamp":
    1594389609308}, {"namespace": "single-attach_bgp_docker", "hostname": "server103",
    "ifname": "docker0", "ipAddressList": ["192.168.12.1/24"], "macaddr": "02:42:bd:38:c0:b0",
    "ip6AddressList": [], "state": "down", "timestamp": 1594389609307}, {"namespace":
    "single-attach_bgp_docker", "hostname": "server103", "ifname": "eth0", "ipAddressList":
    ["192.168.121.116/24"], "macaddr": "52:54:00:ad:77:19", "ip6AddressList": [],
    "state": "up", "timestamp": 1594389609307}, {"namespace": "single-attach_bgp_docker",
    "hostname": "server103", "ifname": "eth1", "ipAddressList": ["172.16.3.103/24"],
    "macaddr": "00:03:00:33:33:01", "ip6AddressList": [], "state": "up", "timestamp":
    1594389609307}, {"namespace": "single-attach_bgp_docker", "hostname": "server104",
    "ifname": "docker0", "ipAddressList": ["192.168.13.1/24"], "macaddr": "02:42:80:9a:dd:e3",
    "ip6AddressList": [], "state": "down", "timestamp": 1594389609308}, {"namespace":
    "single-attach_bgp_docker", "hostname": "server104", "ifname": "eth0", "ipAddressList":
    ["192.168.121.184/24"], "macaddr": "52:54:00:d9:0b:fe", "ip6AddressList": [],
    "state": "up", "timestamp": 1594389609308}, {"namespace": "single-attach_bgp_docker",
    "hostname": "server104", "ifname": "eth1", "ipAddressList": ["172.16.4.104/24"],
    "macaddr": "00:03:00:44:44:02", "ip6AddressList": [], "state": "up", "timestamp":
    1594389609308}, {"namespace": "single-attach_bgp_docker", "hostname": "spine01",
    "ifname": "eth0", "ipAddressList": ["192.168.121.222/24"], "macaddr": "52:54:00:80:2f:f5",
    "ip6AddressList": ["fe80::5054:ff:fe80:2ff5/64"], "state": "up", "timestamp":
    1594389609584}, {"namespace": "single-attach_bgp_docker", "hostname": "spine01",
    "ifname": "lo", "ipAddressList": ["10.0.0.21/32"], "macaddr": "00:00:00:00:00:00",
    "ip6AddressList": ["::1/128"], "state": "up", "timestamp": 1594389609584}, {"namespace":
    "single-attach_bgp_docker", "hostname": "spine01", "ifname": "mgmt", "ipAddressList":
    ["127.0.0.1/8"], "macaddr": "5a:bb:ad:41:bd:03", "ip6AddressList": [], "state":
    "up", "timestamp": 1594389609584}, {"namespace": "single-attach_bgp_docker", "hostname":
    "spine02", "ifname": "eth0", "ipAddressList": ["192.168.121.113/24"], "macaddr":
    "52:54:00:4d:25:4b", "ip6AddressList": ["fe80::5054:ff:fe4d:254b/64"], "state":
    "up", "timestamp": 1594389609563}, {"namespace": "single-attach_bgp_docker", "hostname":
    "spine02", "ifname": "lo", "ipAddressList": ["10.0.0.22/32"], "macaddr": "00:00:00:00:00:00",
    "ip6AddressList": ["::1/128"], "state": "up", "timestamp": 1594389609563}, {"namespace":
    "single-attach_bgp_docker", "hostname": "spine02", "ifname": "mgmt", "ipAddressList":
    ["127.0.0.1/8"], "macaddr": "f2:a0:74:f1:41:93", "ip6AddressList": [], "state":
    "up", "timestamp": 1594389609563}]'
- command: address show --columns=hostname --format=json --namespace=single-attach_bgp_docker
  data-directory: /tmp/suzieq-tests-parquet/single-attach_bgp_docker/parquet-out
  marks: address show
  output: '[{"hostname": "edge01"}, {"hostname": "edge01"}, {"hostname": "edge01"},
    {"hostname": "edge01"}, {"hostname": "edge01"}, {"hostname": "edge01"}, {"hostname":
    "edge01"}, {"hostname": "edge01"}, {"hostname": "exit01"}, {"hostname": "exit01"},
    {"hostname": "exit01"}, {"hostname": "exit01"}, {"hostname": "exit01"}, {"hostname":
    "exit01"}, {"hostname": "exit01"}, {"hostname": "exit01"}, {"hostname": "exit01"},
    {"hostname": "exit01"}, {"hostname": "exit01"}, {"hostname": "exit01"}, {"hostname":
    "exit02"}, {"hostname": "exit02"}, {"hostname": "exit02"}, {"hostname": "exit02"},
    {"hostname": "exit02"}, {"hostname": "exit02"}, {"hostname": "exit02"}, {"hostname":
    "exit02"}, {"hostname": "exit02"}, {"hostname": "exit02"}, {"hostname": "exit02"},
    {"hostname": "exit02"}, {"hostname": "internet"}, {"hostname": "internet"}, {"hostname":
    "internet"}, {"hostname": "internet"}, {"hostname": "leaf01"}, {"hostname": "leaf01"},
    {"hostname": "leaf01"}, {"hostname": "leaf01"}, {"hostname": "leaf01"}, {"hostname":
    "leaf01"}, {"hostname": "leaf01"}, {"hostname": "leaf01"}, {"hostname": "leaf01"},
    {"hostname": "leaf01"}, {"hostname": "leaf02"}, {"hostname": "leaf02"}, {"hostname":
    "leaf02"}, {"hostname": "leaf02"}, {"hostname": "leaf02"}, {"hostname": "leaf02"},
    {"hostname": "leaf02"}, {"hostname": "leaf02"}, {"hostname": "leaf02"}, {"hostname":
    "leaf02"}, {"hostname": "leaf03"}, {"hostname": "leaf03"}, {"hostname": "leaf03"},
    {"hostname": "leaf03"}, {"hostname": "leaf03"}, {"hostname": "leaf03"}, {"hostname":
    "leaf03"}, {"hostname": "leaf03"}, {"hostname": "leaf03"}, {"hostname": "leaf03"},
    {"hostname": "leaf04"}, {"hostname": "leaf04"}, {"hostname": "leaf04"}, {"hostname":
    "leaf04"}, {"hostname": "leaf04"}, {"hostname": "leaf04"}, {"hostname": "leaf04"},
    {"hostname": "leaf04"}, {"hostname": "leaf04"}, {"hostname": "leaf04"}, {"hostname":
    "server101"}, {"hostname": "server101"}, {"hostname": "server101"}, {"hostname":
    "server101"}, {"hostname": "server102"}, {"hostname": "server102"}, {"hostname":
    "server102"}, {"hostname": "server102"}, {"hostname": "server103"}, {"hostname":
    "server103"}, {"hostname": "server103"}, {"hostname": "server103"}, {"hostname":
    "server104"}, {"hostname": "server104"}, {"hostname": "server104"}, {"hostname":
    "server104"}, {"hostname": "spine01"}, {"hostname": "spine01"}, {"hostname": "spine01"},
    {"hostname": "spine01"}, {"hostname": "spine01"}, {"hostname": "spine01"}, {"hostname":
    "spine01"}, {"hostname": "spine01"}, {"hostname": "spine01"}, {"hostname": "spine02"},
    {"hostname": "spine02"}, {"hostname": "spine02"}, {"hostname": "spine02"}, {"hostname":
    "spine02"}, {"hostname": "spine02"}, {"hostname": "spine02"}, {"hostname": "spine02"},
    {"hostname": "spine02"}]'
- command: address summarize --format=json --namespace=single-attach_bgp_docker
  data-directory: /tmp/suzieq-tests-parquet/single-attach_bgp_docker/parquet-out
  marks: address summarize
  output: '{"single-attach_bgp_docker": {"deviceCnt": 14, "addressCnt": 110, "uniqueV4AddressCnt":
    50, "uniqueV6AddressCnt": 1, "uniqueIfMacCnt": 81, "deviceWithv4AddressCnt": 14,
    "deviceWithv6AddressCnt": 9, "subnetsUsed": ["24", "32", "30", "8", "31"], "subnetTopCounts":
    [{"24": 26}, {"32": 13}, {"30": 8}]}}'
- command: address unique --columns=hostname --format=json --namespace=single-attach_bgp_docker
  data-directory: /tmp/suzieq-tests-parquet/single-attach_bgp_docker/parquet-out
  marks: address unique
  output: '[{"hostname": "server104", "count": 4}, {"hostname": "server103", "count":
    4}, {"hostname": "server102", "count": 4}, {"hostname": "server101", "count":
    4}, {"hostname": "internet", "count": 4}, {"hostname": "edge01", "count": 8},
    {"hostname": "spine02", "count": 9}, {"hostname": "spine01", "count": 9}, {"hostname":
    "leaf04", "count": 10}, {"hostname": "leaf03", "count": 10}, {"hostname": "leaf02",
    "count": 10}, {"hostname": "leaf01", "count": 10}, {"hostname": "exit02", "count":
    12}, {"hostname": "exit01", "count": 12}]'
