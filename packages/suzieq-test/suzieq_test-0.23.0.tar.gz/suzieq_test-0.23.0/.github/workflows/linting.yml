name: linting

on:
  push:
    # run on push only in master, develop, version specific and hotfix branches
    branches:
      - master
      - develop
      - '[0-9].[0-9]+.[0-9]+.?[0-9]?'
  pull_request:
    # run on branches having an open PR
    branches:
    - '**'

env:
  PYTHON_VERSION: 3.9

jobs:
  linting:
    runs-on: ubuntu-latest
    env:
      UV_LINK_MODE: copy
    strategy:
      fail-fast: false
      #matrix:
      #  linter: [pylint, flake8]

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Set up UV
        uses: astral-sh/setup-uv@v5
        with:
          enable-cache: true
          cache-dependency-glob: "uv.lock"
          python-version: ${{ env.PYTHON_VERSION }}

      - name: Run flake8
        run: uv run flake8 suzieq/

      - name: Run pylint
        run: uv run pylint suzieq/

      #- name: Lint using Ruff
      #  run: uv run ruff check suzieq/

      #- name: Lint Formating using Ruff
      #  run: uv run ruff format --check suzieq/
