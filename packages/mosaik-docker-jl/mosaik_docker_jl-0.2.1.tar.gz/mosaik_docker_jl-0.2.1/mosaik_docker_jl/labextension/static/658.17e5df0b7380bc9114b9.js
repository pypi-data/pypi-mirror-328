"use strict";(self.webpackChunkmosaik_docker_jl=self.webpackChunkmosaik_docker_jl||[]).push([[658],{658:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Q});var i=s(738),o=s(209),a=s(830),n=s(36),r=s(198),c=s(593),l=s(262);const m=new l.Token("jupyter.extensions.mosaik_docker");var d,u,h,p=s(310),g=s(421),S=s(602);!function(e){e.sendRequest=async function(e,t="GET",s=null){let i;i=null===s?{method:t}:{method:t,body:JSON.stringify(s)};const o=g.ServerConnection.makeSettings(),a=p.URLExt.join(o.baseUrl,"mosaik_docker_jl",e);let n,r;try{n=await g.ServerConnection.makeRequest(a,i,o)}catch(e){return Promise.reject(new g.ServerConnection.NetworkError(TypeError(String(e))))}try{r=await n.json()}catch(e){return Promise.reject({error:e,response:n})}return n.ok?Promise.resolve(r):Promise.reject(new g.ServerConnection.ResponseError(n))},e.sendRequestWithCallbacks=async function(e,t,s,i){try{let o=await u._createWebSocket(e,s,i);await o.send(JSON.stringify(t))}catch(e){return Promise.reject({status:"error",error:e})}return Promise.resolve({status:"ok"})}}(d||(d={})),function(e){e._createWebSocket=async function(e,t,s){const i=g.ServerConnection.makeSettings();let o=p.URLExt.join(i.wsUrl,"mosaik_docker_jl",e,l.UUID.uuid4());const a=i.token;return i.appendToken&&""!==a&&(o+=`&token=${encodeURIComponent(a)}`),new Promise(((e,a)=>{let n=new i.WebSocket(o);n.binaryType="arraybuffer",n.onmessage=t,n.onclose=s,n.onopen=()=>{e(n)}}))}}(u||(u={})),function(e){e.createSimSetup="mosaik-docker-jl:create-sim-setup",e.configureSimSetup="mosaik-docker-jl:configure-sim-setup",e.checkSimSetup="mosaik-docker-jl:check-sim-setup",e.buildSimSetup="mosaik-docker-jl:build-sim-setup",e.startSim="mosaik-docker-jl:start-sim",e.cancelSim="mosaik-docker-jl:cancel-sim",e.clearSim="mosaik-docker-jl:clear-sim",e.getSimStatus="mosaik-docker-jl:get-sim-status",e.getSimResults="mosaik-docker-jl:get-sim-results",e.deleteSimSetup="mosaik-docker-jl:delete-sim-setup",e.all=[e.createSimSetup,e.configureSimSetup,e.checkSimSetup,e.buildSimSetup,e.startSim,e.cancelSim,e.clearSim,e.getSimStatus,e.getSimResults,e.deleteSimSetup],e.openMosaikDockerDocs="mosaik-docker-jl:open-mosaik-docker-docs",e.openMosaikDockerJLDocs="mosaik-docker-jl:open-mosaik-docker-jl-docs",e.openMosaikDockerCliDocs="mosaik-docker-jl:open-mosaik-docker-cli-docs",e.openMosaikDockerPyDocs="mosaik-docker-jl:open-mosaik-docker-py-docs",e.docs=[e.openMosaikDockerDocs,e.openMosaikDockerJLDocs,e.openMosaikDockerCliDocs,e.openMosaikDockerPyDocs]}(h||(h={}));var w=s(345),v=s(655);const k=new v.LabIcon({name:"ui-components:button-sim-setup-create",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m10.076172 1.2000391-1.9238282 3.3339844 1.9238282 3.3359374h3.847656l1.923828-3.3359374-1.923828-3.3339844zm9.357422 2.4034765v2.6660156h-2.666016v1.3339844h2.666016v2.6660154h1.333984v-2.6660154h2.666016v-1.3339844h-2.666016v-2.6660156zm-15.8433987 1.3275471-1.9238282 3.3359375 1.9238282 3.3359368h3.8496094l1.9238281-3.3359368-1.9238281-3.3359375zm6.4859767 3.7329998-1.9238282 3.3359375 1.9238282 3.335938h3.847656l1.923828-3.335938-1.923828-3.3359375zm-6.4859767 3.7329995-1.9238282 3.335937 1.9238282 3.335938h3.8496094l1.9238281-3.335938-1.9238281-3.335937zm12.7699997 0-1.923828 3.335937 1.923828 3.335938h3.84961l1.923828-3.335938-1.923828-3.335937zm-6.284023 3.732977-1.9238282 3.335937 1.9238282 3.333985h3.847656l1.923828-3.333985-1.923828-3.335937z" fill="#616161" transform="scale(.26458333)"/></svg>'}),f=new v.LabIcon({name:"ui-components:mosaik-docker",svgstr:'<svg height="114.86249" viewBox="0 0 114.86249 114.86249" width="114.86249" xmlns="http://www.w3.org/2000/svg"><path d="m25.744141 13.798828-12.28711 7.089844v14.177734l12.28711 7.089844 12.289062-7.089844v-14.177734zm27.949218 0-12.289062 7.089844v14.177734l12.289062 7.089844 12.289063-7.089844v-14.177734zm35.775391 23.232422-1.669922 2.511719c-3.302069 4.989004-4.197485 13.2092-.662109 18.628906-1.561312.843455-4.631698 1.991708-8.6875 1.919922h-78.00976588c-1.56130002 9.116603 1.03913128 20.960279 7.89453128 29.089844 6.6579896 7.878314 16.6368136 11.880859 29.6835936 11.880859 28.247091 0 49.154948-13.011532 58.935547-36.646484 3.840465.0718 12.131555.018269 16.384765-8.111328.26919-.448651 1.18441-2.368465 1.52539-3.06836l-2.38867-1.597656c-2.58424-1.74077-8.54094-2.367263-13.117188-1.50586-.59221-4.307045-2.998123-8.059737-7.376953-11.433593zm-76.740234 1.101562-12.28906288 7.089844v11.347656h24.57617188v-11.347656zm27.947265 0-12.287109 7.089844v11.347656h24.576172v-11.347656zm27.949219 0-12.287109 7.089844v11.347656h24.576171v-11.347656z" fill="#616161"/></svg>'}),_=new v.LabIcon({name:"ui-components:mosaik-docker-launcher",svgstr:'<svg height="114.86249" viewBox="0 0 114.86249 114.86249" width="114.86249" xmlns="http://www.w3.org/2000/svg"><path d="m25.744141 12.746094-12.28711 7.089844v14.177734l12.28711 7.089844 12.289062-7.089844v-14.177734zm27.949218 0-12.289062 7.089844v14.177734l12.289062 7.089844 12.289063-7.089844v-14.177734zm-40.964844 24.333984-12.28906187 7.089844v11.347656h24.57617187v-11.347656zm27.947266 0-12.287109 7.089844v11.347656h24.576172v-11.347656zm27.949219 0-12.287109 7.089844v11.347656h24.576171v-11.347656z" fill="#767677"/><path d="m89.46875 35.978516-1.669922 2.511718c-3.302069 4.989004-4.197485 13.209201-.662109 18.628907-1.561312.843455-4.631698 1.991707-8.6875 1.919921h-78.00976588c-1.56130002 9.116603 1.03913528 20.960279 7.89453128 29.089844 6.6579886 7.878309 16.6368096 11.880864 29.6835936 11.880864 28.24709 0 49.154948-13.011537 58.935547-36.646489 3.840455.0718 12.131555.01827 16.384765-8.111328.26919-.448651 1.18441-2.368464 1.52539-3.068359l-2.38867-1.597656c-2.58424-1.74077-8.54094-2.367264-13.117188-1.50586-.59221-4.307046-2.998123-8.059738-7.376953-11.433594z" fill="#0288d1"/></svg>'}),C=new v.LabIcon({name:"ui-components:mosaik-docker-cli",svgstr:'<svg height="100.33681" viewBox="0 0 193.96094 100.33681" width="193.96094" xmlns="http://www.w3.org/2000/svg"><path d="m162.52344 38.822266v47.662109h9.13476v-17.296875c0-2.904269.27065-5.092596.8125-6.566406.56353-1.495483 1.44076-2.612706 2.63282-3.34961 1.19201-.736908 2.54726-1.105468 4.06445-1.105468 1.3221 0 2.41627.293717 3.2832.878906.88874.563517 1.50688 1.333278 1.85352 2.308594.34664.975314.51953 3.271121.51953 6.890625v18.240234h9.13672v-20.255859c0-3.099336-.16328-5.385569-.48828-6.859375-.30341-1.473811-.88889-2.817524-1.75586-4.03125-.84526-1.213723-2.11219-2.209983-3.80274-2.990235-1.69054-.780252-3.5871-1.169922-5.68945-1.169922-4.0963 0-7.61876 1.721856-10.56641 5.167969v-17.523437zm-24.44922 12.355468c-4.96323 0-8.62585 1.017365-10.98828 3.054688-2.36244 2.037323-3.54297 4.552003-3.54297 7.542969 0 3.31607 1.36482 5.905594 4.0957 7.769531 1.97231 1.343769 6.64269 2.829553 14.01172 4.455078 1.58219.368449 2.60151.76965 3.05664 1.203125.43349.455147.65039 1.029098.65039 1.722656 0 1.01866-.40119 1.830634-1.20312 2.4375-1.19206.866946-2.96964 1.300781-5.33203 1.300781-2.14572 0-3.8138-.45494-5.00586-1.365234-1.19227-.931967-1.98313-2.28721-2.37305-4.064453l-9.16797 1.398437c.84529 3.272723 2.6324 5.86225 5.36328 7.769532 2.75256 1.907285 6.4804 2.861328 11.1836 2.861328 5.18 0 9.09216-1.138328 11.73632-3.414063 2.6442-2.275735 3.9668-4.995799 3.9668-8.160156 0-2.904273-.95406-5.169396-2.86133-6.794922-1.92895-1.603848-5.33239-2.957142-10.20898-4.0625-4.85492-1.105356-7.69401-1.961493-8.51758-2.568359-.60689-.455147-.91016-1.007993-.91016-1.658203 0-.758576.34745-1.376692 1.04102-1.853516 1.04033-.671882 2.76412-1.007812 5.16992-1.007812 1.90727 0 3.37001.357034 4.38867 1.072265 1.0405.715231 1.745 1.746075 2.11328 3.089844l8.61524-1.59375c-.86693-3.012638-2.45061-5.289293-4.74805-6.828125-2.2974-1.538827-5.80833-2.306641-10.5332-2.306641zm-31.04688 26.169922v9.136719h9.13477v-9.136719z" fill="#4e4e4e"/><path d="m25.744137 0-12.28711 7.089844v14.177734l12.28711 7.089844 12.289062-7.089844v-14.177734zm27.949218 0-12.289062 7.089844v14.177734l12.289062 7.089844 12.289063-7.089844v-14.177734zm-40.964844 24.333984-12.28906169 7.089844v11.347656h24.57617169v-11.347656zm27.947266 0-12.287109 7.089844v11.347656h24.576172v-11.347656zm27.949219 0-12.287109 7.089844v11.347656h24.576171v-11.347656z" fill="#767677"/><path d="m89.46875 23.232422-1.669922 2.511719c-3.302069 4.989004-4.197485 13.2092-.662109 18.628906-1.561312.843455-4.631698 1.991708-8.6875 1.919922h-78.009769c-1.5613 9.116603 1.03913 20.960278 7.894534 29.089843 6.657989 7.878315 16.636814 11.88086 29.683594 11.88086 28.247091 0 49.154948-13.011533 58.935547-36.646484 3.840465.0718 12.131555.01827 16.384765-8.111329.26919-.448651 1.18441-2.368464 1.52539-3.068359l-2.38867-1.597656c-2.58424-1.74077-8.54093-2.367264-13.117188-1.50586-.59221-4.307046-2.998123-8.059737-7.376953-11.433593z" fill="#0288d1"/></svg>'}),b=new v.LabIcon({name:"ui-components:mosaik-docker-jl",svgstr:'<svg height="56.660954" viewBox="0 0 55.740749 56.660953" width="55.740749" xmlns="http://www.w3.org/2000/svg"><g stroke-width=".699653" transform="matrix(1.1955248 0 0 1.1955248 -5.449239 -5.539206)"><path d="m41.511719 5.0019531c-.543853.023258-1.068484.2090819-1.507813.5332031-.439342.3241212-.774264.773368-.960937 1.2890626-.18667.5156853-.216831 1.0740687-.08789 1.6074218.128939.5333526.411428 1.0175107.8125 1.3886719.401077.3711705.903454.6134455 1.441406.6972655.537955.08381 1.088597.0052 1.582032-.226562.493435-.231798.906937-.6069289 1.189453-1.0761722.282513-.4692531.420153-1.0120838.396483-1.5605469-.031705-.7347442-.351373-1.4265955-.888672-1.9238281-.537301-.4972355-1.247985-.7596737-1.976562-.7285157zm-29.361328 4.4355469c-.198869-.011351-.400029.00483-.595703.052734-.39135.095804-.745043.3084123-1.017579.607422-.272537.299013-.451891.672884-.513671 1.074219-.061777.401344-.0038.811419.166015 1.179687.169824.368269.444929.677714.789063.888672.344133.210944.742197.314415 1.144531.296875.538478-.02345 1.045407-.261921 1.410156-.662109.364749-.400178.557216-.92955.535156-1.472656-.01648-.405806-.15133-.798837-.388671-1.126953-.237344-.3281123-.567179-.5770742-.945313-.7167972-.189066-.0698616-.385116-.109743-.583984-.1210938zm12.671875 7.660156-2.888672 1.667969v3.333984l2.888672 1.667969 2.890625-1.667969v-3.333984zm6.572265 0-2.888672 1.667969v3.333984l2.888672 1.667969 2.890625-1.667969v-3.333984zm-9.632812 5.722656-2.890625 1.667969v2.667969h5.779297v-2.667969zm6.572265 0-2.890625 1.667969v2.667969h5.78125v-2.667969zm6.572266 0-2.888672 1.667969v2.667969h5.779297v-2.667969zm-20.236328 21.847657c-.685755.02828-1.347888.261972-1.902344.669922-.554448.407951-.976844.973095-1.21289 1.623047-.236047.649943-.275298 1.35473-.113282 2.027343.162018.672604.518037 1.281709 1.023438 1.75.50541.46829 1.138165.774919 1.816406.88086.678231.105942 1.371955.007 1.994141-.285157.622186-.292165 1.143828-.763803 1.5-1.355468.356172-.591668.531993-1.277238.501953-1.96875-.04018-.924945-.443122-1.795504-1.119141-2.421875-.67602-.626377-1.571037-.957752-2.488281-.919922z" fill="#989798"/><path d="m28.330078 8.8925781c-3.745679 0-7.40024 1.1733419-10.455078 3.3593749-3.054782 2.186032-5.358695 5.276182-6.595703 8.841797 3.329559-3.965447 9.72806-6.658203 17.054687-6.658203 7.32672 0 13.725482 2.684542 17.046875 6.658203-1.237018-3.565615-3.542912-6.655765-6.597656-8.841797-3.054838-2.186033-6.707446-3.3593749-10.453125-3.3593749zm11.439453 13.6699219-.392578.589844c-.776547 1.173261-.987663 3.10631-.15625 4.380859-.367172.198356-1.089169.468054-2.042969.451172h-18.345703c-.36717 2.143947.243287 4.929972 1.855469 6.841797 1.565756 1.852741 3.914217 2.792969 6.982422 2.792969 6.642856 0 11.559278-3.058968 13.859375-8.617188.903159.01688 2.85329.0036 3.853515-1.908203.0633-.105509.277234-.556109.357422-.720703l-.560546-.375c-.607735-.409376-2.009741-.558045-3.085938-.355469-.13927-1.012886-.70461-1.894072-1.734375-2.6875zm-28.482422 11.0625c1.237008 3.565642 3.542875 6.655765 6.597657 8.841797 3.054838 2.185985 6.707447 3.359375 10.453125 3.359375 3.745679 0 7.40024-1.17339 10.455078-3.359375 3.054746-2.186032 5.358685-5.276155 6.595703-8.841797-3.329606 3.973687-9.727969 6.658203-17.054688 6.658203-7.326627 0-13.725464-2.684516-17.046875-6.658203z" fill="#f37726"/></g></svg>'}),y=new v.LabIcon({name:"ui-components:mosaik-docker-py",svgstr:'<svg height="100.33594" viewBox="0 0 193.96094 100.33594" width="193.96094" xmlns="http://www.w3.org/2000/svg"><path d="m141.49219 51.177734c-2.29001 0-4.37634.538942-6.25586 1.619141-1.87957 1.080197-3.36893 2.484574-4.47071 4.212891v-5.054688h-8.49023v47.50586h9.10547v-17.335938c1.70672 1.836339 3.32745 3.132536 4.86133 3.888672 1.55548.75614 3.28242 1.134766 5.18359 1.134766 3.99673 0 7.40049-1.58789 10.20899-4.763672 2.80854-3.197385 4.21289-7.669362 4.21289-13.416016 0-5.595426-1.39472-9.961175-4.18164-13.09375-2.7869-3.132574-6.17707-4.697266-10.17383-4.697266zm17.08008.777344 13.09179 34.511719c-.5401 1.922753-1.31665 3.500996-2.33203 4.732422-1.01537 1.253028-2.58201 1.878906-4.69922 1.878906-1.145 0-2.42961-.141016-3.85547-.421875l.8086 7.128906c1.6851.367254 3.40244.550784 5.15234.550784 1.72833 0 3.27369-.18353 4.63477-.550784 1.38264-.367268 2.53782-.884966 3.46679-1.554687.95055-.648119 1.78314-1.501954 2.4961-2.560547.73452-1.058597 1.50143-2.592394 2.30078-4.601563l2.17187-5.99414 12.15235-33.119141h-9.43164l-8.03516 24.433594-8.23242-24.433594zm-19.54297 6.416016c2.13881 0 3.93147.875079 5.3789 2.625 1.44747 1.74992 2.17188 4.429246 2.17188 8.037109 0 3.867105-.70318 6.652659-2.10742 8.359375-1.40426 1.685109-3.16405 2.529297-5.28125 2.529297-2.20361 0-4.07355-.91952-5.60743-2.755859-1.53387-1.857938-2.30078-4.720781-2.30078-8.587891 0-3.370218.73404-5.908522 2.20313-7.615234 1.46904-1.728317 3.31775-2.591797 5.54297-2.591797zm-32.00196 18.976562v9.136719h9.13477v-9.136719z" fill="#4e4e4e"/><path d="m25.744141 0-12.28711 7.0898438v14.1777342l12.28711 7.089844 12.289062-7.089844v-14.1777342zm27.949218 0-12.289062 7.0898438v14.1777342l12.289062 7.089844 12.289063-7.089844v-14.1777342zm-40.964844 24.333984-12.28906187 7.089844v11.347656h24.57617187v-11.347656zm27.947266 0-12.287109 7.089844v11.347656h24.576172v-11.347656zm27.949219 0-12.287109 7.089844v11.347656h24.576171v-11.347656z" fill="#767677"/><path d="m89.46875 23.232422-1.669922 2.511719c-3.302069 4.989004-4.197485 13.2092-.662109 18.628906-1.561312.843455-4.631698 1.991708-8.6875 1.919922h-78.00976588c-1.56130102 9.116603 1.03913028 20.960278 7.89453128 29.089843 6.6579886 7.878315 16.6368136 11.88086 29.6835936 11.88086 28.247091 0 49.154948-13.011533 58.935547-36.646484 3.840465.0718 12.131555.01827 16.384765-8.111329.26919-.448651 1.18441-2.368464 1.52539-3.068359l-2.38867-1.597656c-2.58424-1.74077-8.54093-2.367264-13.117188-1.50586-.59221-4.307046-2.998123-8.059737-7.376953-11.433593z" fill="#0288d1"/></svg>'}),j=new v.LabIcon({name:"ui-components:sim-setup-build",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m1024 640q0 106-75 181-75 75-181 75-106 0-181-75-75-75-75-181 0-106 75-181 75-75 181-75 106 0 181 75 75 75 75 181zm512 109v-222q0-12-8-23-8-11-20-13l-185-28q-19-54-39-91 35-50 107-138 10-12 10-25 0-13-9-23-27-37-99-108-72-71-94-71-12 0-26 9l-138 108q-44-23-91-38-16-136-29-186-7-28-36-28h-222q-14 0-24.5 8.5-10.5 8.5-11.5 21.5l-28 184q-49 16-90 37l-141-107q-10-9-25-9-14 0-25 11-126 114-165 168-7 10-7 23 0 12 8 23 15 21 51 66.5 36 45.5 54 70.5-27 50-41 99l-183 27q-13 2-21 12.5-8 10.5-8 23.5v222q0 12 8 23 8 11 19 13l186 28q14 46 39 92-40 57-107 138-10 12-10 24 0 10 9 23 26 36 98.5 107.5 72.5 71.5 94.5 71.5 13 0 26-10l138-107q44 23 91 38 16 136 29 186 7 28 36 28h222q14 0 24.5-8.5 10.5-8.5 11.5-21.5l28-184q49-16 90-37l142 107q9 9 24 9 13 0 25-10 129-119 165-170 7-8 7-22 0-12-8-23-15-21-51-66.5-36-45.5-54-70.5 26-50 41-98l183-28q13-2 21-12.5 8-10.5 8-23.5z" fill="#616161" stroke-width="76.800003" transform="matrix(.0034451 0 0 -.0034451 .529163 5.379864)"/></svg>'}),D=new v.LabIcon({name:"ui-components:sim-setup-check",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m5.8208332 1.0075286-.9796217-.56522965-2.1679475 3.76164695-1.4396234-1.1448994-.70447395.885822 2.46811045 1.9628324z" fill="#616161" stroke-width=".264583"/></svg>'}),E=new v.LabIcon({name:"ui-components:sim-setup-delete",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m-3.0835983 3.7477397-.1005968-1.0252604v-.4740452h.4189236v.4740452l-.099219 1.0252604zm-.08406.5208984v-.3872287h.3872288v.3872287z" fill="#616161" transform="matrix(2.6193724 0 0 2.6193724 10.966934 -5.36032)"/></svg>'}),x=new v.LabIcon({name:"ui-components:sim-setup-config",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m81.9 70.2-28.8-28.8c2.8-7.3 1.3-15.8-4.8-21.9-6.3-6.3-15.8-7.6-23.4-4.1l13.6 13.6-9.5 9.5-13.9-13.6c-3.8 7.6-2.2 17.1 4.1 23.4 6 6 14.6 7.6 21.9 4.8l28.8 28.8c1.3 1.3 3.2 1.3 4.4 0l7.3-7.3c1.5-1.3 1.5-3.5.3-4.4z" fill="#616161" stroke-width="3.485138" transform="matrix(.07591759 0 0 .07591759 -.462534 -.483109)"/></svg>'}),P=new v.LabIcon({name:"ui-components:sim-setup-create",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m2.6455234.5291669v2.1163564h-2.11635675v1.0589534h2.11635675v2.1163563h1.0589531v-2.1163563h2.1163567v-1.0589534h-2.1163567v-2.1163564z" fill="#616161" stroke-width=".264583"/></svg>'}),R=new v.LabIcon({name:"ui-components:sim-cancel",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m.52916665.5291669v5.2916661h5.29166655v-5.2916661" fill="#616161" stroke-width=".264583"/></svg>'}),z=new v.LabIcon({name:"ui-components:sim-clear",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m1.411416.52916705-.8822493.88224865 1.7644977 1.7644975-1.7644977 1.7626708.8822493.8822488 1.7644967-1.7644975 1.7626712 1.7644975.8822493-.8822488-1.7644976-1.7644973 1.7644976-1.762671-.8822493-.88224865-1.7626712 1.76449745z" fill="#616161" stroke-width=".264583"/></svg>'}),N=new v.LabIcon({name:"ui-components:sim-results",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m.52916665.5291669v1.5550956h1.55509525v-1.5550956zm1.86828565 0v1.5550956h1.5550953v-1.5550956zm1.8682848 0v1.5550956h1.5550961v-1.5550956zm-3.73657045 1.8682853v1.5550956h1.55509525v-1.5550956zm1.86828565 0v1.5550956h1.5550953v-1.5550956zm1.8682848 0v1.5550956h1.5550961v-1.5550956zm-3.73657045 1.8682854v1.5550954h1.55509525v-1.5550954zm1.86828565 0v1.5550954h1.5550953v-1.5550954zm1.8682848 0v1.5550954h1.5550961v-1.5550954z" fill="#616161" stroke-width=".264583"/></svg>'}),I=new v.LabIcon({name:"ui-components:sim-start",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m.52916665.5291669v5.2916661l5.29166655-2.6458331" fill="#616161" stroke-width=".264583"/></svg>'}),B=new v.LabIcon({name:"ui-components:sim-status",svgstr:'<svg height="24" viewBox="0 0 6.3499997 6.3500001" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m3.1262268.53048307c-.2865879.008354-.5727528.0565035-.8435819.1476934-.6421172.2186456-1.0261698.88553313-1.0697795 1.53814023l1.3664962.151685c.014007-.088595.04982-.2590145.099793-.3698987.099036-.2993394.4576612-.42539.7424588-.3326428.2737926.072027.3431284.453327.149024.6426658-.2786626.2902715-.6245645.5122267-.890152.8169706-.2562068.2906518-.3052045.6918522-.2900644 1.0644569h1.3491993c.0003937-.1366471.0155325-.2767321.0705198-.403163.1889882-.3491119.564902-.5335459.835599-.8103179.3101953-.2701248.5387364-.669793.482997-1.0923987-.0387135-.6239991-.572333-1.10985893-1.1522744-1.26138153-.2765673-.0686624-.563647-.1001633-.8502349-.0918093zm-.7810457 4.01699403v1.2733562h1.4436699v-1.2733562z" fill="#616161" stroke-width=".264583"/></svg>'});class $ extends o.ReactWidget{constructor(e){super(),this.node.id="mosaik-docker-sim-status",this.title.label="Simulation Status",this.title.icon=B,this.title.closable=!0,this._model=e.model}render(){return w.createElement(T,{model:this._model})}async updateStatus(e){const t=await e.dir,s=await e.status,i=await s.up,o=await s.down,a=this.node.getElementsByClassName("jp-Content");1!==a.length&&console.error(`[mosaik-docker-jl] SimStatusWidget: wrong number of elements with class name 'jp-Widget' (${a.length} instead of 1 )`);const n=a[0];for(;n.firstChild;)n.removeChild(n.firstChild);const r=document.createElement("span");r.className="jp-Content-header",r.innerText=`Simulation setup location: ${t}`;const c=document.createElement("span");c.className="jp-Content-list-header",c.innerText="Running Simulations";const l=document.createElement("ul");l.className="jp-Content-list";for(const[e,t]of Object.entries(i)){const s=document.createElement("li");s.innerText=`${e}: ${t}`,l.appendChild(s)}const m=document.createElement("span");m.className="jp-Content-list-header",m.innerText="Finished Simulations";const d=document.createElement("ul");d.className="jp-Content-list";for(const[e,t]of Object.entries(o)){const s=document.createElement("li");s.innerText=`${e}: ${t}`,d.appendChild(s)}n.appendChild(r),n.appendChild(c),n.appendChild(l),n.appendChild(m),n.appendChild(d)}}class T extends w.Component{constructor(e){super(e)}render(){return w.createElement("div",{className:"jp-Widget"},w.createElement("div",{className:"jp-Content"},w.createElement("div",{className:"jp-SpinnerContent"})),w.createElement("div",{className:"jp-Dialog-span"},w.createElement("button",{className:"jp-mod-reject jp-mod-styled",onClick:()=>this.props.model.displaySimStatus()},"REFRESH")))}}class q extends o.ReactWidget{constructor(e){super(),this.id="mosaik-docker-sim-setup-config",this.title.icon=x,this.title.label="Sim Setup Configuration",this.title.closable=!0,this._model=e.model,this._configData=e.configData}render(){return w.createElement(L,{model:this._model,widget:this,configData:this._configData})}getConfigData(){const e=this.node.querySelectorAll("input");return{scenarioFile:e[0].value,dockerFile:e[1].value,extraFiles:e[2].value.split(","),extraDirs:e[3].value.split(","),results:e[4].value.split(",")}}}class L extends w.Component{constructor(e){super(e),this._simSetupDir=this.props.model.simSetupRoot}render(){const{orchestrator:e}=this.props.configData,t=e.scenarioFile,s=e.dockerFile,i=e.extraFiles.join(", "),a=e.extraDirs.join(", "),n=e.results.join(", ");return w.createElement("div",{className:"jp-Widget"},w.createElement("div",{className:"jp-Content"},w.createElement("span",{className:"jp-Content-header"},"Simulation setup location: ",this._simSetupDir),w.createElement("span",{className:"jp-Content-input-header"},"Name of the mosaik scenario file:"),w.createElement("input",{defaultValue:t,className:"jp-Content-input"}),w.createElement("span",{className:"jp-Content-input-header"},"Path to the Dockerfile for the simulation orchestrator image:"),w.createElement("input",{defaultValue:s,className:"jp-Content-input"}),w.createElement("span",{className:"jp-Content-input-header"},"Additional files to be added to the simulation orchestrator image (comma-separated list):"),w.createElement("input",{defaultValue:i,className:"jp-Content-input"}),w.createElement("span",{className:"jp-Content-input-header"},"Additional folders to be added to the simulation orchestrator image (comma-separated list):"),w.createElement("input",{defaultValue:a,className:"jp-Content-input"}),w.createElement("span",{className:"jp-Content-input-header"},"Results files or folders produced by the simulation that should be retrieved after the simulation has finished (comma-separated list):"),w.createElement("input",{defaultValue:n,className:"jp-Content-input"})),w.createElement("div",{className:"jp-Dialog-span"},w.createElement("button",{className:"jp-mod-reject jp-mod-styled",onClick:async()=>{const e=this.props.widget.getConfigData();try{await this.props.model.configureSimSetup(e,this._simSetupDir)}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to display the simulation status!\n",String(e))}}},"UPDATE CONFIGURATION")))}}var M=s(256);class V extends o.MainAreaWidget{constructor(e){super({content:new M.Widget}),this.title.icon=j,this.title.label="Docker Build Status",this.title.closable=!0,this.id="mosaik-docker-sim-build",this.content.addClass("jp-Widget"),this.content.addClass("jp-Spinner");const t=document.createElement("span");t.className="jp-Widget-header",t.innerHTML=`Simulation setup location: ${e.simSetupDir}`,this.content.node.appendChild(t),this._statusContent=document.createElement("span"),this._statusContent.className="jp-Widget-content",this.content.node.appendChild(this._statusContent),this._statusContentSpinner=document.createElement("div"),this._statusContentSpinner.className="jp-SpinnerContent",this.content.node.appendChild(this._statusContentSpinner)}async updateStatus(e){this._statusContent.innerHTML+=e.out+"<br>"}async done(e){void 0!==e&&(this._statusContent.innerHTML+="<br>"+e.done),this.content.node.removeChild(this._statusContentSpinner)}}class A{constructor(e){this._isValidSimSetup=!1,this._simSetupRoot=void 0,this._userHomeDir=void 0,this._isDisposed=!1,this._app=e.app,this._fileBrowser=e.fileBrowser,this._modelChanged=new S.Signal(this),this._simStatusWidget=new $({model:this}),this._simStatusWidgetTracker=new o.WidgetTracker({namespace:"sim-status-widget"}),e.restorer&&e.restorer.restore(this._simStatusWidgetTracker,{command:h.getSimStatus,args:()=>({suppressError:!0}),name:()=>"sim-status-widget"}),e.fileBrowser.model.pathChanged.connect(this._checkIfValidSimDir,this)}async getVersion(){const e=await d.sendRequest("version"),t=await e.code;return 0===t?Promise.resolve({version:await e.message}):Promise.reject(`[mosaik-docker-jl] getVersion() failed!\nerror code: ${t}`)}async createSimSetup(e){const t=await d.sendRequest("create_sim_setup","POST",{name:e,dir:this._fileBrowser.model.path}),s=await t.code;if(0===s)return Promise.resolve({status:await t.message});const i=await t.error;return Promise.reject(`[mosaik-docker-jl] createSimSetup() failed!\nerror code: ${s}\nerror: ${i}`)}async configureSimSetup(e,t){const s=await d.sendRequest("configure_sim_setup","POST",{dir:this.simSetupRoot,dockerFile:e.dockerFile,scenarioFile:e.scenarioFile,extraFiles:e.extraFiles,extraDirs:e.extraDirs,results:e.results}),i=await s.code;if(0===i)return Promise.resolve({status:await s.message});const o=await s.error;return Promise.reject(`[mosaik-docker-jl] configureSimSetup() failed!\nerror code: ${i}\nerror: ${o}`)}async buildSimSetup(){const e=this._simSetupRoot;if(!e)return Promise.reject("[mosaik-docker-jl] buildSimSetup() failed! \nsimulation setup directory Undefined:");const t=new V({simSetupDir:e});if(!this._app)return Promise.reject("[mosaik-docker-jl] buildSimSetup() failed! \nstatus: front end shell not available");this._app.shell.add(t,"main"),this._app.shell.activateById(t.id);const s=new l.PromiseDelegate;try{const i=await d.sendRequestWithCallbacks("build_sim_setup",{dir:e},(e=>{t.updateStatus({out:e.data})}),(e=>{t.done({done:e.reason}),s.resolve(void 0)}));if(await s.promise,"ok"===await i.status)return Promise.resolve()}catch(e){return t.done(),Promise.reject(`[mosaik-docker-jl] buildSimSetup() failed! \nstatus: ${e.status}\nerror: ${e.error}`)}}async checkSimSetup(){const e=await d.sendRequest("check_sim_setup","POST",{dir:this._simSetupRoot}),t=await e.code;if(0===t)return Promise.resolve({valid:!0,status:await e.message});if(1===t)return Promise.resolve({valid:!1,status:await e.message});const s=await e.error;return Promise.reject(`[mosaik-docker-jl] checkSimSetup() failed!\nerror code: ${t}\nerror: ${s}`)}async deleteSimSetup(){const e=this._simSetupRoot;if(!e)return Promise.reject("[mosaik-docker-jl] buildSimSetup() failed! \nsimulation setup directory Undefined:");void 0===this._userHomeDir&&await this._retrieveUserHomeDir();const t=p.PathExt.relative(e,this.userHomeDir);await this._fileBrowser.model.cd(t);const s=await d.sendRequest("delete_sim_setup","POST",{dir:e}),i=await s.code;if(0===i)return Promise.resolve({valid:!0,status:await s.message});if(1===i)return Promise.resolve({valid:!1,status:await s.message});const o=await s.error;return Promise.reject(`[mosaik-docker-jl] deleteSimSetup() failed!\nerror code: ${i}\nerror: ${o}`)}async startSim(){const e=await d.sendRequest("start_sim","POST",{dir:this._simSetupRoot}),t=await e.code;if(0===t)return this._notifyStateChanged(),Promise.resolve({status:await e.message});const s=await e.error;return Promise.reject(`[mosaik-docker-jl] startSim() failed!\nerror code: ${t}\nerror: ${s}`)}async cancelSim(e){const t=await d.sendRequest("cancel_sim","POST",{dir:this._simSetupRoot,id:e}),s=await t.code;if(0===s)return this._notifyStateChanged(),Promise.resolve({status:await t.message});const i=await t.error;return Promise.reject(`[mosaik-docker-jl] cancelSim() failed!\nerror code: ${s}\nerror: ${i}`)}async clearSim(e){const t=await d.sendRequest("clear_sim","POST",{dir:this._simSetupRoot,id:e}),s=await t.code;if(0===s)return this._notifyStateChanged(),Promise.resolve({status:await t.message});const i=await t.error;return Promise.reject(`[mosaik-docker-jl] clearSim() failed!\nerror code: ${s}\nerror: ${i}`)}async getSimResults(e){const t=await d.sendRequest("get_sim_results","POST",{dir:this._simSetupRoot,id:e}),s=await t.code;if(0===s)return Promise.resolve({status:await t.message});const i=await t.error;return Promise.reject(`[mosaik-docker-jl] getSimResults() failed!\nerror code: ${s}\nerror: ${i}`)}async getSimIds(){const e=await d.sendRequest("get_sim_ids","POST",{dir:this._simSetupRoot}),t=await e.code;if(0===t){const t=await e.message;return Promise.resolve({up:t.up,down:t.down})}const s=await e.error;return Promise.reject(`[mosaik-docker-jl] getSimIds() failed!\nerror code: ${t}\nerror: ${s}`)}async getSimStatus(){const e=await d.sendRequest("get_sim_status","POST",{dir:this._simSetupRoot}),t=await e.code;if(0===t)return Promise.resolve({dir:this.simSetupRoot,status:await e.message});const s=await e.error;return Promise.reject(`[mosaik-docker-jl] getSimStatus() failed!\nerror code: ${t}\nerror: ${s}`)}async getSimSetupConfigData(){try{void 0===this._userHomeDir&&await this._retrieveUserHomeDir();const e=p.PathExt.relative(this.userHomeDir,this.simSetupRoot),t=p.PathExt.join(e,"mosaik-docker.json"),s=new g.ContentsManager,i=await s.get(t),o=JSON.parse(i.content),a={scenarioFile:o.orchestrator.scenario_file,dockerFile:o.orchestrator.docker_file,extraFiles:o.orchestrator.extra_files,extraDirs:o.orchestrator.extra_dirs,results:o.orchestrator.results},n={id:o.id,orchestrator:a,simIdsUp:o.sim_ids_up,simIdsDown:o.sim_ids_down};return Promise.resolve(n)}catch(e){return Promise.reject(`[mosaik-docker-jl] getSimSetupConfigData() failed!\n${e}`)}}async displaySimStatus(){if(await this._fileBrowser.model.restored,await this._getSimSetupRoot(),!this._isValidSimSetup){const e=this._simSetupRoot;return Promise.reject(`[mosaik-docker-jl] displaySimStatus() failed!\ninvalid directory:${e}`)}if(!this._app)return Promise.reject("[mosaik-docker-jl] buildSimSetup() failed! \nstatus: front end shell not available");this._simStatusWidget.isAttached||this._app.shell.add(this._simStatusWidget,"main"),this._simStatusWidgetTracker.has(this._simStatusWidget)||this._simStatusWidgetTracker.add(this._simStatusWidget),this._app.shell.activateById(this._simStatusWidget.id);const e=await this.getSimStatus();return await this._simStatusWidget.updateStatus(e),Promise.resolve()}async displaySimSetupConfiguration(){if(!this._isValidSimSetup){const e=this._simSetupRoot;return Promise.reject(`[mosaik-docker-jl] displaySimSetupConfiguration() failed!\ninvalid directory:${e}`)}const e=new q({model:this,configData:await this.getSimSetupConfigData()});return this._app?(this._app.shell.add(e,"main"),this._app.shell.activateById(e.id),Promise.resolve()):Promise.reject("[mosaik-docker-jl] buildSimSetup() failed! \nstatus: front end shell not available")}get isValidSimSetup(){return this._isValidSimSetup}get simSetupRoot(){return void 0===this._simSetupRoot?"":this._simSetupRoot}get userHomeDir(){return void 0===this._userHomeDir?"/":this._userHomeDir}get modelChanged(){return this._modelChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0)}async _checkIfValidSimDir(e){const t=this._isValidSimSetup;return await this._getSimSetupRoot(),t!==this._isValidSimSetup&&this._notifyStateChanged(),Promise.resolve()}async _getSimSetupRoot(){const e=await d.sendRequest("get_sim_setup_root","POST",{dir:this._fileBrowser.model.path});return 0===await e.code?(this._isValidSimSetup=!0,this._simSetupRoot=await e.message):this._isValidSimSetup=!1,Promise.resolve()}_notifyStateChanged(){this._modelChanged.emit(),this._simStatusWidget.isAttached&&this._isValidSimSetup&&this.displaySimStatus()}async _retrieveUserHomeDir(){const e=await d.sendRequest("get_user_home_dir"),t=await e.code;return 0===t?(this._userHomeDir=await e.message,Promise.resolve()):Promise.reject(`[mosaik-docker-jl] getUserHomeDir() failed!\nerror code: ${t}`)}}class W extends M.Widget{constructor(){super({node:W._createFormNode()})}static _createFormNode(){const e=document.createElement("div"),t=document.createElement("input"),s=document.createElement("span");return e.className="jp-RedirectForm",s.textContent="Enter the name of the new mosaik-docker simulation setup:",t.placeholder=W._defaultSetupName,e.appendChild(s),e.appendChild(t),e}getValue(){const e=this.node.querySelector("input");if(e){const t=e.value;return""===t?W._defaultSetupName:t}return W._defaultSetupName}}W._defaultSetupName="mosaik-docker-sim";class O extends M.Widget{constructor(e){super({node:O._createFormNode(e)}),this.id="mosaik-docker-sim-select-form"}static _createFormNode(e){const t=document.createElement("div"),s=document.createElement("label"),i=document.createElement("div"),o=document.createElement("input"),a=document.createElement("span"),n=document.createElement("select"),r=document.createElement("span");return r.textContent=e.textSelectItem,e.items.forEach(((e,t)=>{const s=document.createElement("option");0===t&&(s.selected=!0),s.value=e,s.textContent=e,n.appendChild(s)})),a.textContent=e.textSelectAll,o.classList.add("jp-mod-styled"),o.type="checkbox",o.checked=!1,t.className="jp-Input-Dialog",i.className="jp-SimSelectForm-div",a.id="mosaik-docker-sim-select-form",a.className="jp-SimSelectForm-text",s.appendChild(r),s.appendChild(n),s.appendChild(i),i.appendChild(o),i.appendChild(a),t.appendChild(s),t}getValue(){return!0===this.node.querySelectorAll("input")[0].checked?{selectAll:!0}:{selectAll:!1,selectItem:this.node.querySelectorAll("select")[0].value}}}class F extends o.ToolbarButton{constructor(e){super({icon:k,onClick:()=>{e.model.isValidSimSetup?(0,o.showDialog)({title:"Create simulation setup",body:`Cannot create a new simulation setup as subfolder of an existing setup:\n${e.model.simSetupRoot}`,buttons:[o.Dialog.cancelButton({label:"OK"})]}):e.app.commands.execute(h.createSimSetup)},tooltip:"Create Simulation Setup"})}}var U=s(53),H=s(873);class J{constructor(e){this._commands=e.commands,this.category=this._normalizeCategory(e.category),this.isToggleable=!1,this.command=e.command,this.args=e.args||l.JSONExt.emptyObject,this.rank=void 0!==e.rank?e.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return"jp-SideTab-itemIcon"}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return"jp-SideTab-item"}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){return null}_normalizeCategory(e){return e.trim().replace(/\s+/g," ")}}class G extends M.Widget{constructor(e){super({node:G._createNode()}),this._items=[],this.title.icon=f,this.title.caption="Mosaik Commands",this.addClass("lm-CommandPalette"),this.id="mosaik-docker-sim-tab",this.commands=e.commands,this.renderer=e.renderer||M.CommandPalette.defaultRenderer,this._category=e.category,e.model.modelChanged.connect(this.update,this)}dispose(){this._items.length=0,super.dispose()}get categoryNode(){return this.node.getElementsByClassName("lm-CommandPalette-category")[0]}get contentNode(){return this.node.getElementsByClassName("jp-SideTab-content")[0]}get items(){return this._items}addItem(e){const t=this._category,s={commands:this.commands,command:e,category:t},i=new J(s);return this._items.push(i),this.update(),i}handleEvent(e){"click"===e.type&&this._evtClick(e)}onBeforeAttach(e){this.node.addEventListener("click",this)}onAfterDetach(e){this.node.removeEventListener("click",this)}onUpdateRequest(e){const t=new Array(1),s=this._category;t[0]=this.renderer.renderHeader({category:s,indices:[]}),H.VirtualDOM.render(t,this.categoryNode);const i=new Array(this._items.length);for(let e=0,t=this._items.length;e<t;++e){const t=this._items[e],s=[],o=!1;i[e]=this.renderer.renderItem({item:t,indices:s,active:o})}H.VirtualDOM.render(i,this.contentNode)}_evtClick(e){if(0!==e.button)return;const t=U.ArrayExt.findFirstIndex(this.contentNode.children,(t=>t.contains(e.target)));-1!==t&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}_execute(e){const t=this._items[e];t&&t.isEnabled&&(this.commands.execute(t.command,t.args),this.update())}static _createNode(){const e=document.createElement("div"),t=document.createElement("div"),s=document.createElement("ul");return t.className="lm-CommandPalette-category",s.className="jp-SideTab-content",e.appendChild(t),e.appendChild(s),e}}const K={id:"mosaik-docker-jl:plugin",requires:[a.IDefaultFileBrowser,c.ISettingRegistry],optional:[n.ILauncher,i.ILayoutRestorer,r.IMainMenu],provides:m,activate:async function(e,t,s,i,a,n){let r;try{r=await s.load(K.id)}catch(e){const t=`Failed to load settings for the mosaik-docker-jl extension.\n${e}`;return console.error(t),Promise.reject(t)}const c=new A({app:e,fileBrowser:t,restorer:a});try{const e=await c.getVersion();console.log(`[mosaik-docker-jl] JupyterLab extension activated, version = ${e.version}`)}catch(e){console.error(`[mosaik-docker-jl] the mosaik_docker_jl server extension appears to be missing.\n${e}`),(0,o.showErrorMessage)("The mosaik_docker_jl server extension appears to be missing!",String(e))}return function(e,t,s){e.commands.addCommand(h.createSimSetup,{label:"Create Simulation Setup",caption:"Create a new mosaik-docker simulation setup.",isEnabled:()=>!t.isValidSimSetup,icon:P,execute:async()=>{const e=await(0,o.showDialog)({title:"Create a new mosaik-docker simulation setup",body:new W,focusNodeSelector:"input",buttons:[o.Dialog.cancelButton(),o.Dialog.okButton({label:"CREATE"})]});if(e.button.accept)try{if(!e.value)throw new Error("simulation setup name undefined");{const s=await t.createSimSetup(e.value);console.log(`[${h.createSimSetup}] ${s.status}`)}}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to create a new simulation setup!",String(e))}}}),e.commands.addCommand(h.configureSimSetup,{label:"Configure Simulation Setup",caption:"Update the configuration of an existing mosaik-docker simulation setup.",isEnabled:()=>t.isValidSimSetup,icon:x,execute:async()=>{try{await t.displaySimSetupConfiguration()}catch(e){console.error(e)}}}),e.commands.addCommand(h.checkSimSetup,{label:"Check Simulation Setup",caption:"Check if mosaik-docker simulation setup is valid.",isEnabled:()=>t.isValidSimSetup,icon:D,execute:async()=>{try{const e=await t.checkSimSetup();console.log(`[${h.checkSimSetup}] ${e.status}`),!0===e.valid?(0,o.showDialog)({title:"Simulation setup is valid!",buttons:[o.Dialog.cancelButton({label:"OK"})]}):(0,o.showErrorMessage)("Simulation setup is invalid",e.status)}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to check the simulation setup!",String(e))}}}),e.commands.addCommand(h.buildSimSetup,{label:"Build Simulation Setup",caption:"Build mosaik-docker simulation setup.",isEnabled:()=>t.isValidSimSetup,icon:j,execute:async()=>{try{await t.buildSimSetup()}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to build the simulation setup!",String(e))}}}),e.commands.addCommand(h.startSim,{label:"Start Simulation",caption:"Start a new mosaik-docker simulation.",isEnabled:()=>t.isValidSimSetup,icon:I,execute:async()=>{try{const e=await t.startSim();console.log(`[${h.startSim}] ${e.status}`),(0,o.showDialog)({title:"Simulation started",body:e.status,buttons:[o.Dialog.cancelButton({label:"OK"})]})}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to start a simulation!",String(e))}}}),e.commands.addCommand(h.cancelSim,{label:"Cancel Simulation",caption:"Cancel a mosaik-docker simulation.",isEnabled:()=>t.isValidSimSetup,icon:R,execute:async()=>{try{const e=await t.getSimIds(),s=await e.up;if(0===s.length)return void(0,o.showDialog)({title:"Cancel simulation",body:"No running simulations found",buttons:[o.Dialog.cancelButton({label:"OK"})]});const i=await(0,o.showDialog)({title:"Cancel simulation",body:new O({textSelectAll:"Cancel all running simulations?",textSelectItem:"Select simulation ID:",items:s}),focusNodeSelector:"select",buttons:[o.Dialog.cancelButton(),o.Dialog.okButton()]});if(i.button.accept){if(!i.value)throw new Error("simulation ID undefined");const e=i.value.selectAll?"all":i.value.selectItem;if(!e)throw new Error("invalid selection");const s=await t.cancelSim(String(e));console.log(`[${h.cancelSim}] ${s.status}`)}}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to cancel a simulation!",String(e))}}}),e.commands.addCommand(h.clearSim,{label:"Clear Simulation",caption:"Clear a mosaik-docker simulation.",isEnabled:()=>t.isValidSimSetup,icon:z,execute:async()=>{try{const e=await t.getSimIds(),s=await e.down;if(0===s.length)return void(0,o.showDialog)({title:"Clear simulation",body:"No finished simulations found",buttons:[o.Dialog.cancelButton({label:"OK"})]});const i=await(0,o.showDialog)({title:"Clear simulation",body:new O({textSelectAll:"Clear all finished simulations?",textSelectItem:"Select simulation ID:",items:s}),focusNodeSelector:"select",buttons:[o.Dialog.cancelButton(),o.Dialog.okButton()]});if(i.button.accept){if(!i.value)throw new Error("simulation ID undefined");const e=i.value.selectAll?"all":i.value.selectItem;if(!e)throw new Error("invalid selection");const s=await t.clearSim(e);console.log(`[${h.clearSim}] ${s.status}`)}}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to clear a simulation!",String(e))}}}),e.commands.addCommand(h.getSimResults,{label:"Get Simulation Results",caption:"Retrieve the simulation results of a mosaik-docker simulation.",isEnabled:()=>t.isValidSimSetup,icon:N,execute:async()=>{try{const e=await t.getSimIds(),s=await e.down;if(0===s.length)return void(0,o.showDialog)({title:"Get simulation results",body:"No finished simulations found",buttons:[o.Dialog.cancelButton({label:"OK"})]});const i=await(0,o.showDialog)({title:"Get simulation results",body:new O({textSelectAll:"Get results of all finished simulations?",textSelectItem:"Select simulation ID:",items:s}),focusNodeSelector:"select",buttons:[o.Dialog.cancelButton(),o.Dialog.okButton()]});if(i.button.accept){if(!i.value)throw new Error("simulation ID undefined");const e=i.value.selectAll?"all":i.value.selectItem;if(!e)throw new Error("invalid selection");const s=await t.getSimResults(e);console.log(`[${h.getSimResults}] ${s.status}`)}}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to get the simulation results!",String(e))}}}),e.commands.addCommand(h.getSimStatus,{label:"Check Simulation Status",caption:"Check the status of all simulations of a mosaik-docker setup.",isEnabled:()=>t.isValidSimSetup,icon:B,execute:async e=>{const s=void 0!==e.suppressError;try{await t.displaySimStatus()}catch(e){console.error(e),s||(0,o.showErrorMessage)("An error occurred while attempting to display the simulation status!",String(e))}}}),e.commands.addCommand(h.deleteSimSetup,{label:"Delete Simulation Setup",caption:"Delete a simulation setup, including all associated Docker images and containers.",isEnabled:()=>t.isValidSimSetup,icon:E,execute:async()=>{if((await(0,o.showDialog)({title:"Delete Simulation Setup",body:`Do you really want to delete this simulation setup?\n${t.simSetupRoot}`,buttons:[o.Dialog.cancelButton(),o.Dialog.okButton({label:"DELETE SETUP"})]})).button.accept)try{const e=await t.deleteSimSetup();console.log(`[${h.deleteSimSetup}] ${e.status}`)}catch(e){console.error(e),(0,o.showErrorMessage)("An error occurred while attempting to delete the simulation setup!",String(e))}}}),e.commands.addCommand(h.openMosaikDockerDocs,{label:"Documentation",caption:"Open mosaik-docker documentation",icon:_,execute:()=>{window.open(s.composite.mosaikDockerDocsUrl)}}),e.commands.addCommand(h.openMosaikDockerJLDocs,{label:"JupyterLab Reference",caption:"Reference for using mosaik-docker with the JupyterLab GUI",icon:b,execute:()=>{window.open(s.composite.mosaikDockerJLDocsUrl)}}),e.commands.addCommand(h.openMosaikDockerCliDocs,{label:"Command Line Reference",caption:"Reference for using mosaik-docker from the command line",icon:C,execute:()=>{window.open(s.composite.mosaikDockerCliDocsUrl)}}),e.commands.addCommand(h.openMosaikDockerPyDocs,{label:"Python Reference",caption:"Reference for using mosaik-docker with Python scripts",icon:y,execute:()=>{window.open(s.composite.mosaikDockerPyDocsUrl)}})}(e,c,r),function(e,t,s){const i=new F({app:e,model:t});s.toolbar.addItem("simSetupCreateButton",i)}(e,c,t),function(e,t,s){const{commands:i,shell:o}=e,a=v.CommandPaletteSvg.defaultRenderer,n=new G({commands:i,category:"mosaik-docker Commands",renderer:a,model:t});h.all.forEach((e=>{n.addItem(e)})),o.add(n,"left",{rank:300}),s&&s.add(n,"sim-tab")}(e,c,a),n&&function(e,t){const{commands:s}=e,i=new M.Menu({commands:s});i.title.label="Mosaik",h.all.forEach((e=>{i.addItem({command:e})})),t.addMenu(i,!0,{rank:60})}(e,n),i&&function(e,t){h.docs.forEach((e=>{t.add({command:e,category:"mosaik-docker",rank:h.docs.indexOf(e)})}))}(0,i),Promise.resolve(c)},autoStart:!0},Q=K}}]);