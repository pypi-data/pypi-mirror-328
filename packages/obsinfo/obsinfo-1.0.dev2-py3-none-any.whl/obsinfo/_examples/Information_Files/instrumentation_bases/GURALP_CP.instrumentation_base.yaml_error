---
format_version: "0.111"
revision: 
    date: "2020-02-24"
    authors:
        - {$ref: "persons/Wayne_Crawford.person.yaml#person"}
instrumentation_base:
    equipment:
        model: "SPOBS"
        type: "Short Period Ocean Bottom Seismometer"
        description: "Guralp short-period OBS"
        manufacturer: "Guralp"
        vendor: "Guralp" 
    channels:
        default:
            datalogger:
                base:
                    equipment:
                        model: "Guralp"
                        type: "Guralp"
                        description: "Guralp"
                        manufacturer: "Guralp"
                        vendor: "Guralp"
                    stages:
                        - base:
                            description: "Guralp Digitizer"
                            input_units: {name: "V", description: "Volts"}
                            output_units: {name: "counts", description: "Digital Counts"}
                            input_sample_rate: 100 #make sure this is OK, I see no decimation factor
                            gain: 
                                frequency: 0
                                value: 1529051 #  counts/V (from 0.654 uV/ Count)
                            filter:
                                type : "ANALOG"
                    sample_rate: 100
                    correction: 0
                    configuration_default: "default"
                    configurations:
                        "default":
                            configuration_description: "default"
                        "1247 gain":
                            configuration_description: "1247 gain"
                            stage_modifications: 
                                "*": {gain: {value: 1533742}}
            sensor:
                base:
                   equipment:
                       model: "?????"
                       type: "Geophone"
                       description: "Guralp SPOBS acceleration sensor"
                       manufacturer: "Guralp"
                       vendor: "Guralp"
                   seed_codes:
                       band: "shortperiod"
                       instrument: "H"
                   stages:
                        - base:
                            description : "Guralp SPOBS seismometer" # optionel
                            input_units :  {name: "m/s", description: "VELOCITY"}
                            output_units : {name: "V", description: "VOLTS"}
                            gain : 
                                value: 1247.3
                                frequency: 10
                            filter:
                                type: "PolesZeros"
                                transfer_function_type: "LAPLACE (RADIANS/SECOND)"
                                zeros:
                                    - '0 + 0j'
                                    - '0 + 0j'
                                    - '1700 + 0j'
                                poles:
                                    - '-0.0707 + 0.0707j'
                                    - '-0.0707 - 0.0707j'
                                    - '-322.2 + 0j'
                                    - '-98.00 + 130.0j'
                                    - '-98.00 - 130.0j'
                            configuration_default: "1247 gain"
                            configurations:    
                                "753 gain":
                                        stage_modifications: 
                                            "*": {gain: {value: 753.27}}
                                "762 gain":
                                        stage_modifications: 
                                            "*": {gain: {value: 762.16}}
                                "1247 gain":
                                        stage_modifications: 
                                            "*": {gain: {value: 1247.3}}
        "1": {orientation:  {code: "H": {azimuth.deg: {value: 0}, dip.deg: {value: 90, uncertainty: 180}}}
        "2": {orientation:  {code: "2": {azimuth.deg: {value: 90, uncertainty: 180}, dip.deg: {value: 0}}} # E-W channel
        "3": {orientation:  {code: "1": {azimuth.deg: {value: 0, uncertainty: 180}, dip.deg: {value: 0}}} # N-S channel
        "4": {orientation:  {code: "3": {azimuth.deg: {value: 0}, dip.deg: {value: 90, uncertainty: 180}}} # vertical channel
        
notes: 
   - " used to show how to change response stages"
   - "NO RESPONSE PROVIDED IN CHANNEL 3 VALUES ARE WORTHLESS!"
