(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b0fcb10"],{9406:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("StatisticChart",{attrs:{statistic:t.statisticData}})},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{staticStyle:{width:"50%",height:"400px"},attrs:{id:"bar-chart",span:12}}),a("el-col",{staticStyle:{width:"50%",height:"400px"},attrs:{id:"pie-chart",span:12}})],1)],1)},s=[],c=(a("1b65"),a("6367"),a("05f6"),a("36f7"),a("ae9d"),a("5f31")),o={props:{statistic:{type:Object,required:!0}},watch:{statistic:{handler:function(){this.renderBarChart(),this.renderPieChart()},deep:!0}},mounted:function(){this.renderBarChart(),this.renderPieChart()},methods:{renderBarChart:function(){var t=c["a"](document.getElementById("bar-chart")),e=this.statistic.days.map((function(t){return t.date})),a=this.statistic.days.map((function(t){return t.count})),i={title:{text:"近7天"},xAxis:{type:"category",data:e,axisLabel:{rotate:45,interval:0}},yAxis:{type:"value"},series:[{data:a,type:"bar"}]};t.setOption(i)},renderPieChart:function(){var t=this,e=c["a"](document.getElementById("pie-chart")),a={title:{text:this.statistic.total.toString(),subtext:"总数",x:"center",y:"center",textStyle:{fontSize:30}},tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["未审批","有效","已删除"]},series:[{name:"Statistics",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"outside",formatter:"{b}: {c}"},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold",formatter:"{b}: {c} ({d}%)"}},labelLine:{show:!0},data:[{value:this.statistic.unapproved,name:"未审批"},{value:this.statistic.avl,name:"有效"},{value:this.statistic.deleted,name:"已删除"}]}]};e.setOption(a),e.on("click",(function(e){"未审批"===e.name?t.$router.push({path:"/approve/approve"}):"有效"===e.name&&t.$router.push({path:"/bottles/bottles"})}))}}},u=o,d=(a("dc70"),a("c4f6")),l=Object(d["a"])(u,r,s,!1,null,"0c6fece4",null),h=l.exports,p=a("b775");function f(){return Object(p["a"])({url:"api/statistic",method:"get"})}var b={name:"Dashboard",components:{StatisticChart:h},data:function(){return{statisticData:{total:0,unapproved:0,avl:0,deleted:0,days:[{date:"2024-08-20",count:0},{date:"2024-08-21",count:0},{date:"2024-08-22",count:0},{date:"2024-08-23",count:0},{date:"2024-08-24",count:0},{date:"2024-08-25",count:0},{date:"2024-08-26",count:0}]}}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;f().then((function(e){t.statisticData=e}))}}},m=b,v=Object(d["a"])(m,i,n,!1,null,null,null);e["default"]=v.exports},dc70:function(t,e,a){"use strict";a("ec55")},ec55:function(t,e,a){}}]);