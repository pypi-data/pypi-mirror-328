"use strict";(self.webpackChunk_jupyter_my_shared_docprovider_extension=self.webpackChunk_jupyter_my_shared_docprovider_extension||[]).push([[612],{612:(e,r,o)=>{o.r(r),o.d(r,{default:()=>w});var t,a=o(738),i=o(830),n=o(593),s=o(625),d=o(0),l=o(40),c=o(361);!function(e){e.openPath="filebrowser:open-path"}(t||(t={}));const u={id:"@jupyter/docprovider-extension:drive",description:"The default collaborative drive provider",provides:l.ICollaborativeDrive,optional:[s.ITranslator],activate:(e,r)=>{const o=(r=null!=r?r:s.nullTranslator).load("my-jupyter-shared-drive"),t=new c.MySharedDrive(e,o);return e.serviceManager.contents.addDrive(t),t}},v={id:"@jupyter/my-shared-docprovider-extension:yfile",description:"Plugin to register the shared model factory for the content type 'file'",autoStart:!0,requires:[l.ICollaborativeDrive],optional:[],activate:(e,r)=>{r.sharedModelFactory.registerDocumentFactory("file",(()=>new d.YFile))}},p={id:"@jupyter/my-shared-docprovider-extension:ynotebook",description:"Plugin to register the shared model factory for the content type 'notebook'",autoStart:!0,requires:[l.ICollaborativeDrive],optional:[n.ISettingRegistry],activate:(e,r,o)=>{let t=!0;o&&o.load("@jupyterlab/notebook-extension:tracker").then((e=>{const r=e=>{var r;const o=null==e?void 0:e.get("experimentalEnableDocumentWideUndoRedo").composite;t=null===(r=!o)||void 0===r||r};r(e),e.changed.connect((e=>r(e)))})),r.sharedModelFactory.registerDocumentFactory("notebook",(()=>new d.YNotebook({disableDocumentWideUndoRedo:t})))}},h={id:"my-jupyter-shared-drive:mySharedFileBrowser",description:"The shared file browser factory provider",autoStart:!0,provides:i.IDefaultFileBrowser,requires:[l.ICollaborativeDrive,i.IFileBrowserFactory],optional:[a.IRouter,a.JupyterFrontEnd.ITreeResolver,a.ILabShell,s.ITranslator],activate:async(e,r,o,t,a,i,n)=>{const{commands:d}=e,l=(null!=n?n:s.nullTranslator).load("jupyterlab");e.serviceManager.contents.addDrive(r);const c=o.createFileBrowser("filebrowser",{auto:!1,restore:!1,driveName:r.name});return c.node.setAttribute("role","region"),c.node.setAttribute("aria-label",l.__("File Browser Section")),y.restoreBrowser(c,d,t,a,i),c}};var y;!function(e){e.restoreBrowser=async function(e,r,o,a,i){const n="jp-mod-restoring";if(e.addClass(n),!o)return await e.model.restore(e.id),await e.model.refresh(),void e.removeClass(n);const s=async()=>{o.routed.disconnect(s);const d=await(null==a?void 0:a.paths);(null==d?void 0:d.file)||(null==d?void 0:d.browser)?(await e.model.restore(e.id,!1),d.file&&await r.execute(t.openPath,{path:d.file,dontShowBrowser:!0}),d.browser&&await r.execute(t.openPath,{path:d.browser,dontShowBrowser:!0})):(await e.model.restore(e.id),await e.model.refresh()),e.removeClass(n),(null==i?void 0:i.isEmpty("main"))&&r.execute("launcher:create")};o.routed.connect(s)}}(y||(y={}));const w=[u,v,p,h]}}]);