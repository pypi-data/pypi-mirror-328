import{a as je,i as Te,s as De,f as v,b as X,y as P,z as f,A as J,d as H,M as x,a1 as jn,h as ce,t as D,j as he,k as z,l as N,V as Re,o as rt,R as ot,ay as Qe,T as Tn,p as Ge,O as ge,w as ye,x as Me,D as ve,c as oe,m as ie,n as re,e as Pe,ba as Dn,q as bt,P as Ht,$ as se,C as E,a4 as Nt,bn as Al,u as wt,r as kt,v as pt,a5 as it,aq as ze,b8 as xe,b9 as $e,N as Le,bo as El,E as ae,U as vt,aa as Rn,a7 as Se,a8 as Be,K as Hn,aB as Nn,W as Pt,B as Pn,Y as Fn,S as On,a0 as In,a6 as Kn}from"../lite.js";import{d as Ne}from"./index-CnqicUFC.js";import{U as Un}from"./Upload-Do_omv-N.js";import{M as Vn}from"./MarkdownCode-DVjr71R6.js";import{C as Wn}from"./Copy-DcTA0nce.js";import{M as Jn,a as Yn}from"./Minimize-DOBO88I3.js";import{d as Xn}from"./dsv-DB8NKgIY.js";import{default as wo}from"./Example-B_2alvl-.js";/* empty css                                             */function Ft(n){let e,t,l;return{c(){e=P("input"),f(e,"role","textbox"),f(e,"tabindex","-1"),f(e,"class","svelte-1xjy58k"),J(e,"header",n[4])},m(s,o){H(s,e,o),n[24](e),ot(e,n[11]),t||(l=[x(e,"input",n[25]),x(e,"blur",n[14]),x(e,"mousedown",Qe(n[21])),x(e,"mouseup",Qe(n[22])),x(e,"click",Qe(n[23])),Tn(n[13].call(null,e)),x(e,"keydown",n[15])],t=!0)},p(s,o){o&2048&&e.value!==s[11]&&ot(e,s[11]),o&16&&J(e,"header",s[4])},d(s){s&&N(e),n[24](null),t=!1,Re(l)}}}function Gn(n){let e=(n[8]?n[12]:n[2]||n[12])+"",t;return{c(){t=ye(e)},m(l,s){H(l,t,s)},p(l,s){s&4356&&e!==(e=(l[8]?l[12]:l[2]||l[12])+"")&&Me(t,e)},i:ve,o:ve,d(l){l&&N(t)}}}function Qn(n){let e,t;return e=new Vn({props:{message:n[12].toLocaleString(),latex_delimiters:n[6],line_breaks:n[7],chatbot:!1,root:n[9]}}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},p(l,s){const o={};s&4096&&(o.message=l[12].toLocaleString()),s&64&&(o.latex_delimiters=l[6]),s&128&&(o.line_breaks=l[7]),s&512&&(o.root=l[9]),e.$set(o)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function Zn(n){let e,t;return{c(){e=new Dn(!1),t=Pe(),e.a=t},m(l,s){e.m(n[12],l,s),H(l,t,s)},p(l,s){s&4096&&e.p(l[12])},i:ve,o:ve,d(l){l&&(N(t),e.d())}}}function xn(n){let e,t,l,s,o,i,u,_=n[1]&&Ft(n);const c=[Zn,Qn,Gn],r=[];function h(d,m){return d[5]==="html"?0:d[5]==="markdown"?1:2}return l=h(n),s=r[l]=c[l](n),{c(){_&&_.c(),e=X(),t=P("span"),s.c(),f(t,"tabindex","0"),f(t,"role","button"),f(t,"style",n[3]),f(t,"data-editable",n[8]),f(t,"placeholder"," "),f(t,"class","svelte-1xjy58k"),J(t,"edit",n[1]),J(t,"expanded",n[10]),J(t,"multiline",n[4])},m(d,m){_&&_.m(d,m),H(d,e,m),H(d,t,m),r[l].m(t,null),o=!0,i||(u=[x(t,"click",n[16]),x(t,"keydown",n[15]),x(t,"focus",jn(n[20]))],i=!0)},p(d,[m]){d[1]?_?_.p(d,m):(_=Ft(d),_.c(),_.m(e.parentNode,e)):_&&(_.d(1),_=null);let k=l;l=h(d),l===k?r[l].p(d,m):(ce(),D(r[k],1,1,()=>{r[k]=null}),he(),s=r[l],s?s.p(d,m):(s=r[l]=c[l](d),s.c()),z(s,1),s.m(t,null)),(!o||m&8)&&f(t,"style",d[3]),(!o||m&256)&&f(t,"data-editable",d[8]),(!o||m&2)&&J(t,"edit",d[1]),(!o||m&1024)&&J(t,"expanded",d[10]),(!o||m&16)&&J(t,"multiline",d[4])},i(d){o||(z(s),o=!0)},o(d){D(s),o=!1},d(d){d&&(N(e),N(t)),_&&_.d(d),r[l].d(),i=!1,Re(u)}}}function $n(n,e=null){const t=String(n);return!e||t.length<=e?t:t.slice(0,e)+"..."}function es(n,e,t){let l,s,{edit:o}=e,{value:i=""}=e,{display_value:u=null}=e,{styling:_=""}=e,{header:c=!1}=e,{datatype:r="str"}=e,{latex_delimiters:h}=e,{clear_on_focus:d=!1}=e,{line_breaks:m=!0}=e,{editable:k=!0}=e,{root:T}=e,{max_chars:R=null}=e;const w=rt();let L=!1,{el:S}=e;function j(y){return d&&t(11,l=""),requestAnimationFrame(()=>{y.focus()}),{}}function F({currentTarget:y}){t(17,i=y.value),w("blur")}function G(y){y.key==="Enter"&&(o?(t(17,i=l),w("blur")):c||t(10,L=!L)),w("keydown",y)}function Q(){!o&&!c&&t(10,L=!L)}function U(y){Ge.call(this,n,y)}function K(y){Ge.call(this,n,y)}function W(y){Ge.call(this,n,y)}function q(y){Ge.call(this,n,y)}function V(y){ge[y?"unshift":"push"](()=>{S=y,t(0,S)})}function Z(){l=this.value,t(11,l),t(17,i)}return n.$$set=y=>{"edit"in y&&t(1,o=y.edit),"value"in y&&t(17,i=y.value),"display_value"in y&&t(2,u=y.display_value),"styling"in y&&t(3,_=y.styling),"header"in y&&t(4,c=y.header),"datatype"in y&&t(5,r=y.datatype),"latex_delimiters"in y&&t(6,h=y.latex_delimiters),"clear_on_focus"in y&&t(18,d=y.clear_on_focus),"line_breaks"in y&&t(7,m=y.line_breaks),"editable"in y&&t(8,k=y.editable),"root"in y&&t(9,T=y.root),"max_chars"in y&&t(19,R=y.max_chars),"el"in y&&t(0,S=y.el)},n.$$.update=()=>{n.$$.dirty&131072&&t(11,l=i),n.$$.dirty&656388&&t(12,s=L?i:$n(u||i,R))},[S,o,u,_,c,r,h,m,k,T,L,l,s,j,F,G,Q,i,d,R,U,K,W,q,V,Z]}class ut extends je{constructor(e){super(),Te(this,e,es,xn,De,{edit:1,value:17,display_value:2,styling:3,header:4,datatype:5,latex_delimiters:6,clear_on_focus:18,line_breaks:7,editable:8,root:9,max_chars:19,el:0})}get edit(){return this.$$.ctx[1]}set edit(e){this.$$set({edit:e}),v()}get value(){return this.$$.ctx[17]}set value(e){this.$$set({value:e}),v()}get display_value(){return this.$$.ctx[2]}set display_value(e){this.$$set({display_value:e}),v()}get styling(){return this.$$.ctx[3]}set styling(e){this.$$set({styling:e}),v()}get header(){return this.$$.ctx[4]}set header(e){this.$$set({header:e}),v()}get datatype(){return this.$$.ctx[5]}set datatype(e){this.$$set({datatype:e}),v()}get latex_delimiters(){return this.$$.ctx[6]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),v()}get clear_on_focus(){return this.$$.ctx[18]}set clear_on_focus(e){this.$$set({clear_on_focus:e}),v()}get line_breaks(){return this.$$.ctx[7]}set line_breaks(e){this.$$set({line_breaks:e}),v()}get editable(){return this.$$.ctx[8]}set editable(e){this.$$set({editable:e}),v()}get root(){return this.$$.ctx[9]}set root(e){this.$$set({root:e}),v()}get max_chars(){return this.$$.ctx[19]}set max_chars(e){this.$$set({max_chars:e}),v()}get el(){return this.$$.ctx[0]}set el(e){this.$$set({el:e}),v()}}const ts=n=>({}),Ot=n=>({});function It(n,e,t){const l=n.slice();return l[37]=e[t],l}const ls=n=>({item:n[0]&1024,index:n[0]&1024}),Kt=n=>({item:n[37].data,index:n[37].index}),ns=n=>({}),Ut=n=>({});function Vt(n){let e=[],t=new Map,l,s,o=ze(n[10]);const i=u=>u[37].data[0].id;for(let u=0;u<o.length;u+=1){let _=It(n,o,u),c=i(_);t.set(c,e[u]=Wt(c,_))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();l=Pe()},m(u,_){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(u,_);H(u,l,_),s=!0},p(u,_){_[0]&2098176&&(o=ze(u[10]),ce(),e=xe(e,_,i,1,u,o,t,l.parentNode,$e,Wt,l,It),he())},i(u){if(!s){for(let _=0;_<o.length;_+=1)z(e[_]);s=!0}},o(u){for(let _=0;_<e.length;_+=1)D(e[_]);s=!1},d(u){u&&N(l);for(let _=0;_<e.length;_+=1)e[_].d(u)}}}function ss(n){let e;return{c(){e=ye(`Missing Table Row
						`)},m(t,l){H(t,e,l)},d(t){t&&N(e)}}}function Wt(n,e){let t,l;const s=e[22].tbody,o=bt(s,e,e[21],Kt),i=o||ss();return{key:n,first:null,c(){t=Pe(),i&&i.c(),this.first=t},m(u,_){H(u,t,_),i&&i.m(u,_),l=!0},p(u,_){e=u,o&&o.p&&(!l||_[0]&2098176)&&wt(o,s,e,e[21],l?pt(s,e[21],_,ls):kt(e[21]),Kt)},i(u){l||(z(i,u),l=!0)},o(u){D(i,u),l=!1},d(u){u&&N(t),i&&i.d(u)}}}function os(n){let e,t,l,s,o,i,u,_,c,r,h,d,m,k;const T=n[22].thead,R=bt(T,n,n[21],Ut);let w=n[10].length&&n[10][0].data.length&&Vt(n);const L=n[22].tfoot,S=bt(L,n,n[21],Ot);return{c(){e=P("svelte-virtual-table-viewport"),t=P("div"),l=P("table"),s=P("thead"),R&&R.c(),i=X(),u=P("tbody"),w&&w.c(),_=X(),c=P("tfoot"),S&&S.c(),f(s,"class","thead svelte-y11bhb"),Ht(()=>n[23].call(s)),f(u,"class","tbody svelte-y11bhb"),f(c,"class","tfoot svelte-y11bhb"),Ht(()=>n[25].call(c)),f(l,"class","table svelte-y11bhb"),se(l,"height",is),se(l,"--bw-svt-p-top",n[8]+"px"),se(l,"--bw-svt-p-bottom",n[4]+"px"),se(l,"--bw-svt-head-height",n[6]+"px"),se(l,"--bw-svt-foot-height",n[7]+"px"),se(l,"--bw-svt-avg-row-height",n[2]+"px"),se(l,"--max-height",n[0]+"px"),J(l,"disable-scroll",n[1])},m(j,F){H(j,e,F),E(e,t),E(t,l),E(l,s),R&&R.m(s,null),o=Nt(s,n[23].bind(s)),E(l,i),E(l,u),w&&w.m(u,null),n[24](u),E(l,_),E(l,c),S&&S.m(c,null),r=Nt(c,n[25].bind(c)),n[26](l),h=Al.observe(l,n[27].bind(l)),d=!0,m||(k=x(l,"scroll",n[11]),m=!0)},p(j,F){R&&R.p&&(!d||F[0]&2097152)&&wt(R,T,j,j[21],d?pt(T,j[21],F,ns):kt(j[21]),Ut),j[10].length&&j[10][0].data.length?w?(w.p(j,F),F[0]&1024&&z(w,1)):(w=Vt(j),w.c(),z(w,1),w.m(u,null)):w&&(ce(),D(w,1,1,()=>{w=null}),he()),S&&S.p&&(!d||F[0]&2097152)&&wt(S,L,j,j[21],d?pt(L,j[21],F,ts):kt(j[21]),Ot),(!d||F[0]&256)&&se(l,"--bw-svt-p-top",j[8]+"px"),(!d||F[0]&16)&&se(l,"--bw-svt-p-bottom",j[4]+"px"),(!d||F[0]&64)&&se(l,"--bw-svt-head-height",j[6]+"px"),(!d||F[0]&128)&&se(l,"--bw-svt-foot-height",j[7]+"px"),(!d||F[0]&4)&&se(l,"--bw-svt-avg-row-height",j[2]+"px"),(!d||F[0]&1)&&se(l,"--max-height",j[0]+"px"),(!d||F[0]&2)&&J(l,"disable-scroll",j[1])},i(j){d||(z(R,j),z(w),z(S,j),d=!0)},o(j){D(R,j),D(w),D(S,j),d=!1},d(j){j&&N(e),R&&R.d(j),o(),w&&w.d(),n[24](null),S&&S.d(j),r(),n[26](null),h(),m=!1,k()}}}let is="100%";function rs(n,e){if(!n)return 0;const t=getComputedStyle(n);return parseInt(t.getPropertyValue(e))}function us(n,e,t){let l,{$$slots:s={},$$scope:o}=e,{items:i=[]}=e,{max_height:u}=e,{actual_height:_}=e,{table_scrollbar_width:c}=e,{start:r=0}=e,{end:h=20}=e,{selected:d}=e,{disable_scroll:m=!1}=e,k=30,T=0,R,w=0,L=0,S=[],j,F,G=0,Q,U=200,K=[],W;const q=typeof window<"u",V=q?window.requestAnimationFrame:A=>A();let Z=0;async function y(A){if(U===0)return;t(6,w=Q.querySelector(".thead")?.getBoundingClientRect().height||0),await Le();const{scrollTop:g}=Q;t(15,c=Q.offsetWidth-Q.clientWidth),Z=G-(g-w);let p=r;for(;Z<u&&p<A.length;){let ue=F[p-r];ue||(t(13,h=p+1),await Le(),ue=F[p-r]);let pe=ue?.getBoundingClientRect().height;pe||(pe=k);const Ke=S[p]=pe;Z+=Ke,p+=1}t(13,h=p);const Y=A.length-h,C=Q.offsetHeight-Q.clientHeight;C>0&&(Z+=C);let be=S.filter(ue=>typeof ue=="number");t(2,k=be.reduce((ue,pe)=>ue+pe,0)/be.length),t(4,T=Y*k),S.length=A.length,await Le(),u?Z<u?t(14,_=Z+2):t(14,_=u):t(14,_=Z+1),await Le()}async function O(A){V(async()=>{if(typeof A!="number")return;const g=typeof A!="number"?!1:we(A);g!==!0&&(g==="back"&&await _e(A,{behavior:"instant"}),g==="forwards"&&await _e(A,{behavior:"instant"},!0))})}function we(A){const g=F&&F[A-r];if(!g&&A<r)return"back";if(!g&&A>=h-1)return"forwards";const{top:p}=Q.getBoundingClientRect(),{top:Y,bottom:C}=g.getBoundingClientRect();return Y-p<37?"back":C-p>U?"forwards":!0}async function qe(A){const g=Q.scrollTop;F=R.children;const p=l.length<r,Y=rs(F[1],"border-top-width"),C=0;p&&await _e(l.length-1,{behavior:"auto"});let be=0;for(let B=0;B<F.length;B+=1)S[r+B]=F[B].getBoundingClientRect().height;let ue=0,pe=w+Y/2,Ke=[];for(;ue<l.length;){const B=S[ue]||k;if(Ke[ue]=B,pe+B+C>g){be=ue,t(8,G=pe-(w+Y/2));break}pe+=B,ue+=1}for(be=Math.max(0,be);ue<l.length;){const B=S[ue]||k;if(pe+=B,ue+=1,pe>g+U)break}t(12,r=be),t(13,h=ue);const de=l.length-h;h===0&&t(13,h=10),t(2,k=(pe-w)/h);let Fe=de*k;for(;ue<l.length;)ue+=1,S[ue]=k;t(4,T=Fe),isFinite(T)||t(4,T=2e5)}async function _e(A,g,p=!1){await Le();const Y=k;let C=A*Y;p&&(C=C-U+Y+w);const be=Q.offsetHeight-Q.clientHeight;be>0&&(C+=be);const ue={top:C,behavior:"smooth",...g};Q.scrollTo(ue)}it(()=>{F=R.children,t(19,j=!0),y(i)});function $(){w=this.offsetHeight,t(6,w)}function ke(A){ge[A?"unshift":"push"](()=>{R=A,t(5,R)})}function te(){L=this.offsetHeight,t(7,L)}function le(A){ge[A?"unshift":"push"](()=>{Q=A,t(9,Q)})}function ee(){W=El.entries.get(this)?.contentRect,t(3,W)}return n.$$set=A=>{"items"in A&&t(16,i=A.items),"max_height"in A&&t(0,u=A.max_height),"actual_height"in A&&t(14,_=A.actual_height),"table_scrollbar_width"in A&&t(15,c=A.table_scrollbar_width),"start"in A&&t(12,r=A.start),"end"in A&&t(13,h=A.end),"selected"in A&&t(17,d=A.selected),"disable_scroll"in A&&t(1,m=A.disable_scroll),"$$scope"in A&&t(21,o=A.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8&&(U=W?.height||200),n.$$.dirty[0]&65536&&t(20,l=i),n.$$.dirty[0]&1572864&&j&&V(()=>y(l)),n.$$.dirty[0]&131072&&O(d),n.$$.dirty[0]&1060869&&t(10,K=q?l.slice(r,h).map((A,g)=>({index:g+r,data:A})):l.slice(0,u/l.length*k+1).map((A,g)=>({index:g+r,data:A})))},[u,m,k,W,T,R,w,L,G,Q,K,qe,r,h,_,c,i,d,_e,j,l,o,s,$,ke,te,le,ee]}class as extends je{constructor(e){super(),Te(this,e,us,os,De,{items:16,max_height:0,actual_height:14,table_scrollbar_width:15,start:12,end:13,selected:17,disable_scroll:1,scroll_to_index:18},null,[-1,-1])}get items(){return this.$$.ctx[16]}set items(e){this.$$set({items:e}),v()}get max_height(){return this.$$.ctx[0]}set max_height(e){this.$$set({max_height:e}),v()}get actual_height(){return this.$$.ctx[14]}set actual_height(e){this.$$set({actual_height:e}),v()}get table_scrollbar_width(){return this.$$.ctx[15]}set table_scrollbar_width(e){this.$$set({table_scrollbar_width:e}),v()}get start(){return this.$$.ctx[12]}set start(e){this.$$set({start:e}),v()}get end(){return this.$$.ctx[13]}set end(e){this.$$set({end:e}),v()}get selected(){return this.$$.ctx[17]}set selected(e){this.$$set({selected:e}),v()}get disable_scroll(){return this.$$.ctx[1]}set disable_scroll(e){this.$$set({disable_scroll:e}),v()}get scroll_to_index(){return this.$$.ctx[18]}}function _s(n){let e,t,l;return{c(){e=ae("svg"),t=ae("rect"),l=ae("path"),f(t,"x","10"),f(t,"y","5"),f(t,"width","4"),f(t,"height","14"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(l,"d","M7 8L17 16M17 8L7 16"),f(l,"stroke","currentColor"),f(l,"stroke-width","2"),f(l,"stroke-linecap","round"),f(e,"viewBox","0 0 24 24"),f(e,"width","16"),f(e,"height","16")},m(s,o){H(s,e,o),E(e,t),E(e,l)},d(s){s&&N(e)}}}function fs(n){let e,t,l;return{c(){e=ae("svg"),t=ae("rect"),l=ae("path"),f(t,"x","5"),f(t,"y","10"),f(t,"width","14"),f(t,"height","4"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(l,"d","M8 7L16 17M16 7L8 17"),f(l,"stroke","currentColor"),f(l,"stroke-width","2"),f(l,"stroke-linecap","round"),f(e,"viewBox","0 0 24 24"),f(e,"width","16"),f(e,"height","16")},m(s,o){H(s,e,o),E(e,t),E(e,l)},d(s){s&&N(e)}}}function cs(n){let e,t,l;return{c(){e=ae("svg"),t=ae("rect"),l=ae("path"),f(t,"x","6"),f(t,"y","4"),f(t,"width","12"),f(t,"height","4"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(l,"d","M12 12V19M8 16L12 19L16 16"),f(l,"stroke","currentColor"),f(l,"stroke-width","2"),f(l,"fill","none"),f(l,"stroke-linecap","round"),f(e,"viewBox","0 0 24 24"),f(e,"width","16"),f(e,"height","16")},m(s,o){H(s,e,o),E(e,t),E(e,l)},d(s){s&&N(e)}}}function hs(n){let e,t,l;return{c(){e=ae("svg"),t=ae("rect"),l=ae("path"),f(t,"x","6"),f(t,"y","16"),f(t,"width","12"),f(t,"height","4"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(l,"d","M12 12V5M8 8L12 5L16 8"),f(l,"stroke","currentColor"),f(l,"stroke-width","2"),f(l,"fill","none"),f(l,"stroke-linecap","round"),f(e,"viewBox","0 0 24 24"),f(e,"width","16"),f(e,"height","16")},m(s,o){H(s,e,o),E(e,t),E(e,l)},d(s){s&&N(e)}}}function ds(n){let e,t,l;return{c(){e=ae("svg"),t=ae("rect"),l=ae("path"),f(t,"x","16"),f(t,"y","6"),f(t,"width","4"),f(t,"height","12"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"fill","none"),f(l,"d","M12 12H5M8 8L5 12L8 16"),f(l,"stroke","currentColor"),f(l,"stroke-width","2"),f(l,"fill","none"),f(l,"stroke-linecap","round"),f(e,"viewBox","0 0 24 24"),f(e,"width","16"),f(e,"height","16")},m(s,o){H(s,e,o),E(e,t),E(e,l)},d(s){s&&N(e)}}}function ms(n){let e,t,l;return{c(){e=ae("svg"),t=ae("rect"),l=ae("path"),f(t,"x","4"),f(t,"y","6"),f(t,"width","4"),f(t,"height","12"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"fill","none"),f(l,"d","M12 12H19M16 8L19 12L16 16"),f(l,"stroke","currentColor"),f(l,"stroke-width","2"),f(l,"fill","none"),f(l,"stroke-linecap","round"),f(e,"viewBox","0 0 24 24"),f(e,"width","16"),f(e,"height","16")},m(s,o){H(s,e,o),E(e,t),E(e,l)},d(s){s&&N(e)}}}function gs(n){let e;function t(o,i){if(o[0]=="add-column-right")return ms;if(o[0]=="add-column-left")return ds;if(o[0]=="add-row-above")return hs;if(o[0]=="add-row-below")return cs;if(o[0]=="delete-row")return fs;if(o[0]=="delete-column")return _s}let l=t(n),s=l&&l(n);return{c(){s&&s.c(),e=Pe()},m(o,i){s&&s.m(o,i),H(o,e,i)},p(o,[i]){l!==(l=t(o))&&(s&&s.d(1),s=l&&l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:ve,o:ve,d(o){o&&N(e),s&&s.d(o)}}}function bs(n,e,t){let{icon:l}=e;return n.$$set=s=>{"icon"in s&&t(0,l=s.icon)},[l]}class Ie extends je{constructor(e){super(),Te(this,e,bs,gs,De,{icon:0})}get icon(){return this.$$.ctx[0]}set icon(e){this.$$set({icon:e}),v()}}function Jt(n){let e,t,l,s=n[8]("dataframe.add_row_above")+"",o,i,u,_,c,r=n[8]("dataframe.add_row_below")+"",h,d,m,k,T,R;t=new Ie({props:{icon:"add-row-above"}}),_=new Ie({props:{icon:"add-row-below"}});let w=n[6]&&Yt(n);return{c(){e=P("button"),oe(t.$$.fragment),l=X(),o=ye(s),i=X(),u=P("button"),oe(_.$$.fragment),c=X(),h=ye(r),d=X(),w&&w.c(),m=Pe(),f(e,"class","svelte-1d2u1p1"),f(u,"class","svelte-1d2u1p1")},m(L,S){H(L,e,S),ie(t,e,null),E(e,l),E(e,o),H(L,i,S),H(L,u,S),ie(_,u,null),E(u,c),E(u,h),H(L,d,S),w&&w.m(L,S),H(L,m,S),k=!0,T||(R=[x(e,"click",n[18]),x(u,"click",n[19])],T=!0)},p(L,S){(!k||S&256)&&s!==(s=L[8]("dataframe.add_row_above")+"")&&Me(o,s),(!k||S&256)&&r!==(r=L[8]("dataframe.add_row_below")+"")&&Me(h,r),L[6]?w?(w.p(L,S),S&64&&z(w,1)):(w=Yt(L),w.c(),z(w,1),w.m(m.parentNode,m)):w&&(ce(),D(w,1,1,()=>{w=null}),he())},i(L){k||(z(t.$$.fragment,L),z(_.$$.fragment,L),z(w),k=!0)},o(L){D(t.$$.fragment,L),D(_.$$.fragment,L),D(w),k=!1},d(L){L&&(N(e),N(i),N(u),N(d),N(m)),re(t),re(_),w&&w.d(L),T=!1,Re(R)}}}function Yt(n){let e,t,l,s=n[8]("dataframe.delete_row")+"",o,i,u,_;return t=new Ie({props:{icon:"delete-row"}}),{c(){e=P("button"),oe(t.$$.fragment),l=X(),o=ye(s),f(e,"class","delete svelte-1d2u1p1")},m(c,r){H(c,e,r),ie(t,e,null),E(e,l),E(e,o),i=!0,u||(_=x(e,"click",function(){vt(n[4])&&n[4].apply(this,arguments)}),u=!0)},p(c,r){n=c,(!i||r&256)&&s!==(s=n[8]("dataframe.delete_row")+"")&&Me(o,s)},i(c){i||(z(t.$$.fragment,c),i=!0)},o(c){D(t.$$.fragment,c),i=!1},d(c){c&&N(e),re(t),u=!1,_()}}}function Xt(n){let e,t,l,s=n[8]("dataframe.add_column_left")+"",o,i,u,_,c,r=n[8]("dataframe.add_column_right")+"",h,d,m,k,T,R;t=new Ie({props:{icon:"add-column-left"}}),_=new Ie({props:{icon:"add-column-right"}});let w=n[7]&&Gt(n);return{c(){e=P("button"),oe(t.$$.fragment),l=X(),o=ye(s),i=X(),u=P("button"),oe(_.$$.fragment),c=X(),h=ye(r),d=X(),w&&w.c(),m=Pe(),f(e,"class","svelte-1d2u1p1"),f(u,"class","svelte-1d2u1p1")},m(L,S){H(L,e,S),ie(t,e,null),E(e,l),E(e,o),H(L,i,S),H(L,u,S),ie(_,u,null),E(u,c),E(u,h),H(L,d,S),w&&w.m(L,S),H(L,m,S),k=!0,T||(R=[x(e,"click",n[20]),x(u,"click",n[21])],T=!0)},p(L,S){(!k||S&256)&&s!==(s=L[8]("dataframe.add_column_left")+"")&&Me(o,s),(!k||S&256)&&r!==(r=L[8]("dataframe.add_column_right")+"")&&Me(h,r),L[7]?w?(w.p(L,S),S&128&&z(w,1)):(w=Gt(L),w.c(),z(w,1),w.m(m.parentNode,m)):w&&(ce(),D(w,1,1,()=>{w=null}),he())},i(L){k||(z(t.$$.fragment,L),z(_.$$.fragment,L),z(w),k=!0)},o(L){D(t.$$.fragment,L),D(_.$$.fragment,L),D(w),k=!1},d(L){L&&(N(e),N(i),N(u),N(d),N(m)),re(t),re(_),w&&w.d(L),T=!1,Re(R)}}}function Gt(n){let e,t,l,s=n[8]("dataframe.delete_column")+"",o,i,u,_;return t=new Ie({props:{icon:"delete-column"}}),{c(){e=P("button"),oe(t.$$.fragment),l=X(),o=ye(s),f(e,"class","delete svelte-1d2u1p1")},m(c,r){H(c,e,r),ie(t,e,null),E(e,l),E(e,o),i=!0,u||(_=x(e,"click",function(){vt(n[5])&&n[5].apply(this,arguments)}),u=!0)},p(c,r){n=c,(!i||r&256)&&s!==(s=n[8]("dataframe.delete_column")+"")&&Me(o,s)},i(c){i||(z(t.$$.fragment,c),i=!0)},o(c){D(t.$$.fragment,c),i=!1},d(c){c&&N(e),re(t),u=!1,_()}}}function ws(n){let e,t,l,s=!n[12]&&n[11]&&Jt(n),o=n[10]&&Xt(n);return{c(){e=P("div"),s&&s.c(),t=X(),o&&o.c(),f(e,"class","cell-menu svelte-1d2u1p1")},m(i,u){H(i,e,u),s&&s.m(e,null),E(e,t),o&&o.m(e,null),n[22](e),l=!0},p(i,[u]){!i[12]&&i[11]?s?(s.p(i,u),u&6144&&z(s,1)):(s=Jt(i),s.c(),z(s,1),s.m(e,t)):s&&(ce(),D(s,1,1,()=>{s=null}),he()),i[10]?o?(o.p(i,u),u&1024&&z(o,1)):(o=Xt(i),o.c(),z(o,1),o.m(e,null)):o&&(ce(),D(o,1,1,()=>{o=null}),he())},i(i){l||(z(s),z(o),l=!0)},o(i){D(s),D(o),l=!1},d(i){i&&N(e),s&&s.d(),o&&o.d(),n[22](null)}}}function ks(n,e,t){let l,s,o,{x:i}=e,{y:u}=e,{on_add_row_above:_}=e,{on_add_row_below:c}=e,{on_add_column_left:r}=e,{on_add_column_right:h}=e,{row:d}=e,{col_count:m}=e,{row_count:k}=e,{on_delete_row:T}=e,{on_delete_col:R}=e,{can_delete_rows:w}=e,{can_delete_cols:L}=e,{i18n:S}=e,j;it(()=>{F()});function F(){if(!j)return;const q=window.innerWidth,V=window.innerHeight,Z=j.getBoundingClientRect();let y=i-30,O=u-20;y+Z.width>q&&(y=i-Z.width+10),O+Z.height>V&&(O=u-Z.height+10),t(9,j.style.left=`${y}px`,j),t(9,j.style.top=`${O}px`,j)}const G=()=>_(),Q=()=>c(),U=()=>r(),K=()=>h();function W(q){ge[q?"unshift":"push"](()=>{j=q,t(9,j)})}return n.$$set=q=>{"x"in q&&t(13,i=q.x),"y"in q&&t(14,u=q.y),"on_add_row_above"in q&&t(0,_=q.on_add_row_above),"on_add_row_below"in q&&t(1,c=q.on_add_row_below),"on_add_column_left"in q&&t(2,r=q.on_add_column_left),"on_add_column_right"in q&&t(3,h=q.on_add_column_right),"row"in q&&t(15,d=q.row),"col_count"in q&&t(16,m=q.col_count),"row_count"in q&&t(17,k=q.row_count),"on_delete_row"in q&&t(4,T=q.on_delete_row),"on_delete_col"in q&&t(5,R=q.on_delete_col),"can_delete_rows"in q&&t(6,w=q.can_delete_rows),"can_delete_cols"in q&&t(7,L=q.can_delete_cols),"i18n"in q&&t(8,S=q.i18n)},n.$$.update=()=>{n.$$.dirty&32768&&t(12,l=d===-1),n.$$.dirty&131072&&t(11,s=k[1]==="dynamic"),n.$$.dirty&65536&&t(10,o=m[1]==="dynamic")},[_,c,r,h,T,R,w,L,S,j,o,s,l,i,u,d,m,k,G,Q,U,K,W]}class Ml extends je{constructor(e){super(),Te(this,e,ks,ws,De,{x:13,y:14,on_add_row_above:0,on_add_row_below:1,on_add_column_left:2,on_add_column_right:3,row:15,col_count:16,row_count:17,on_delete_row:4,on_delete_col:5,can_delete_rows:6,can_delete_cols:7,i18n:8})}get x(){return this.$$.ctx[13]}set x(e){this.$$set({x:e}),v()}get y(){return this.$$.ctx[14]}set y(e){this.$$set({y:e}),v()}get on_add_row_above(){return this.$$.ctx[0]}set on_add_row_above(e){this.$$set({on_add_row_above:e}),v()}get on_add_row_below(){return this.$$.ctx[1]}set on_add_row_below(e){this.$$set({on_add_row_below:e}),v()}get on_add_column_left(){return this.$$.ctx[2]}set on_add_column_left(e){this.$$set({on_add_column_left:e}),v()}get on_add_column_right(){return this.$$.ctx[3]}set on_add_column_right(e){this.$$set({on_add_column_right:e}),v()}get row(){return this.$$.ctx[15]}set row(e){this.$$set({row:e}),v()}get col_count(){return this.$$.ctx[16]}set col_count(e){this.$$set({col_count:e}),v()}get row_count(){return this.$$.ctx[17]}set row_count(e){this.$$set({row_count:e}),v()}get on_delete_row(){return this.$$.ctx[4]}set on_delete_row(e){this.$$set({on_delete_row:e}),v()}get on_delete_col(){return this.$$.ctx[5]}set on_delete_col(e){this.$$set({on_delete_col:e}),v()}get can_delete_rows(){return this.$$.ctx[6]}set can_delete_rows(e){this.$$set({can_delete_rows:e}),v()}get can_delete_cols(){return this.$$.ctx[7]}set can_delete_cols(e){this.$$set({can_delete_cols:e}),v()}get i18n(){return this.$$.ctx[8]}set i18n(e){this.$$set({i18n:e}),v()}}function ps(n){let e,t;return{c(){e=ae("svg"),t=ae("path"),f(t,"d","M4 4h16v2.67l-6.67 6.67v8L9.33 19v-5.66L2.67 6.67V4h1.33z"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(l,s){H(l,e,s),E(e,t)},p:ve,i:ve,o:ve,d(l){l&&N(e)}}}function vs(n){return[]}class zl extends je{constructor(e){super(),Te(this,e,vs,ps,De,{})}}function Qt(n){let e,t,l,s,o,i,u=n[0]&&n[3]==="filter"&&Zt(n);return{c(){e=P("div"),t=P("input"),l=X(),u&&u.c(),f(t,"type","text"),f(t,"placeholder","Search..."),f(t,"class","search-input svelte-b1nr0g"),f(e,"class","search-container svelte-b1nr0g")},m(_,c){H(_,e,c),E(e,t),ot(t,n[0]),E(e,l),u&&u.m(e,null),s=!0,o||(i=x(t,"input",n[10]),o=!0)},p(_,c){c&1&&t.value!==_[0]&&ot(t,_[0]),_[0]&&_[3]==="filter"?u?(u.p(_,c),c&9&&z(u,1)):(u=Zt(_),u.c(),z(u,1),u.m(e,null)):u&&(ce(),D(u,1,1,()=>{u=null}),he())},i(_){s||(z(u),s=!0)},o(_){D(u),s=!1},d(_){_&&N(e),u&&u.d(),o=!1,i()}}}function Zt(n){let e,t,l,s,o;return t=new zl({}),{c(){e=P("button"),oe(t.$$.fragment),f(e,"class","toolbar-button check-button svelte-b1nr0g"),f(e,"aria-label","Apply filter and update dataframe values"),f(e,"title","Apply filter and update dataframe values")},m(i,u){H(i,e,u),ie(t,e,null),l=!0,s||(o=x(e,"click",function(){vt(n[5])&&n[5].apply(this,arguments)}),s=!0)},p(i,u){n=i},i(i){l||(z(t.$$.fragment,i),l=!0)},o(i){D(t.$$.fragment,i),l=!1},d(i){i&&N(e),re(t),s=!1,o()}}}function xt(n){let e,t,l,s,o,i,u,_;const c=[qs,ys],r=[];function h(d,m){return d[6]?0:1}return t=h(n),l=r[t]=c[t](n),{c(){e=P("button"),l.c(),f(e,"class","toolbar-button svelte-b1nr0g"),f(e,"aria-label",s=n[6]?"Copied to clipboard":"Copy table data"),f(e,"title",o=n[6]?"Copied to clipboard":"Copy table data")},m(d,m){H(d,e,m),r[t].m(e,null),i=!0,u||(_=x(e,"click",n[7]),u=!0)},p(d,m){let k=t;t=h(d),t!==k&&(ce(),D(r[k],1,1,()=>{r[k]=null}),he(),l=r[t],l||(l=r[t]=c[t](d),l.c()),z(l,1),l.m(e,null)),(!i||m&64&&s!==(s=d[6]?"Copied to clipboard":"Copy table data"))&&f(e,"aria-label",s),(!i||m&64&&o!==(o=d[6]?"Copied to clipboard":"Copy table data"))&&f(e,"title",o)},i(d){i||(z(l),i=!0)},o(d){D(l),i=!1},d(d){d&&N(e),r[t].d(),u=!1,_()}}}function ys(n){let e,t;return e=new Wn({}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function qs(n){let e,t;return e=new zl({}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function $t(n){let e,t,l,s,o,i,u,_;const c=[As,Cs],r=[];function h(d,m){return d[4]?0:1}return t=h(n),l=r[t]=c[t](n),{c(){e=P("button"),l.c(),f(e,"class","toolbar-button svelte-b1nr0g"),f(e,"aria-label",s=n[4]?"Exit fullscreen":"Enter fullscreen"),f(e,"title",o=n[4]?"Exit fullscreen":"Enter fullscreen")},m(d,m){H(d,e,m),r[t].m(e,null),i=!0,u||(_=x(e,"click",n[9]),u=!0)},p(d,m){let k=t;t=h(d),t!==k&&(ce(),D(r[k],1,1,()=>{r[k]=null}),he(),l=r[t],l||(l=r[t]=c[t](d),l.c()),z(l,1),l.m(e,null)),(!i||m&16&&s!==(s=d[4]?"Exit fullscreen":"Enter fullscreen"))&&f(e,"aria-label",s),(!i||m&16&&o!==(o=d[4]?"Exit fullscreen":"Enter fullscreen"))&&f(e,"title",o)},i(d){i||(z(l),i=!0)},o(d){D(l),i=!1},d(d){d&&N(e),r[t].d(),u=!1,_()}}}function Cs(n){let e,t;return e=new Jn({}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function As(n){let e,t;return e=new Yn({}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function Es(n){let e,t,l,s,o,i=n[3]!=="none"&&Qt(n),u=n[2]&&xt(n),_=n[1]&&$t(n);return{c(){e=P("div"),t=P("div"),i&&i.c(),l=X(),u&&u.c(),s=X(),_&&_.c(),f(t,"class","toolbar-buttons svelte-b1nr0g"),f(e,"class","toolbar svelte-b1nr0g"),f(e,"role","toolbar"),f(e,"aria-label","Table actions")},m(c,r){H(c,e,r),E(e,t),i&&i.m(t,null),E(t,l),u&&u.m(t,null),E(t,s),_&&_.m(t,null),o=!0},p(c,[r]){c[3]!=="none"?i?(i.p(c,r),r&8&&z(i,1)):(i=Qt(c),i.c(),z(i,1),i.m(t,l)):i&&(ce(),D(i,1,1,()=>{i=null}),he()),c[2]?u?(u.p(c,r),r&4&&z(u,1)):(u=xt(c),u.c(),z(u,1),u.m(t,s)):u&&(ce(),D(u,1,1,()=>{u=null}),he()),c[1]?_?(_.p(c,r),r&2&&z(_,1)):(_=$t(c),_.c(),z(_,1),_.m(t,null)):_&&(ce(),D(_,1,1,()=>{_=null}),he())},i(c){o||(z(i),z(u),z(_),o=!0)},o(c){D(i),D(u),D(_),o=!1},d(c){c&&N(e),i&&i.d(),u&&u.d(),_&&_.d()}}}function Ms(n,e,t){let{show_fullscreen_button:l=!1}=e,{show_copy_button:s=!1}=e,{show_search:o="none"}=e,{is_fullscreen:i=!1}=e,{on_copy:u}=e,{on_commit_filter:_}=e;const c=rt();let r=!1,h,{current_search_query:d=null}=e;function m(){t(6,r=!0),h&&clearTimeout(h),h=setTimeout(()=>{t(6,r=!1)},2e3)}async function k(){await u(),m()}Rn(()=>{h&&clearTimeout(h)});function T(w){Ge.call(this,n,w)}function R(){d=this.value,t(0,d)}return n.$$set=w=>{"show_fullscreen_button"in w&&t(1,l=w.show_fullscreen_button),"show_copy_button"in w&&t(2,s=w.show_copy_button),"show_search"in w&&t(3,o=w.show_search),"is_fullscreen"in w&&t(4,i=w.is_fullscreen),"on_copy"in w&&t(8,u=w.on_copy),"on_commit_filter"in w&&t(5,_=w.on_commit_filter),"current_search_query"in w&&t(0,d=w.current_search_query)},n.$$.update=()=>{n.$$.dirty&1&&c("search",d)},[d,l,s,o,i,_,r,k,u,T,R]}class zs extends je{constructor(e){super(),Te(this,e,Ms,Es,De,{show_fullscreen_button:1,show_copy_button:2,show_search:3,is_fullscreen:4,on_copy:8,on_commit_filter:5,current_search_query:0})}get show_fullscreen_button(){return this.$$.ctx[1]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),v()}get show_copy_button(){return this.$$.ctx[2]}set show_copy_button(e){this.$$set({show_copy_button:e}),v()}get show_search(){return this.$$.ctx[3]}set show_search(e){this.$$set({show_search:e}),v()}get is_fullscreen(){return this.$$.ctx[4]}set is_fullscreen(e){this.$$set({is_fullscreen:e}),v()}get on_copy(){return this.$$.ctx[8]}set on_copy(e){this.$$set({on_copy:e}),v()}get on_commit_filter(){return this.$$.ctx[5]}set on_commit_filter(e){this.$$set({on_commit_filter:e}),v()}get current_search_query(){return this.$$.ctx[0]}set current_search_query(e){this.$$set({current_search_query:e}),v()}}function Ls(n){let e,t,l,s,o,i,u,_,c,r,h,d,m,k,T;return{c(){e=P("div"),t=P("button"),l=ae("svg"),s=ae("path"),u=X(),_=P("button"),c=ae("svg"),r=ae("path"),f(s,"d","M7 14l5-5 5 5"),f(s,"stroke","currentColor"),f(s,"stroke-width","2"),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(l,"viewBox","0 0 24 24"),f(l,"fill","none"),f(l,"xmlns","http://www.w3.org/2000/svg"),f(l,"aria-hidden","true"),f(l,"focusable","false"),f(l,"class","svelte-a5uqm5"),f(t,"class","sort-button up svelte-a5uqm5"),f(t,"aria-label",o=n[1]("dataframe.sort_ascending")),f(t,"aria-pressed",i=n[0]==="asc"),J(t,"active",n[0]==="asc"),f(r,"d","M7 10l5 5 5-5"),f(r,"stroke","currentColor"),f(r,"stroke-width","2"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(c,"viewBox","0 0 24 24"),f(c,"fill","none"),f(c,"xmlns","http://www.w3.org/2000/svg"),f(c,"aria-hidden","true"),f(c,"focusable","false"),f(c,"class","svelte-a5uqm5"),f(_,"class","sort-button down svelte-a5uqm5"),f(_,"aria-label",h=n[1]("dataframe.sort_descending")),f(_,"aria-pressed",d=n[0]==="des"),J(_,"active",n[0]==="des"),f(e,"class","sort-icons svelte-a5uqm5"),f(e,"role","group"),f(e,"aria-label",m=n[1]("dataframe.sort_column"))},m(R,w){H(R,e,w),E(e,t),E(t,l),E(l,s),E(e,u),E(e,_),E(_,c),E(c,r),k||(T=[x(t,"click",n[3]),x(_,"click",n[4])],k=!0)},p(R,[w]){w&2&&o!==(o=R[1]("dataframe.sort_ascending"))&&f(t,"aria-label",o),w&1&&i!==(i=R[0]==="asc")&&f(t,"aria-pressed",i),w&1&&J(t,"active",R[0]==="asc"),w&2&&h!==(h=R[1]("dataframe.sort_descending"))&&f(_,"aria-label",h),w&1&&d!==(d=R[0]==="des")&&f(_,"aria-pressed",d),w&1&&J(_,"active",R[0]==="des"),w&2&&m!==(m=R[1]("dataframe.sort_column"))&&f(e,"aria-label",m)},i:ve,o:ve,d(R){R&&N(e),k=!1,Re(T)}}}function Ss(n,e,t){let{direction:l=null}=e,{i18n:s}=e;const o=rt(),i=()=>o("sort","asc"),u=()=>o("sort","des");return n.$$set=_=>{"direction"in _&&t(0,l=_.direction),"i18n"in _&&t(1,s=_.i18n)},[l,s,o,i,u]}class Ll extends je{constructor(e){super(),Te(this,e,Ss,Ls,De,{direction:0,i18n:1})}get direction(){return this.$$.ctx[0]}set direction(e){this.$$set({direction:e}),v()}get i18n(){return this.$$.ctx[1]}set i18n(e){this.$$set({i18n:e}),v()}}function st(n,e){const[t,l]=n;if(!e.some(([_,c])=>_===t&&c===l))return"";const s=e.some(([_,c])=>_===t-1&&c===l),o=e.some(([_,c])=>_===t+1&&c===l),i=e.some(([_,c])=>_===t&&c===l-1),u=e.some(([_,c])=>_===t&&c===l+1);return`cell-selected${s?" no-top":""}${o?" no-bottom":""}${i?" no-left":""}${u?" no-right":""}`}function Sl(n,e){const[t,l]=n,[s,o]=e,i=Math.min(t,s),u=Math.max(t,s),_=Math.min(l,o),c=Math.max(l,o),r=[];for(let h=i;h<=u;h++)for(let d=_;d<=c;d++)r.push([h,d]);return r}function Bs(n,e,t){if(t.shiftKey&&e.length>0)return Sl(e[e.length-1],n);if(t.metaKey||t.ctrlKey){const l=([o,i])=>o===n[0]&&i===n[1],s=e.findIndex(l);return s===-1?[...e,n]:e.filter((o,i)=>i!==s)}return[n]}function js(n,e){const t=n.map(l=>[...l]);return e.forEach(([l,s])=>{t[l]&&t[l][s]&&(t[l][s]={...t[l][s],value:""})}),t}function el(n,e,t){const[l,s]=n;return t&&e.length===1&&e[0][0]===l&&e[0][1]===s}function Ts(n,e,t){const[l,s]=n,o=t?-1:1;if(e[l]?.[s+o])return[l,s+o];const i=l+(o>0?1:0),u=l+(o<0?-1:0);return o>0&&e[i]?.[0]?[i,0]:o<0&&e[u]?.[e[0].length-1]?[u,e[0].length-1]:!1}function Ds(n,e,t){const l={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[n],s=e[0]+l[0],o=e[1]+l[1];return s<0&&o<=0?!1:t[s]?.[o]?[s,o]:!1}function Rs(n,e){return e.reduce((t,l,s)=>{const o=l.reduce((i,u,_)=>n===u.id?_:i,-1);return o===-1?t:[s,o]},[-1,-1])}function Hs(n,e){const[t]=n.composedPath();return!e.contains(t)}function Ns(n,e){return Array.from({length:n.length},(t,l)=>[l,e])}function Ps(n,e){return Array.from({length:n[0].length},(t,l)=>[e,l])}function Fs(n,e,t,l,s){const[o,i]=n;if(!e[o]?.[i])return{col_pos:"0px",row_pos:void 0};let u=0;for(let T=0;T<i;T++)u+=parseFloat(getComputedStyle(l).getPropertyValue(`--cell-width-${T}`));const _=e[o][i].id,c=t[_]?.cell;if(!c)return{col_pos:"0px",row_pos:void 0};const r=c.getBoundingClientRect(),h=s.getBoundingClientRect(),d=`${r.left-h.left+r.width/2}px`,k=`${r.top-h.top+r.height/2}px`;return{col_pos:d,row_pos:k}}function Os(n,e,t){if(!n||!n.length||!n[0])return[];if(typeof e=="number"&&t&&e>=0&&e<n[0].length){const l=[...Array(n.length)].map((s,o)=>o);return l.sort((s,o)=>{const i=n[s],u=n[o];if(!i||!u||e>=i.length||e>=u.length)return 0;const _=i[e].value,c=u[e].value,r=_<c?-1:_>c?1:0;return t==="asc"?r:-r}),l}return[...Array(n.length)].map((l,s)=>s)}function Is(n){if(!n||!n.length)return[];let e=n[0].slice();for(let t=0;t<n.length;t++)for(let l=0;l<n[t].length;l++)`${e[l].value}`.length<`${n[t][l].value}`.length&&(e[l]=n[t][l]);return e}function Ks(n,e,t,l,s){const o=Os(n,l,s),i=o.map(u=>n[u]);if(n.splice(0,n.length,...i),e){const u=o.map(_=>e[_]);e.splice(0,e.length,...u)}if(t){const u=o.map(_=>t[_]);t.splice(0,t.length,...u)}}async function Us(n,e){const t=e.reduce((i,[u,_])=>{i[u]=i[u]||{};const c=String(n[u][_].value);return i[u][_]=c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c,i},{}),l=Object.keys(t).sort((i,u)=>+i-+u),s=Object.keys(t[l[0]]).sort((i,u)=>+i-+u),o=l.map(i=>s.map(u=>t[i][u]||"").join(",")).join(`
`);try{await navigator.clipboard.writeText(o)}catch(i){throw console.error("Copy failed:",i),new Error("Failed to copy to clipboard: "+i.message)}}function Vs(n,e){return e.filter(t);function t(l){var s=-1;return n.split(`
`).every(o);function o(i){if(!i)return!0;var u=i.split(l).length;return s<0&&(s=u),s===u&&u>1}}}function Ws(n){const e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),s=new Uint8Array(l);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return new Blob([l],{type:t})}function Js(n,e,t){const l=Ws(n),s=new FileReader;s.addEventListener("loadend",o=>{if(!o?.target?.result||typeof o.target.result!="string")return;const[i]=Vs(o.target.result,[",","	"]),[u,..._]=Xn(i).parseRows(o.target.result);e(u),t(_)}),s.readAsText(l)}const{window:Ys}=Nn;function tl(n,e,t){const l=n.slice();return l[141]=e[t].value,l[142]=e[t].id,l[145]=e,l[146]=t,l}function ll(n,e,t){const l=n.slice();return l[141]=e[t].value,l[142]=e[t].id,l[143]=e,l[144]=t,l}function nl(n,e,t){const l=n.slice();return l[141]=e[t].value,l[142]=e[t].id,l[147]=e,l[144]=t,l}function sl(n,e,t){const l=n.slice();return l[141]=e[t].value,l[142]=e[t].id,l[146]=t,l}function ol(n){let e,t,l,s,o=n[2]&&n[2].length!==0&&n[3]&&il(n);return l=new zs({props:{show_fullscreen_button:n[17],is_fullscreen:n[41],on_copy:n[64],show_copy_button:n[18],show_search:n[20],on_commit_filter:n[71],current_search_query:n[47]}}),l.$on("click",n[63]),l.$on("search",n[78]),{c(){e=P("div"),o&&o.c(),t=X(),oe(l.$$.fragment),f(e,"class","header-row svelte-v7qhxw")},m(i,u){H(i,e,u),o&&o.m(e,null),E(e,t),ie(l,e,null),s=!0},p(i,u){i[2]&&i[2].length!==0&&i[3]?o?o.p(i,u):(o=il(i),o.c(),o.m(e,t)):o&&(o.d(1),o=null);const _={};u[0]&131072&&(_.show_fullscreen_button=i[17]),u[1]&1024&&(_.is_fullscreen=i[41]),u[0]&262144&&(_.show_copy_button=i[18]),u[0]&1048576&&(_.show_search=i[20]),u[1]&65536&&(_.current_search_query=i[47]),l.$set(_)},i(i){s||(z(l.$$.fragment,i),s=!0)},o(i){D(l.$$.fragment,i),s=!1},d(i){i&&N(e),o&&o.d(),re(l)}}}function il(n){let e,t,l;return{c(){e=P("div"),t=P("p"),l=ye(n[2]),f(t,"class","svelte-v7qhxw"),f(e,"class","label svelte-v7qhxw")},m(s,o){H(s,e,o),E(e,t),E(t,l)},p(s,o){o[0]&4&&Me(l,s[2])},d(s){s&&N(e)}}}function rl(n){let e,t,l,s,o;return{c(){e=P("button"),e.textContent="⋮",t=X(),l=P("button"),l.textContent="⋮",f(e,"class","selection-button selection-button-column svelte-v7qhxw"),f(e,"aria-label","Select column"),f(l,"class","selection-button selection-button-row svelte-v7qhxw"),f(l,"aria-label","Select row")},m(i,u){H(i,e,u),H(i,t,u),H(i,l,u),s||(o=[x(e,"click",Qe(n[79])),x(l,"click",Qe(n[80]))],s=!0)},p:ve,d(i){i&&(N(e),N(t),N(l)),s=!1,Re(o)}}}function ul(n){let e,t;return{c(){e=P("caption"),t=ye(n[2]),f(e,"class","sr-only")},m(l,s){H(l,e,s),E(e,t)},p(l,s){s[0]&4&&Me(t,l[2])},d(l){l&&N(e)}}}function al(n){let e;return{c(){e=P("th"),e.innerHTML='<div class="cell-wrap svelte-v7qhxw"><div class="header-content svelte-v7qhxw"><div class="header-text"></div></div></div>',f(e,"class","row-number-header frozen-column always-frozen svelte-v7qhxw"),se(e,"left","0")},m(t,l){H(t,e,l)},d(t){t&&N(e)}}}function _l(n,e){let t,l,s,o,i,u,_,c,r,h;o=new ut({props:{value:e[141],latex_delimiters:e[6],line_breaks:e[12],header:!0,edit:!1,el:null,root:e[9],editable:e[7]}});function d(...m){return e[81](e[146],...m)}return _=new Ll({props:{direction:e[29]===e[146]?e[28]:null,i18n:e[10]}}),_.$on("sort",d),{key:n,first:null,c(){t=P("th"),l=P("div"),s=P("div"),oe(o.$$.fragment),i=X(),u=P("div"),oe(_.$$.fragment),c=X(),f(u,"class","sort-buttons svelte-v7qhxw"),f(s,"class","header-content svelte-v7qhxw"),f(l,"class","cell-wrap svelte-v7qhxw"),f(t,"aria-sort",r=e[50](e[141],e[29],e[28])),se(t,"width",e[13].length?e[13][e[146]]:void 0),se(t,"left",e[146]<e[33]?e[146]===0?e[14]?"var(--cell-width-row-number)":"0":`calc(${e[14]?"var(--cell-width-row-number) + ":""}${Array(e[146]).fill(0).map(yl).join(" + ")})`:"auto"),f(t,"class","svelte-v7qhxw"),J(t,"frozen-column",e[146]<e[33]),J(t,"last-frozen",(e[14],e[146]===e[33]-1)),J(t,"editing",e[37]===e[146]),this.first=t},m(m,k){H(m,t,k),E(t,l),E(l,s),ie(o,s,null),E(s,i),E(s,u),ie(_,u,null),E(t,c),h=!0},p(m,k){e=m;const T={};k[0]&67108864&&(T.value=e[141]),k[0]&64&&(T.latex_delimiters=e[6]),k[0]&4096&&(T.line_breaks=e[12]),k[0]&512&&(T.root=e[9]),k[0]&128&&(T.editable=e[7]),o.$set(T);const R={};k[0]&872415232&&(R.direction=e[29]===e[146]?e[28]:null),k[0]&1024&&(R.i18n=e[10]),_.$set(R),(!h||k[0]&872415232&&r!==(r=e[50](e[141],e[29],e[28])))&&f(t,"aria-sort",r),(!h||k[0]&67117056)&&se(t,"width",e[13].length?e[13][e[146]]:void 0),(!h||k[0]&67125248|k[1]&4)&&se(t,"left",e[146]<e[33]?e[146]===0?e[14]?"var(--cell-width-row-number)":"0":`calc(${e[14]?"var(--cell-width-row-number) + ":""}${Array(e[146]).fill(0).map(yl).join(" + ")})`:"auto"),(!h||k[0]&67108864|k[1]&4)&&J(t,"frozen-column",e[146]<e[33]),(!h||k[0]&67125248|k[1]&4)&&J(t,"last-frozen",(e[14],e[146]===e[33]-1)),(!h||k[0]&67108864|k[1]&64)&&J(t,"editing",e[37]===e[146])},i(m){h||(z(o.$$.fragment,m),z(_.$$.fragment,m),h=!0)},o(m){D(o.$$.fragment,m),D(_.$$.fragment,m),h=!1},d(m){m&&N(t),re(o),re(_)}}}function fl(n,e){let t,l,s,o,i=e[144],u;s=new ut({props:{value:e[141],latex_delimiters:e[6],line_breaks:e[12],datatype:Array.isArray(e[1])?e[1][e[144]]:e[1],edit:!1,el:null,root:e[9],editable:e[7]}});const _=()=>e[82](t,i),c=()=>e[82](null,i);return{key:n,first:null,c(){t=P("td"),l=P("div"),oe(s.$$.fragment),o=X(),f(l,"class","cell-wrap svelte-v7qhxw"),f(t,"tabindex","-1"),f(t,"class","svelte-v7qhxw"),this.first=t},m(r,h){H(r,t,h),E(t,l),ie(s,l,null),E(t,o),_(),u=!0},p(r,h){e=r;const d={};h[1]&262144&&(d.value=e[141]),h[0]&64&&(d.latex_delimiters=e[6]),h[0]&4096&&(d.line_breaks=e[12]),h[0]&2|h[1]&262144&&(d.datatype=Array.isArray(e[1])?e[1][e[144]]:e[1]),h[0]&512&&(d.root=e[9]),h[0]&128&&(d.editable=e[7]),s.$set(d),i!==e[144]&&(c(),i=e[144],_())},i(r){u||(z(s.$$.fragment,r),u=!0)},o(r){D(s.$$.fragment,r),u=!1},d(r){r&&N(t),re(s),c()}}}function cl(n){let e,t;return{c(){e=P("caption"),t=ye(n[2]),f(e,"class","sr-only")},m(l,s){H(l,e,s),E(e,t)},p(l,s){s[0]&4&&Me(t,l[2])},d(l){l&&N(e)}}}function Xs(n){let e,t=n[2]&&n[2].length!==0&&cl(n);return{c(){t&&t.c(),e=Pe()},m(l,s){t&&t.m(l,s),H(l,e,s)},p(l,s){l[2]&&l[2].length!==0?t?t.p(l,s):(t=cl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&N(e),t&&t.d(l)}}}function hl(n){let e;return{c(){e=P("th"),e.innerHTML='<div class="cell-wrap svelte-v7qhxw"><div class="header-content svelte-v7qhxw"><div class="header-text"></div></div></div>',f(e,"class","row-number-header frozen-column always-frozen svelte-v7qhxw"),se(e,"left","0")},m(t,l){H(t,e,l)},d(t){t&&N(e)}}}function dl(n){let e,t,l;function s(...i){return n[97](n[146],...i)}function o(...i){return n[98](n[146],...i)}return{c(){e=P("button"),e.textContent="⋮",f(e,"class","cell-menu-button svelte-v7qhxw")},m(i,u){H(i,e,u),t||(l=[x(e,"click",s),x(e,"touchstart",o)],t=!0)},p(i,u){n=i},d(i){i&&N(e),t=!1,Re(l)}}}function ml(n,e){let t,l,s,o,i,u,_,c,r,h,d,m,k,T,R;function w(U){e[93](U,e[146])}function L(U){e[94](U,e[142])}function S(){return e[95](e[146])}let j={max_chars:e[19],latex_delimiters:e[6],line_breaks:e[12],edit:e[37]===e[146],header:!0,root:e[9],editable:e[7]};e[26][e[146]].value!==void 0&&(j.value=e[26][e[146]].value),e[25][e[142]].input!==void 0&&(j.el=e[25][e[142]].input),o=new ut({props:j}),ge.push(()=>Se(o,"value",w)),ge.push(()=>Se(o,"el",L)),o.$on("keydown",e[54]),o.$on("dblclick",S);function F(...U){return e[96](e[146],...U)}r=new Ll({props:{direction:e[29]===e[146]?e[28]:null,i18n:e[10]}}),r.$on("sort",F);let G=e[7]&&dl(e);function Q(){return e[99](e[146])}return{key:n,first:null,c(){t=P("th"),l=P("div"),s=P("div"),oe(o.$$.fragment),_=X(),c=P("div"),oe(r.$$.fragment),h=X(),G&&G.c(),d=X(),f(c,"class","sort-buttons svelte-v7qhxw"),f(s,"class","header-content svelte-v7qhxw"),f(l,"class","cell-wrap svelte-v7qhxw"),f(t,"aria-sort",m=e[50](e[141],e[29],e[28])),se(t,"width",e[57](e[146])),se(t,"left",e[146]<e[33]?e[146]===0?e[14]?"var(--cell-width-row-number)":"0":`calc(${e[14]?"var(--cell-width-row-number) + ":""}${Array(e[146]).fill(0).map(Cl).join(" + ")})`:"auto"),f(t,"class","svelte-v7qhxw"),J(t,"frozen-column",e[146]<e[33]),J(t,"last-frozen",e[146]===e[33]-1),J(t,"focus",e[37]===e[146]||e[38]===e[146]),this.first=t},m(U,K){H(U,t,K),E(t,l),E(l,s),ie(o,s,null),E(s,_),E(s,c),ie(r,c,null),E(l,h),G&&G.m(l,null),E(t,d),k=!0,T||(R=x(t,"click",Q),T=!0)},p(U,K){e=U;const W={};K[0]&524288&&(W.max_chars=e[19]),K[0]&64&&(W.latex_delimiters=e[6]),K[0]&4096&&(W.line_breaks=e[12]),K[0]&67108864|K[1]&64&&(W.edit=e[37]===e[146]),K[0]&512&&(W.root=e[9]),K[0]&128&&(W.editable=e[7]),!i&&K[0]&67108864&&(i=!0,W.value=e[26][e[146]].value,Be(()=>i=!1)),!u&&K[0]&100663296&&(u=!0,W.el=e[25][e[142]].input,Be(()=>u=!1)),o.$set(W);const q={};K[0]&872415232&&(q.direction=e[29]===e[146]?e[28]:null),K[0]&1024&&(q.i18n=e[10]),r.$set(q),e[7]?G?G.p(e,K):(G=dl(e),G.c(),G.m(l,null)):G&&(G.d(1),G=null),(!k||K[0]&872415232&&m!==(m=e[50](e[141],e[29],e[28])))&&f(t,"aria-sort",m),(!k||K[0]&67108864)&&se(t,"width",e[57](e[146])),(!k||K[0]&67125248|K[1]&4)&&se(t,"left",e[146]<e[33]?e[146]===0?e[14]?"var(--cell-width-row-number)":"0":`calc(${e[14]?"var(--cell-width-row-number) + ":""}${Array(e[146]).fill(0).map(Cl).join(" + ")})`:"auto"),(!k||K[0]&67108864|K[1]&4)&&J(t,"frozen-column",e[146]<e[33]),(!k||K[0]&67108864|K[1]&4)&&J(t,"last-frozen",e[146]===e[33]-1),(!k||K[0]&67108864|K[1]&192)&&J(t,"focus",e[37]===e[146]||e[38]===e[146])},i(U){k||(z(o.$$.fragment,U),z(r.$$.fragment,U),k=!0)},o(U){D(o.$$.fragment,U),D(r.$$.fragment,U),k=!1},d(U){U&&N(t),re(o),re(r),G&&G.d(),T=!1,R()}}}function Gs(n){let e,t,l=[],s=new Map,o,i=n[14]&&hl(),u=ze(n[26]);const _=c=>c[142];for(let c=0;c<u.length;c+=1){let r=tl(n,u,c),h=_(r);s.set(h,l[c]=ml(h,r))}return{c(){e=P("tr"),i&&i.c(),t=X();for(let c=0;c<l.length;c+=1)l[c].c();f(e,"slot","thead"),f(e,"class","svelte-v7qhxw")},m(c,r){H(c,e,r),i&&i.m(e,null),E(e,t);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);o=!0},p(c,r){c[14]?i||(i=hl(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),r[0]&906516160|r[1]&82313412|r[2]&9&&(u=ze(c[26]),ce(),l=xe(l,r,_,1,c,u,s,e,$e,ml,null,tl),he())},i(c){if(!o){for(let r=0;r<u.length;r+=1)z(l[r]);o=!0}},o(c){for(let r=0;r<l.length;r+=1)D(l[r]);o=!1},d(c){c&&N(e),i&&i.d();for(let r=0;r<l.length;r+=1)l[r].d()}}}function gl(n){let e,t=n[139]+1+"",l;return{c(){e=P("td"),l=ye(t),f(e,"class","row-number frozen-column always-frozen svelte-v7qhxw"),se(e,"left","0"),f(e,"tabindex","-1")},m(s,o){H(s,e,o),E(e,l)},p(s,o){o[4]&32768&&t!==(t=s[139]+1+"")&&Me(l,t)},d(s){s&&N(e)}}}function bl(n){let e,t,l;function s(...o){return n[89](n[139],n[144],...o)}return{c(){e=P("button"),e.textContent="⋮",f(e,"class","cell-menu-button svelte-v7qhxw")},m(o,i){H(o,e,i),t||(l=x(e,"click",s),t=!0)},p(o,i){n=o},d(o){o&&N(e),t=!1,l()}}}function wl(n,e){let t,l,s,o,i,u,_=e[7]&&el([e[139],e[144]],e[23],e[7]),c,r,h,d,m=e[142],k,T,R;function w(W){e[85](W,e[139],e[144])}function L(W){e[86](W,e[142])}function S(){return e[88](e[139],e[144])}let j={display_value:e[21]?.[e[139]]?.[e[144]],latex_delimiters:e[6],line_breaks:e[12],editable:e[7],edit:Ne(e[35],[e[139],e[144]]),datatype:Array.isArray(e[1])?e[1][e[144]]:e[1],clear_on_focus:e[36],root:e[9],max_chars:e[19]};e[27][e[139]][e[144]].value!==void 0&&(j.value=e[27][e[139]][e[144]].value),e[25][e[142]].input!==void 0&&(j.el=e[25][e[142]].input),s=new ut({props:j}),ge.push(()=>Se(s,"value",w)),ge.push(()=>Se(s,"el",L)),s.$on("blur",e[87]),s.$on("focus",S);let F=_&&bl(e);const G=()=>e[90](t,m),Q=()=>e[90](null,m);function U(...W){return e[91](e[139],e[144],...W)}function K(...W){return e[92](e[139],e[144],...W)}return{key:n,first:null,c(){t=P("td"),l=P("div"),oe(s.$$.fragment),u=X(),F&&F.c(),c=X(),f(l,"class","cell-wrap svelte-v7qhxw"),f(t,"tabindex",r=e[14]&&e[144]===0?-1:0),f(t,"style",h="width: "+e[57](e[144])+"; left: "+(e[144]<e[33]?e[144]===0?e[14]?"var(--cell-width-row-number)":"0":`calc(${e[14]?"var(--cell-width-row-number) + ":""}${Array(e[144]).fill(0).map(ql).join(" + ")})`:"auto")+"; "+(e[22]?.[e[139]]?.[e[144]]||"")),f(t,"class",d=Pt(st([e[139],e[144]],e[23]))+" svelte-v7qhxw"),J(t,"frozen-column",e[144]<e[33]),J(t,"last-frozen",e[144]===e[33]-1),J(t,"flash",e[43]&&st([e[139],e[144]],e[23])),J(t,"menu-active",e[39]&&e[39].row===e[139]&&e[39].col===e[144]),this.first=t},m(W,q){H(W,t,q),E(t,l),ie(s,l,null),E(l,u),F&&F.m(l,null),E(t,c),G(),k=!0,T||(R=[x(t,"touchstart",U),x(t,"mousedown",$s),x(t,"click",K)],T=!0)},p(W,q){e=W;const V={};q[0]&2097152|q[4]&98304&&(V.display_value=e[21]?.[e[139]]?.[e[144]]),q[0]&64&&(V.latex_delimiters=e[6]),q[0]&4096&&(V.line_breaks=e[12]),q[0]&128&&(V.editable=e[7]),q[1]&16|q[4]&98304&&(V.edit=Ne(e[35],[e[139],e[144]])),q[0]&2|q[4]&65536&&(V.datatype=Array.isArray(e[1])?e[1][e[144]]:e[1]),q[1]&32&&(V.clear_on_focus=e[36]),q[0]&512&&(V.root=e[9]),q[0]&524288&&(V.max_chars=e[19]),!o&&q[0]&134217728|q[4]&98304&&(o=!0,V.value=e[27][e[139]][e[144]].value,Be(()=>o=!1)),!i&&q[0]&33554432|q[4]&65536&&(i=!0,V.el=e[25][e[142]].input,Be(()=>i=!1)),s.$set(V),q[0]&8388736|q[4]&98304&&(_=e[7]&&el([e[139],e[144]],e[23],e[7])),_?F?F.p(e,q):(F=bl(e),F.c(),F.m(l,null)):F&&(F.d(1),F=null),(!k||q[0]&16384|q[4]&65536&&r!==(r=e[14]&&e[144]===0?-1:0))&&f(t,"tabindex",r),(!k||q[0]&4210688|q[1]&4|q[4]&98304&&h!==(h="width: "+e[57](e[144])+"; left: "+(e[144]<e[33]?e[144]===0?e[14]?"var(--cell-width-row-number)":"0":`calc(${e[14]?"var(--cell-width-row-number) + ":""}${Array(e[144]).fill(0).map(ql).join(" + ")})`:"auto")+"; "+(e[22]?.[e[139]]?.[e[144]]||"")))&&f(t,"style",h),(!k||q[0]&8388608|q[4]&98304&&d!==(d=Pt(st([e[139],e[144]],e[23]))+" svelte-v7qhxw"))&&f(t,"class",d),m!==e[142]&&(Q(),m=e[142],G()),(!k||q[0]&8388608|q[1]&4|q[4]&98304)&&J(t,"frozen-column",e[144]<e[33]),(!k||q[0]&8388608|q[1]&4|q[4]&98304)&&J(t,"last-frozen",e[144]===e[33]-1),(!k||q[0]&8388608|q[1]&4096|q[4]&98304)&&J(t,"flash",e[43]&&st([e[139],e[144]],e[23])),(!k||q[0]&8388608|q[1]&256|q[4]&98304)&&J(t,"menu-active",e[39]&&e[39].row===e[139]&&e[39].col===e[144])},i(W){k||(z(s.$$.fragment,W),k=!0)},o(W){D(s.$$.fragment,W),k=!1},d(W){W&&N(t),re(s),F&&F.d(),Q(),T=!1,Re(R)}}}function Qs(n){let e,t,l=[],s=new Map,o,i=n[14]&&gl(n),u=ze(n[140]);const _=c=>c[142];for(let c=0;c<u.length;c+=1){let r=ll(n,u,c),h=_(r);s.set(h,l[c]=wl(h,r))}return{c(){e=P("tr"),i&&i.c(),t=X();for(let c=0;c<l.length;c+=1)l[c].c();f(e,"slot","tbody"),f(e,"class","svelte-v7qhxw"),J(e,"row_odd",n[139]%2===0)},m(c,r){H(c,e,r),i&&i.m(e,null),E(e,t);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);o=!0},p(c,r){c[14]?i?i.p(c,r):(i=gl(c),i.c(),i.m(e,t)):i&&(i.d(1),i=null),r[0]&182997698|r[1]&469766453|r[4]&98304&&(u=ze(c[140]),ce(),l=xe(l,r,_,1,c,u,s,e,$e,wl,null,ll),he()),(!o||r[4]&32768)&&J(e,"row_odd",c[139]%2===0)},i(c){if(!o){for(let r=0;r<u.length;r+=1)z(l[r]);o=!0}},o(c){for(let r=0;r<l.length;r+=1)D(l[r]);o=!1},d(c){c&&N(e),i&&i.d();for(let r=0;r<l.length;r+=1)l[r].d()}}}function Zs(n){let e,t,l,s,o,i;function u(h){n[100](h)}function _(h){n[101](h)}function c(h){n[102](h)}let r={max_height:n[11],selected:n[48],disable_scroll:n[39]!==null||n[40]!==null,$$slots:{tbody:[Qs,({index:h,item:d})=>({139:h,140:d}),({index:h,item:d})=>[0,0,0,0,(h?32768:0)|(d?65536:0)]],thead:[Gs],default:[Xs]},$$scope:{ctx:n}};return n[27]!==void 0&&(r.items=n[27]),n[44]!==void 0&&(r.actual_height=n[44]),n[45]!==void 0&&(r.table_scrollbar_width=n[45]),t=new as({props:r}),ge.push(()=>Se(t,"items",u)),ge.push(()=>Se(t,"actual_height",_)),ge.push(()=>Se(t,"table_scrollbar_width",c)),{c(){e=P("div"),oe(t.$$.fragment),f(e,"class","table-wrap svelte-v7qhxw")},m(h,d){H(h,e,d),ie(t,e,null),i=!0},p(h,d){const m={};d[0]&2048&&(m.max_height=h[11]),d[1]&131072&&(m.selected=h[48]),d[1]&768&&(m.disable_scroll=h[39]!==null||h[40]!==null),d[0]&1055413958|d[1]&4597|d[4]&33652736&&(m.$$scope={dirty:d,ctx:h}),!l&&d[0]&134217728&&(l=!0,m.items=h[27],Be(()=>l=!1)),!s&&d[1]&8192&&(s=!0,m.actual_height=h[44],Be(()=>s=!1)),!o&&d[1]&16384&&(o=!0,m.table_scrollbar_width=h[45],Be(()=>o=!1)),t.$set(m)},i(h){i||(z(t.$$.fragment,h),i=!0)},o(h){D(t.$$.fragment,h),i=!1},d(h){h&&N(e),re(t)}}}function kl(n){let e,t,l,s;return{c(){e=P("div"),t=P("button"),t.innerHTML="<span>+</span>",f(t,"class","add-row-button svelte-v7qhxw"),f(e,"class","add-row-container svelte-v7qhxw")},m(o,i){H(o,e,i),E(e,t),l||(s=x(t,"click",n[107]),l=!0)},p:ve,d(o){o&&N(e),l=!1,s()}}}function pl(n){let e,t;return e=new Ml({props:{x:n[39].x,y:n[39].y,row:n[39].row,col_count:n[4],row_count:n[5],on_add_row_above:n[108],on_add_row_below:n[109],on_add_column_left:n[110],on_add_column_right:n[111],on_delete_row:n[112],on_delete_col:n[113],can_delete_rows:n[27].length>1,can_delete_cols:n[27][0].length>1,i18n:n[10]}}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},p(l,s){const o={};s[1]&256&&(o.x=l[39].x),s[1]&256&&(o.y=l[39].y),s[1]&256&&(o.row=l[39].row),s[0]&16&&(o.col_count=l[4]),s[0]&32&&(o.row_count=l[5]),s[1]&256&&(o.on_add_row_above=l[108]),s[1]&256&&(o.on_add_row_below=l[109]),s[1]&256&&(o.on_add_column_left=l[110]),s[1]&256&&(o.on_add_column_right=l[111]),s[1]&256&&(o.on_delete_row=l[112]),s[1]&256&&(o.on_delete_col=l[113]),s[0]&134217728&&(o.can_delete_rows=l[27].length>1),s[0]&134217728&&(o.can_delete_cols=l[27][0].length>1),s[0]&1024&&(o.i18n=l[10]),e.$set(o)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function vl(n){let e,t;return e=new Ml({props:{i18n:n[10],x:n[40].x,y:n[40].y,row:-1,col_count:n[4],row_count:n[5],on_add_row_above:n[114],on_add_row_below:n[115],on_add_column_left:n[116],on_add_column_right:n[117],on_delete_row:n[118],on_delete_col:n[119],can_delete_rows:!1,can_delete_cols:n[26].length>1}}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},p(l,s){const o={};s[0]&1024&&(o.i18n=l[10]),s[1]&512&&(o.x=l[40].x),s[1]&512&&(o.y=l[40].y),s[0]&16&&(o.col_count=l[4]),s[0]&32&&(o.row_count=l[5]),s[1]&256&&(o.on_add_row_above=l[114]),s[1]&256&&(o.on_add_row_below=l[115]),s[1]&512&&(o.on_add_column_left=l[116]),s[1]&512&&(o.on_add_column_right=l[117]),s[1]&256&&(o.on_delete_row=l[118]),s[1]&512&&(o.on_delete_col=l[119]),s[0]&67108864&&(o.can_delete_cols=l[26].length>1),e.$set(o)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function xs(n){let e,t,l,s,o,i,u,_,c,r=[],h=new Map,d,m,k,T=[],R=new Map,w,L,S,j,F,G,Q,U,K,W,q,V=(n[2]&&n[2].length!==0&&n[3]||n[17]||n[18]||n[20]!=="none")&&ol(n),Z=n[24]!==!1&&n[23].length===1&&rl(n),y=n[2]&&n[2].length!==0&&ul(n),O=n[14]&&al(),we=ze(n[26]);const qe=g=>g[142];for(let g=0;g<we.length;g+=1){let p=sl(n,we,g),Y=qe(p);h.set(Y,r[g]=_l(Y,p))}let _e=ze(n[49]);const $=g=>g[142];for(let g=0;g<_e.length;g+=1){let p=nl(n,_e,g),Y=$(p);R.set(Y,T[g]=fl(Y,p))}function ke(g){n[103](g)}let te={upload:n[15],stream_handler:n[16],flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:n[9],aria_label:n[10]("dataframe.drop_to_upload"),$$slots:{default:[Zs]},$$scope:{ctx:n}};n[42]!==void 0&&(te.dragging=n[42]),S=new Un({props:te}),ge.push(()=>Se(S,"dragging",ke)),S.$on("load",n[104]);let le=n[27].length===0&&n[7]&&n[5][1]==="dynamic"&&kl(n),ee=n[39]&&pl(n),A=n[40]!==null&&vl(n);return{c(){e=P("div"),V&&V.c(),t=X(),l=P("div"),Z&&Z.c(),s=X(),o=P("table"),y&&y.c(),i=X(),u=P("thead"),_=P("tr"),O&&O.c(),c=X();for(let g=0;g<r.length;g+=1)r[g].c();d=X(),m=P("tbody"),k=P("tr");for(let g=0;g<T.length;g+=1)T[g].c();L=X(),oe(S.$$.fragment),F=X(),le&&le.c(),G=X(),ee&&ee.c(),Q=X(),A&&A.c(),U=Pe(),f(_,"class","svelte-v7qhxw"),f(u,"class","svelte-v7qhxw"),f(k,"class","svelte-v7qhxw"),f(o,"class","svelte-v7qhxw"),J(o,"fixed-layout",n[13].length!=0),f(l,"class","table-wrap svelte-v7qhxw"),se(l,"height",n[44]+"px"),f(l,"role","grid"),f(l,"tabindex","0"),J(l,"dragging",n[42]),J(l,"no-wrap",!n[8]),J(l,"menu-open",n[39]||n[40]),f(e,"class","table-container svelte-v7qhxw")},m(g,p){H(g,e,p),V&&V.m(e,null),E(e,t),E(e,l),Z&&Z.m(l,null),E(l,s),E(l,o),y&&y.m(o,null),E(o,i),E(o,u),E(u,_),O&&O.m(_,null),E(_,c);for(let Y=0;Y<r.length;Y+=1)r[Y]&&r[Y].m(_,null);E(o,d),E(o,m),E(m,k);for(let Y=0;Y<T.length;Y+=1)T[Y]&&T[Y].m(k,null);w=Al.observe(o,n[83].bind(o)),n[84](o),E(l,L),ie(S,l,null),n[105](l),H(g,F,p),le&&le.m(g,p),H(g,G,p),ee&&ee.m(g,p),H(g,Q,p),A&&A.m(g,p),H(g,U,p),K=!0,W||(q=[x(Ys,"resize",n[77]),x(l,"keydown",n[106])],W=!0)},p(g,p){g[2]&&g[2].length!==0&&g[3]||g[17]||g[18]||g[20]!=="none"?V?(V.p(g,p),p[0]&1441804&&z(V,1)):(V=ol(g),V.c(),z(V,1),V.m(e,t)):V&&(ce(),D(V,1,1,()=>{V=null}),he()),g[24]!==!1&&g[23].length===1?Z?Z.p(g,p):(Z=rl(g),Z.c(),Z.m(l,s)):Z&&(Z.d(1),Z=null),g[2]&&g[2].length!==0?y?y.p(g,p):(y=ul(g),y.c(),y.m(o,i)):y&&(y.d(1),y=null),g[14]?O||(O=al(),O.c(),O.m(_,c)):O&&(O.d(1),O=null),p[0]&872445632|p[1]&2621508&&(we=ze(g[26]),ce(),r=xe(r,p,qe,1,g,we,h,_,$e,_l,null,sl),he()),p[0]&1073746626|p[1]&262144&&(_e=ze(g[49]),ce(),T=xe(T,p,$,1,g,_e,R,k,$e,fl,null,nl),he()),(!K||p[0]&8192)&&J(o,"fixed-layout",g[13].length!=0);const Y={};p[0]&32768&&(Y.upload=g[15]),p[0]&65536&&(Y.stream_handler=g[16]),p[0]&512&&(Y.root=g[9]),p[0]&1024&&(Y.aria_label=g[10]("dataframe.drop_to_upload")),p[0]&1055416006|p[1]&160757|p[4]&33554432&&(Y.$$scope={dirty:p,ctx:g}),!j&&p[1]&2048&&(j=!0,Y.dragging=g[42],Be(()=>j=!1)),S.$set(Y),(!K||p[1]&8192)&&se(l,"height",g[44]+"px"),(!K||p[1]&2048)&&J(l,"dragging",g[42]),(!K||p[0]&256)&&J(l,"no-wrap",!g[8]),(!K||p[1]&768)&&J(l,"menu-open",g[39]||g[40]),g[27].length===0&&g[7]&&g[5][1]==="dynamic"?le?le.p(g,p):(le=kl(g),le.c(),le.m(G.parentNode,G)):le&&(le.d(1),le=null),g[39]?ee?(ee.p(g,p),p[1]&256&&z(ee,1)):(ee=pl(g),ee.c(),z(ee,1),ee.m(Q.parentNode,Q)):ee&&(ce(),D(ee,1,1,()=>{ee=null}),he()),g[40]!==null?A?(A.p(g,p),p[1]&512&&z(A,1)):(A=vl(g),A.c(),z(A,1),A.m(U.parentNode,U)):A&&(ce(),D(A,1,1,()=>{A=null}),he())},i(g){if(!K){z(V);for(let p=0;p<we.length;p+=1)z(r[p]);for(let p=0;p<_e.length;p+=1)z(T[p]);z(S.$$.fragment,g),z(ee),z(A),K=!0}},o(g){D(V);for(let p=0;p<r.length;p+=1)D(r[p]);for(let p=0;p<T.length;p+=1)D(T[p]);D(S.$$.fragment,g),D(ee),D(A),K=!1},d(g){g&&(N(e),N(F),N(G),N(Q),N(U)),V&&V.d(),Z&&Z.d(),y&&y.d(),O&&O.d();for(let p=0;p<r.length;p+=1)r[p].d();for(let p=0;p<T.length;p+=1)T[p].d();w(),n[84](null),re(S),n[105](null),le&&le.d(g),ee&&ee.d(g),A&&A.d(g),W=!1,Re(q)}}}function Ze(){return Math.random().toString(36).substring(2,15)}function gt(n,e,t){let l=n||[];if(e[1]==="fixed"&&l.length<e[0]){const s=Array(e[0]-l.length).fill("").map((o,i)=>`${i+l.length}`);l=l.concat(s)}return!l||l.length===0?Array(e[0]).fill(0).map((s,o)=>{const i=Ze();return t[i]={cell:null,input:null},{id:i,value:JSON.stringify(o+1)}}):l.map((s,o)=>{const i=Ze();return t[i]={cell:null,input:null},{id:i,value:s??""}})}const yl=(n,e)=>`var(--cell-width-${e})`,ql=(n,e)=>`var(--cell-width-${e})`,$s=n=>{n.preventDefault(),n.stopPropagation()},Cl=(n,e)=>`var(--cell-width-${e})`;function eo(n,e,t){let l,s,{datatype:o}=e,{label:i=null}=e,{show_label:u=!0}=e,{headers:_=[]}=e,{values:c=[]}=e,{col_count:r}=e,{row_count:h}=e,{latex_delimiters:d}=e,{editable:m=!0}=e,{wrap:k=!1}=e,{root:T}=e,{i18n:R}=e,{max_height:w=500}=e,{line_breaks:L=!0}=e,{column_widths:S=[]}=e,{show_row_numbers:j=!1}=e,{upload:F}=e,{stream_handler:G}=e,{show_fullscreen_button:Q=!1}=e,{show_copy_button:U=!1}=e,{value_is_output:K=!1}=e,{max_chars:W=void 0}=e,{show_search:q="none"}=e,{pinned_columns:V=0}=e,Z=0,y=[],O=!1,{display_value:we=null}=e,{styling:qe=null}=e,_e,$={};const ke=rt();let te=!1,le=!1,ee=!1,A=!1,g=null,p=null,Y=!1,C=!1,be=!1,ue;it(()=>{ue=getComputedStyle(document.documentElement).getPropertyValue("--color-accent").trim()+"40",document.documentElement.style.setProperty("--color-accent-copied",ue)});const pe=(a,b)=>B?.[a]?.[b]?.value;function Ke(a){const b=a.length;return b===0?[]:Array(h[1]==="fixed"?h[0]:b).fill(0).map((M,I)=>Array(r[1]==="fixed"?r[0]:a[0].length||_.length).fill(0).map((ne,fe)=>{const Ee=Ze();return t(25,$[Ee]=$[Ee]||{input:null,cell:null},$),{value:a?.[I]?.[fe]??"",id:Ee}}))}let de=gt(_,r,$),Fe=_,B=[[]],Ce,yt=de.map(a=>a.value),qt=B.map(a=>a.map(b=>String(b.value)));async function Bl(){if(Ye)return;const a=de.map(M=>M.value),b=B.map(M=>M.map(I=>String(I.value)));(!Ne(b,qt)||!Ne(a,yt))&&(ke("change",{data:B.map(M=>M.map(I=>I.value)),headers:de.map(M=>M.value),metadata:null}),K||ke("input"),qt=b,yt=a)}function jl(a,b,M){if(!b)return"none";if(_[b]===a){if(M==="asc")return"ascending";if(M==="des")return"descending"}return"none"}async function Ct(a){if(A!==!1&&ee===!1)switch(a.key){case"ArrowDown":t(24,O=[0,A]),t(38,A=!1);return;case"ArrowLeft":t(38,A=A>0?A-1:A);return;case"ArrowRight":t(38,A=A<de.length-1?A+1:A);return;case"Escape":a.preventDefault(),t(38,A=!1);break;case"Enter":a.preventDefault();break}if(a.key==="Delete"||a.key==="Backspace"){if(!m)return;if(te){const[I,ne]=te,fe=$[B[I][ne].id].input;if(fe&&fe.selectionStart!==fe.selectionEnd||a.key==="Delete"&&fe?.selectionStart!==fe?.value.length||a.key==="Backspace"&&fe?.selectionStart!==0)return}a.preventDefault(),y.length>0&&(t(27,B=js(B,y)),ke("change",{data:B.map(I=>I.map(ne=>ne.value)),headers:de.map(I=>I.value),metadata:null}),K||ke("input"));return}if(a.key==="c"&&(a.metaKey||a.ctrlKey)){a.preventDefault(),y.length>0&&await Bt();return}if(!O)return;const[b,M]=O;switch(a.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":if(te)break;a.preventDefault();const I=Ds(a.key,[b,M],B);I?(a.shiftKey?(t(23,y=Sl(y.length>0?y[0]:[b,M],I)),t(35,te=!1)):(t(23,y=[I]),m&&(t(35,te=I),t(36,le=!1))),t(24,O=I)):I===!1&&a.key==="ArrowUp"&&b===0&&(t(38,A=M),t(24,O=!1),t(35,te=!1));break;case"Escape":if(!m)break;a.preventDefault(),t(35,te=!1);break;case"Enter":if(a.preventDefault(),m)if(a.shiftKey)et(b),await Le(),t(24,O=[b+1,M]);else if(Ne(te,[b,M])){const fe=B[b][M].id,Ee=$[fe].input;Ee&&t(27,B[b][M].value=Ee.value,B),t(35,te=!1),await Le(),t(24,O=[b,M])}else t(35,te=[b,M]),t(36,le=!1);break;case"Tab":a.preventDefault(),t(35,te=!1);const ne=Ts([b,M],B,a.shiftKey);ne&&(t(23,y=[ne]),t(24,O=ne),m&&(t(35,te=ne),t(36,le=!1)));break;default:if(!m)break;(!te||te&&Ne(te,[b,M]))&&a.key.length===1&&(t(36,le=!0),t(35,te=[b,M]))}}let He,Ae;function at(a,b){typeof Ae!="number"||Ae!==a?(t(28,He=b),t(29,Ae=a)):Ae===a&&(He===b?(t(28,He=void 0),t(29,Ae=void 0)):t(28,He=b))}async function _t(a,b=!1){!m||r[1]!=="dynamic"||ee===a||(t(24,O=!1),t(23,y=[]),t(38,A=a),t(37,ee=a))}function Tl(a){if(m)switch(a.detail.key){case"Escape":case"Enter":case"Tab":a.preventDefault(),t(24,O=!1),t(38,A=ee),t(37,ee=!1),me.focus();break}}async function et(a){if(me.focus(),h[1]!=="dynamic")return;const b=Array(B[0]?.length||_.length).fill(0).map((M,I)=>{const ne=Ze();return t(25,$[ne]={cell:null,input:null},$),{id:ne,value:""}});B.length===0?t(27,B=[b]):a!==void 0&&a>=0&&a<=B.length?B.splice(a,0,b):B.push(b),t(27,B),t(0,c),t(76,Ce),t(24,O=[a!==void 0?a:B.length-1,0])}async function Dl(a){if(me.focus(),r[1]!=="dynamic")return;const b=a!==void 0?a:B[0].length;for(let M=0;M<B.length;M++){const I=Ze();t(25,$[I]={cell:null,input:null},$),B[M].splice(b,0,{id:I,value:""})}_.splice(b,0,`Header ${_.length+1}`),t(27,B),t(0,c),t(76,Ce),t(72,_),await Le(),requestAnimationFrame(()=>{_t(b,!0);const M=me.querySelectorAll("tbody")[1].offsetWidth;me.querySelectorAll("table")[1].scrollTo({left:M})})}function At(a){Hs(a,me)&&(t(35,te=!1),t(23,y=[]),t(37,ee=!1),t(38,A=!1),t(39,g=null),t(40,p=null))}let Ue=[],me,tt;function Ve(){const a=Ue.map(M=>M?.clientWidth||0);if(a.length===0)return;j&&me.style.setProperty("--cell-width-row-number",`${a[0]}px`);const b=j?a.slice(1):a;b.forEach((M,I)=>{S[I]||me.style.setProperty(`--cell-width-${I}`,`${M-lt/b.length}px`)})}function Rl(a){return S[a]||`var(--cell-width-${a})`}let ft=c.slice(0,w/c.length*37).length*37+37,lt=0;function Hl(a,b,M,I,ne){let fe=null;if(O&&O[0]in a&&O[1]in a[O[0]]&&(fe=a[O[0]][O[1]].id),!(typeof I!="number"||!ne)&&(Ks(a,b,M,I,ne),t(27,B),t(0,c),t(76,Ce),fe)){const[Ee,Xe]=Rs(fe,B);t(24,O=[Ee,Xe])}}let Et=!1;it(()=>{const a=new IntersectionObserver(b=>{b.forEach(M=>{M.isIntersecting&&!Et&&(Ve(),t(27,B),t(0,c),t(76,Ce)),Et=M.isIntersecting})});return a.observe(me),document.addEventListener("click",At),window.addEventListener("resize",zt),document.addEventListener("fullscreenchange",St),()=>{a.disconnect(),document.removeEventListener("click",At),window.removeEventListener("resize",zt),document.removeEventListener("fullscreenchange",St)}});function ct(a,b,M){a.target instanceof HTMLAnchorElement||(a.preventDefault(),a.stopPropagation(),!(j&&M===-1)&&(t(36,le=!1),t(39,g=null),t(40,p=null),t(38,A=!1),t(37,ee=!1),t(23,y=Bs([b,M],y,a)),me.focus(),m&&(y.length===1?(t(35,te=[b,M]),Le().then(()=>{const I=$[B[b][M].id].input;I&&(I.focus(),I.selectionStart=I.selectionEnd=I.value.length)})):t(35,te=!1)),Nl(b,M),ke("select",{index:[b,M],value:pe(b,M),row_value:B[b].map(I=>I.value)})))}function Mt(a,b,M){if(a.stopPropagation(),g&&g.row===b&&g.col===M)t(39,g=null);else{const I=a.target.closest("td");if(I){const ne=I.getBoundingClientRect();t(39,g={row:b,col:M,x:ne.right,y:ne.bottom})}}}function We(a,b){const M=b==="above"?a:a+1;et(M),t(39,g=null),t(40,p=null)}function Je(a,b){const M=b==="left"?a:a+1;Dl(M),t(39,g=null),t(40,p=null)}function zt(){t(39,g=null),t(40,p=null),t(23,y=[]),t(24,O=!1),t(35,te=!1),Ve()}let Oe=null;function Lt(a){Oe=Oe?.type==="header"&&Oe.col===a?null:{type:"header",col:a}}function Nl(a,b){Oe=Oe?.type==="cell"&&Oe.row===a&&Oe.col===b?null:{type:"cell",row:a,col:b}}function Pl(){document.fullscreenElement?(document.exitFullscreen(),t(41,Y=!1)):(me.requestFullscreen(),t(41,Y=!0))}function St(){t(41,Y=!!document.fullscreenElement)}async function Bt(){await Us(B,y),t(43,be=!0),setTimeout(()=>{t(43,be=!1)},800)}function ht(a,b){if(a.stopPropagation(),p&&p.col===b)t(40,p=null);else{const M=a.target.closest("th");if(M){const I=M.getBoundingClientRect();t(40,p={col:b,x:I.right,y:I.bottom})}}}Hn(()=>{t(73,K=!1)});async function Fl(a){me.focus(),h[1]==="dynamic"&&(B.length<=1||(B.splice(a,1),t(27,B),t(0,c),t(76,Ce),t(24,O=!1)))}async function Ol(a){me.focus(),r[1]==="dynamic"&&(de.length<=1||(de.splice(a,1),t(26,de),t(72,_),t(75,Fe),t(4,r),t(25,$),B.length>0&&(B.forEach(b=>{b.splice(a,1)}),t(27,B),t(0,c),t(76,Ce)),t(24,O=!1)))}function dt(a){Fl(a),t(39,g=null),t(40,p=null)}function mt(a){Ol(a),t(39,g=null),t(40,p=null)}function jt(a){t(23,y=Ns(B,a)),t(24,O=y[0]),t(35,te=!1)}function Tt(a){t(23,y=Ps(B,a)),t(24,O=y[0]),t(35,te=!1)}let nt,Ye=null;function Dt(a){t(47,Ye=a),ke("search",a)}function Il(){Ye&&q==="filter"&&(ke("change",{data:B.map(a=>a.map(b=>b.value)),headers:de.map(a=>a.value),metadata:null}),K||ke("input"),t(47,Ye=null))}const Kl=()=>Ve(),Ul=a=>Dt(a.detail),Vl=()=>jt(nt[1]),Wl=()=>Tt(nt[0]),Jl=(a,{detail:b})=>at(a,b);function Yl(a,b){ge[a?"unshift":"push"](()=>{Ue[b]=a,t(30,Ue)})}function Xl(){_e=El.entries.get(this)?.contentRect,t(34,_e)}function Gl(a){ge[a?"unshift":"push"](()=>{tt=a,t(32,tt)})}function Ql(a,b,M){n.$$.not_equal(B[b][M].value,a)&&(B[b][M].value=a,t(27,B),t(0,c),t(76,Ce))}function Zl(a,b){n.$$.not_equal($[b].input,a)&&($[b].input=a,t(25,$))}const xl=()=>{t(36,le=!1),me.focus()},$l=(a,b)=>{const M=a,I=b;y.some(([ne,fe])=>ne===M&&fe===I)||t(23,y=[[M,I]])},en=(a,b,M)=>Mt(M,a,b);function tn(a,b){ge[a?"unshift":"push"](()=>{$[b].cell=a,t(25,$)})}const ln=(a,b,M)=>{const I=M.touches[0],ne=new MouseEvent("click",{clientX:I.clientX,clientY:I.clientY,bubbles:!0,cancelable:!0,view:window});ct(ne,a,b)},nn=(a,b,M)=>ct(M,a,b);function sn(a,b){n.$$.not_equal(de[b].value,a)&&(de[b].value=a,t(26,de),t(72,_),t(75,Fe),t(4,r),t(25,$))}function on(a,b){n.$$.not_equal($[b].input,a)&&($[b].input=a,t(25,$))}const rn=a=>_t(a),un=(a,{detail:b})=>at(a,b),an=(a,b)=>ht(b,a),_n=(a,b)=>{b.preventDefault();const M=b.touches[0],I=new MouseEvent("click",{clientX:M.clientX,clientY:M.clientY,bubbles:!0,cancelable:!0,view:window});ht(I,a)},fn=a=>{Lt(a)};function cn(a){B=a,t(27,B),t(0,c),t(76,Ce)}function hn(a){ft=a,t(44,ft)}function dn(a){lt=a,t(45,lt)}function mn(a){C=a,t(42,C)}const gn=({detail:a})=>Js(a.data,b=>(t(26,de=gt(b.map(M=>M??""),r,$)),de),b=>{t(0,c=b)});function bn(a){ge[a?"unshift":"push"](()=>{me=a,t(31,me)})}const wn=a=>Ct(a),kn=()=>et(),pn=()=>We(g?.row||0,"above"),vn=()=>We(g?.row||0,"below"),yn=()=>Je(g?.col||0,"left"),qn=()=>Je(g?.col||0,"right"),Cn=()=>dt(g?.row||0),An=()=>mt(g?.col||0),En=()=>We(g?.row??-1,"above"),Mn=()=>We(g?.row??-1,"below"),zn=()=>Je(p?.col??-1,"left"),Ln=()=>Je(p?.col??-1,"right"),Sn=()=>dt(g?.row??-1),Bn=()=>mt(p?.col??-1);return n.$$set=a=>{"datatype"in a&&t(1,o=a.datatype),"label"in a&&t(2,i=a.label),"show_label"in a&&t(3,u=a.show_label),"headers"in a&&t(72,_=a.headers),"values"in a&&t(0,c=a.values),"col_count"in a&&t(4,r=a.col_count),"row_count"in a&&t(5,h=a.row_count),"latex_delimiters"in a&&t(6,d=a.latex_delimiters),"editable"in a&&t(7,m=a.editable),"wrap"in a&&t(8,k=a.wrap),"root"in a&&t(9,T=a.root),"i18n"in a&&t(10,R=a.i18n),"max_height"in a&&t(11,w=a.max_height),"line_breaks"in a&&t(12,L=a.line_breaks),"column_widths"in a&&t(13,S=a.column_widths),"show_row_numbers"in a&&t(14,j=a.show_row_numbers),"upload"in a&&t(15,F=a.upload),"stream_handler"in a&&t(16,G=a.stream_handler),"show_fullscreen_button"in a&&t(17,Q=a.show_fullscreen_button),"show_copy_button"in a&&t(18,U=a.show_copy_button),"value_is_output"in a&&t(73,K=a.value_is_output),"max_chars"in a&&t(19,W=a.max_chars),"show_search"in a&&t(20,q=a.show_search),"pinned_columns"in a&&t(74,V=a.pinned_columns),"display_value"in a&&t(21,we=a.display_value),"styling"in a&&t(22,qe=a.styling)},n.$$.update=()=>{if(n.$$.dirty[0]&1|n.$$.dirty[2]&16384&&(Ne(c,Ce)||(t(27,B=Ke(c)),t(76,Ce=JSON.parse(JSON.stringify(c))))),n.$$.dirty[0]&134217728|n.$$.dirty[2]&4096&&t(33,Z=V&&B?.[0]?.length?Math.min(V,B[0].length):0),n.$$.dirty[0]&8388608&&t(23,y=[...y]),n.$$.dirty[0]&8388608&&t(24,O=y.length>0?y[y.length-1]:!1),n.$$.dirty[0]&33554448|n.$$.dirty[2]&9216&&(Ne(_,Fe)||(t(26,de=gt(_,r,$)),t(75,Fe=JSON.parse(JSON.stringify(_))))),n.$$.dirty[0]&201326592&&(B||de)&&Bl(),n.$$.dirty[0]&134217728&&t(49,l=Is(B)),n.$$.dirty[0]&1073741824&&Ue[0]&&Ve(),n.$$.dirty[0]&945815552&&Hl(B,we,qe,Ae,He),n.$$.dirty[0]&16777216&&t(48,s=!!O&&O[0]),n.$$.dirty[0]&939524096)if(typeof Ae=="number"&&He&&Ae>=0&&Ae<B[0].length){const a=[...Array(B.length)].map((M,I)=>I),b=Ae;a.sort((M,I)=>{const ne=B[M],fe=B[I];if(!ne||!fe||b>=ne.length||b>=fe.length)return 0;const Ee=ne[b].value,Xe=fe[b].value,Rt=Ee<Xe?-1:Ee>Xe?1:0;return He==="asc"?Rt:-Rt})}else[...Array(B.length)].map((a,b)=>b);if(n.$$.dirty[0]&16777216&&O!==!1&&t(46,nt=O),n.$$.dirty[0]&184549376|n.$$.dirty[1]&3&&O!==!1){const a=Fs(O,B,$,me,tt);document.documentElement.style.setProperty("--selected-col-pos",a.col_pos),a.row_pos&&document.documentElement.style.setProperty("--selected-row-pos",a.row_pos)}},[c,o,i,u,r,h,d,m,k,T,R,w,L,S,j,F,G,Q,U,W,q,we,qe,y,O,$,de,B,He,Ae,Ue,me,tt,Z,_e,te,le,ee,A,g,p,Y,C,be,ft,lt,nt,Ye,s,l,jl,Ct,at,_t,Tl,et,Ve,Rl,ct,Mt,We,Je,Lt,Pl,Bt,ht,dt,mt,jt,Tt,Dt,Il,_,K,V,Fe,Ce,Kl,Ul,Vl,Wl,Jl,Yl,Xl,Gl,Ql,Zl,xl,$l,en,tn,ln,nn,sn,on,rn,un,an,_n,fn,cn,hn,dn,mn,gn,bn,wn,kn,pn,vn,yn,qn,Cn,An,En,Mn,zn,Ln,Sn,Bn]}class to extends je{constructor(e){super(),Te(this,e,eo,xs,De,{datatype:1,label:2,show_label:3,headers:72,values:0,col_count:4,row_count:5,latex_delimiters:6,editable:7,wrap:8,root:9,i18n:10,max_height:11,line_breaks:12,column_widths:13,show_row_numbers:14,upload:15,stream_handler:16,show_fullscreen_button:17,show_copy_button:18,value_is_output:73,max_chars:19,show_search:20,pinned_columns:74,display_value:21,styling:22},null,[-1,-1,-1,-1,-1])}get datatype(){return this.$$.ctx[1]}set datatype(e){this.$$set({datatype:e}),v()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),v()}get show_label(){return this.$$.ctx[3]}set show_label(e){this.$$set({show_label:e}),v()}get headers(){return this.$$.ctx[72]}set headers(e){this.$$set({headers:e}),v()}get values(){return this.$$.ctx[0]}set values(e){this.$$set({values:e}),v()}get col_count(){return this.$$.ctx[4]}set col_count(e){this.$$set({col_count:e}),v()}get row_count(){return this.$$.ctx[5]}set row_count(e){this.$$set({row_count:e}),v()}get latex_delimiters(){return this.$$.ctx[6]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),v()}get editable(){return this.$$.ctx[7]}set editable(e){this.$$set({editable:e}),v()}get wrap(){return this.$$.ctx[8]}set wrap(e){this.$$set({wrap:e}),v()}get root(){return this.$$.ctx[9]}set root(e){this.$$set({root:e}),v()}get i18n(){return this.$$.ctx[10]}set i18n(e){this.$$set({i18n:e}),v()}get max_height(){return this.$$.ctx[11]}set max_height(e){this.$$set({max_height:e}),v()}get line_breaks(){return this.$$.ctx[12]}set line_breaks(e){this.$$set({line_breaks:e}),v()}get column_widths(){return this.$$.ctx[13]}set column_widths(e){this.$$set({column_widths:e}),v()}get show_row_numbers(){return this.$$.ctx[14]}set show_row_numbers(e){this.$$set({show_row_numbers:e}),v()}get upload(){return this.$$.ctx[15]}set upload(e){this.$$set({upload:e}),v()}get stream_handler(){return this.$$.ctx[16]}set stream_handler(e){this.$$set({stream_handler:e}),v()}get show_fullscreen_button(){return this.$$.ctx[17]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),v()}get show_copy_button(){return this.$$.ctx[18]}set show_copy_button(e){this.$$set({show_copy_button:e}),v()}get value_is_output(){return this.$$.ctx[73]}set value_is_output(e){this.$$set({value_is_output:e}),v()}get max_chars(){return this.$$.ctx[19]}set max_chars(e){this.$$set({max_chars:e}),v()}get show_search(){return this.$$.ctx[20]}set show_search(e){this.$$set({show_search:e}),v()}get pinned_columns(){return this.$$.ctx[74]}set pinned_columns(e){this.$$set({pinned_columns:e}),v()}get display_value(){return this.$$.ctx[21]}set display_value(e){this.$$set({display_value:e}),v()}get styling(){return this.$$.ctx[22]}set styling(e){this.$$set({styling:e}),v()}}const lo=to;function no(n){let e,t,l,s,o;const i=[{autoscroll:n[16].autoscroll},{i18n:n[16].i18n},n[19]];let u={};for(let r=0;r<i.length;r+=1)u=Fn(u,i[r]);e=new On({props:u}),e.$on("clear_status",n[33]);function _(r){n[36](r)}let c={root:n[13],label:n[7],show_label:n[8],row_count:n[6],col_count:n[5],values:n[31]||n[0].data,display_value:n[29],styling:n[28],headers:n[30],wrap:n[9],datatype:n[10],latex_delimiters:n[17],editable:n[20],max_height:n[18],i18n:n[16].i18n,line_breaks:n[14],column_widths:n[15],upload:n[34],stream_handler:n[35],show_fullscreen_button:n[21],max_chars:n[22],show_copy_button:n[23],show_row_numbers:n[24],show_search:n[25],pinned_columns:n[26]};return n[1]!==void 0&&(c.value_is_output=n[1]),l=new lo({props:c}),ge.push(()=>Se(l,"value_is_output",_)),l.$on("change",n[37]),l.$on("input",n[38]),l.$on("select",n[39]),l.$on("search",n[40]),{c(){oe(e.$$.fragment),t=X(),oe(l.$$.fragment)},m(r,h){ie(e,r,h),H(r,t,h),ie(l,r,h),o=!0},p(r,h){const d=h[0]&589824?In(i,[h[0]&65536&&{autoscroll:r[16].autoscroll},h[0]&65536&&{i18n:r[16].i18n},h[0]&524288&&Kn(r[19])]):{};e.$set(d);const m={};h[0]&8192&&(m.root=r[13]),h[0]&128&&(m.label=r[7]),h[0]&256&&(m.show_label=r[8]),h[0]&64&&(m.row_count=r[6]),h[0]&32&&(m.col_count=r[5]),h[0]&1|h[1]&1&&(m.values=r[31]||r[0].data),h[0]&536870912&&(m.display_value=r[29]),h[0]&268435456&&(m.styling=r[28]),h[0]&1073741824&&(m.headers=r[30]),h[0]&512&&(m.wrap=r[9]),h[0]&1024&&(m.datatype=r[10]),h[0]&131072&&(m.latex_delimiters=r[17]),h[0]&1048576&&(m.editable=r[20]),h[0]&262144&&(m.max_height=r[18]),h[0]&65536&&(m.i18n=r[16].i18n),h[0]&16384&&(m.line_breaks=r[14]),h[0]&32768&&(m.column_widths=r[15]),h[0]&65536&&(m.upload=r[34]),h[0]&65536&&(m.stream_handler=r[35]),h[0]&2097152&&(m.show_fullscreen_button=r[21]),h[0]&4194304&&(m.max_chars=r[22]),h[0]&8388608&&(m.show_copy_button=r[23]),h[0]&16777216&&(m.show_row_numbers=r[24]),h[0]&33554432&&(m.show_search=r[25]),h[0]&67108864&&(m.pinned_columns=r[26]),!s&&h[0]&2&&(s=!0,m.value_is_output=r[1],Be(()=>s=!1)),l.$set(m)},i(r){o||(z(e.$$.fragment,r),z(l.$$.fragment,r),o=!0)},o(r){D(e.$$.fragment,r),D(l.$$.fragment,r),o=!1},d(r){r&&N(t),re(e,r),re(l,r)}}}function so(n){let e,t;return e=new Pn({props:{visible:n[4],padding:!1,elem_id:n[2],elem_classes:n[3],container:!1,scale:n[11],min_width:n[12],overflow_behavior:"visible",$$slots:{default:[no]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},m(l,s){ie(e,l,s),t=!0},p(l,s){const o={};s[0]&16&&(o.visible=l[4]),s[0]&4&&(o.elem_id=l[2]),s[0]&8&&(o.elem_classes=l[3]),s[0]&2048&&(o.scale=l[11]),s[0]&4096&&(o.min_width=l[12]),s[0]&2147477475|s[1]&1025&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function oo(n,e,t){let l,s,o,i,{headers:u=[]}=e,{elem_id:_=""}=e,{elem_classes:c=[]}=e,{visible:r=!0}=e,{value:h={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,{value_is_output:d=!1}=e,{col_count:m}=e,{row_count:k}=e,{label:T=null}=e,{show_label:R=!0}=e,{wrap:w}=e,{datatype:L}=e,{scale:S=null}=e,{min_width:j=void 0}=e,{root:F}=e,{line_breaks:G=!0}=e,{column_widths:Q=[]}=e,{gradio:U}=e,{latex_delimiters:K}=e,{max_height:W=void 0}=e,{loading_status:q}=e,{interactive:V}=e,{show_fullscreen_button:Z=!1}=e,{max_chars:y=void 0}=e,{show_copy_button:O=!1}=e,{show_row_numbers:we=!1}=e,{show_search:qe="none"}=e,_e=null,{pinned_columns:$=0}=e;const ke=()=>U.dispatch("clear_status",q),te=(...C)=>U.client.upload(...C),le=(...C)=>U.client.stream(...C);function ee(C){d=C,t(1,d)}const A=C=>{t(0,h.data=C.detail.data,h),t(0,h.headers=C.detail.headers,h),U.dispatch("change")},g=C=>U.dispatch("input"),p=C=>U.dispatch("select",C.detail),Y=C=>t(27,_e=C.detail);return n.$$set=C=>{"headers"in C&&t(32,u=C.headers),"elem_id"in C&&t(2,_=C.elem_id),"elem_classes"in C&&t(3,c=C.elem_classes),"visible"in C&&t(4,r=C.visible),"value"in C&&t(0,h=C.value),"value_is_output"in C&&t(1,d=C.value_is_output),"col_count"in C&&t(5,m=C.col_count),"row_count"in C&&t(6,k=C.row_count),"label"in C&&t(7,T=C.label),"show_label"in C&&t(8,R=C.show_label),"wrap"in C&&t(9,w=C.wrap),"datatype"in C&&t(10,L=C.datatype),"scale"in C&&t(11,S=C.scale),"min_width"in C&&t(12,j=C.min_width),"root"in C&&t(13,F=C.root),"line_breaks"in C&&t(14,G=C.line_breaks),"column_widths"in C&&t(15,Q=C.column_widths),"gradio"in C&&t(16,U=C.gradio),"latex_delimiters"in C&&t(17,K=C.latex_delimiters),"max_height"in C&&t(18,W=C.max_height),"loading_status"in C&&t(19,q=C.loading_status),"interactive"in C&&t(20,V=C.interactive),"show_fullscreen_button"in C&&t(21,Z=C.show_fullscreen_button),"max_chars"in C&&t(22,y=C.max_chars),"show_copy_button"in C&&t(23,O=C.show_copy_button),"show_row_numbers"in C&&t(24,we=C.show_row_numbers),"show_search"in C&&t(25,qe=C.show_search),"pinned_columns"in C&&t(26,$=C.pinned_columns)},n.$$.update=()=>{n.$$.dirty[0]&134217729&&t(31,l=_e?h.data?.filter(C=>C.some(be=>_e&&String(be).toLowerCase().includes(_e.toLowerCase()))):null),n.$$.dirty[0]&1|n.$$.dirty[1]&2&&t(30,s=[...h.headers||u]),n.$$.dirty[0]&1&&t(29,o=h?.metadata?.display_value?[...h?.metadata?.display_value]:null),n.$$.dirty[0]&1048577&&t(28,i=!V&&h?.metadata?.styling?[...h?.metadata?.styling]:null)},[h,d,_,c,r,m,k,T,R,w,L,S,j,F,G,Q,U,K,W,q,V,Z,y,O,we,qe,$,_e,i,o,s,l,u,ke,te,le,ee,A,g,p,Y]}class mo extends je{constructor(e){super(),Te(this,e,oo,so,De,{headers:32,elem_id:2,elem_classes:3,visible:4,value:0,value_is_output:1,col_count:5,row_count:6,label:7,show_label:8,wrap:9,datatype:10,scale:11,min_width:12,root:13,line_breaks:14,column_widths:15,gradio:16,latex_delimiters:17,max_height:18,loading_status:19,interactive:20,show_fullscreen_button:21,max_chars:22,show_copy_button:23,show_row_numbers:24,show_search:25,pinned_columns:26},null,[-1,-1])}get headers(){return this.$$.ctx[32]}set headers(e){this.$$set({headers:e}),v()}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),v()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),v()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),v()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),v()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),v()}get col_count(){return this.$$.ctx[5]}set col_count(e){this.$$set({col_count:e}),v()}get row_count(){return this.$$.ctx[6]}set row_count(e){this.$$set({row_count:e}),v()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),v()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),v()}get wrap(){return this.$$.ctx[9]}set wrap(e){this.$$set({wrap:e}),v()}get datatype(){return this.$$.ctx[10]}set datatype(e){this.$$set({datatype:e}),v()}get scale(){return this.$$.ctx[11]}set scale(e){this.$$set({scale:e}),v()}get min_width(){return this.$$.ctx[12]}set min_width(e){this.$$set({min_width:e}),v()}get root(){return this.$$.ctx[13]}set root(e){this.$$set({root:e}),v()}get line_breaks(){return this.$$.ctx[14]}set line_breaks(e){this.$$set({line_breaks:e}),v()}get column_widths(){return this.$$.ctx[15]}set column_widths(e){this.$$set({column_widths:e}),v()}get gradio(){return this.$$.ctx[16]}set gradio(e){this.$$set({gradio:e}),v()}get latex_delimiters(){return this.$$.ctx[17]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),v()}get max_height(){return this.$$.ctx[18]}set max_height(e){this.$$set({max_height:e}),v()}get loading_status(){return this.$$.ctx[19]}set loading_status(e){this.$$set({loading_status:e}),v()}get interactive(){return this.$$.ctx[20]}set interactive(e){this.$$set({interactive:e}),v()}get show_fullscreen_button(){return this.$$.ctx[21]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),v()}get max_chars(){return this.$$.ctx[22]}set max_chars(e){this.$$set({max_chars:e}),v()}get show_copy_button(){return this.$$.ctx[23]}set show_copy_button(e){this.$$set({show_copy_button:e}),v()}get show_row_numbers(){return this.$$.ctx[24]}set show_row_numbers(e){this.$$set({show_row_numbers:e}),v()}get show_search(){return this.$$.ctx[25]}set show_search(e){this.$$set({show_search:e}),v()}get pinned_columns(){return this.$$.ctx[26]}set pinned_columns(e){this.$$set({pinned_columns:e}),v()}}export{lo as BaseDataFrame,wo as BaseExample,mo as default};
//# sourceMappingURL=Index-CG8f6deo.js.map
