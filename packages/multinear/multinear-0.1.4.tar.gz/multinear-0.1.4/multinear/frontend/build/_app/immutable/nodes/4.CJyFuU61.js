import{s as ut,d as T,a,f as Te,c as Ne,t as I,e as Ve,b as Ke}from"../chunks/disclose-version.DitXKBiM.js";import{i as ze}from"../chunks/legacy.DmYQQF0A.js";import{ah as wt,al as $r,ak as wr,p as We,l as le,b as mt,f as h,g as v,a as Ue,t as Q,m as Be,d as we,q as ne,N as lr,Z as at,c as F,r as R,s as Z,n as Le,u as Vt}from"../chunks/index-client.IJhfC0Az.js";import{l as fe,p as b,i as J,b as ot,s as pt}from"../chunks/props.C-C6UnW2.js";import{C as Nt,a as ur,b as cr,E as kr,c as xr,d as Er}from"../chunks/ErrorDisplay.pDMFehuz.js";import{t as xt,j as Zt,k as Qt,u as Pr,o as Ct,c as Or,r as Tr,g as Cr,l as Ar,a as Ht,m as Ir,n as _t,C as dr}from"../chunks/TimeAgo.BArompdx.js";import{q as jr,t as w,w as De,m as Fe,j as bt,u as Sr,v as Je,g as Ge,h as U,F as er,k as Ce,S as At,x as Dr,y as Ye,z as tr,p as Rr,A as ht,f as Rt,o as fr,C as gt,D as nt,b as vr,s as pe,l as it,n as gr,c as qe,d as Xt,e as It,i as jt,a as Pt,E as Mr,G as Fr,B as Kt}from"../chunks/index.B1eIzCxP.js";import{I as qt,f as Nr,g as Kr}from"../chunks/index.Mtz2uMNM.js";import{c as mr,p as Br,a as Lr,b as zr}from"../chunks/projects.BHxzli0w.js";import{s as lt,c as Wr,d as rr,h as je,g as Ur,a as Vr,r as vt,b as Hr,u as nr,e as Xr,f as qr,i as Jr,C as Gr,R as Yr}from"../chunks/RunsWithFilters.ZpQCj0cK.js";import{s as Mt}from"../chunks/class.CFHkN7I5.js";import{j as Jt,a as Zr,P as sr,h as Qr,p as en,e as tn,b as rn}from"../chunks/jobs.DrDxyDhP.js";import{w as Se,d as kt}from"../chunks/index.Eik7OzG0.js";import{a as Bt}from"../chunks/Loading.CHJJe-qu.js";async function nn(n){const{prop:e,defaultEl:i}=n;if(await Promise.all([lt(1),wt]),e===void 0){i==null||i.focus();return}const r=jr(e)?e(i):e;if(typeof r=="string"){const c=document.querySelector(r);if(!w(c))return;c.focus()}else w(r)&&r.focus()}const sn={ltr:[...At,Ce.ARROW_RIGHT],rtl:[...At,Ce.ARROW_LEFT]},an={ltr:[Ce.ARROW_LEFT],rtl:[Ce.ARROW_RIGHT]},ar=["menu","trigger"],on={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,loop:!1,dir:"ltr",defaultOpen:!1,typeahead:!0,closeOnItemClick:!0,onOutsideClick:void 0};function ln(n){const{name:e,selector:i}=Rr(n.selector),{preventScroll:r,arrowSize:c,positioning:d,closeOnEscape:s,closeOnOutsideClick:o,portal:p,forceVisible:k,typeahead:A,loop:j,closeFocus:q,disableFocusFirstItem:te,closeOnItemClick:y,onOutsideClick:B}=n.rootOptions,_=n.rootOpen,V=n.rootActiveTrigger,m=n.nextFocusable,X=n.prevFocusable,g=De.writable(!1),C=De(Se(0)),L=De(Se(null)),M=De(Se("right")),x=De(Se(null)),H=De(kt([M,L],([t,l])=>u=>t===(l==null?void 0:l.side)&&un(u,l==null?void 0:l.area))),{typed:N,handleTypeaheadSearch:E}=Wr(),se=xt({...Zt(ar),...n.ids}),he=rr({open:_,forceVisible:k,activeTrigger:V}),ke=Fe(e(),{stores:[he,p,se.menu,se.trigger],returned:([t,l,u,f])=>({role:"menu",hidden:t?void 0:!0,style:bt({display:t?void 0:"none"}),id:u,"aria-labelledby":f,"data-state":t?"open":"closed","data-portal":Sr(l),tabindex:-1}),action:t=>{let l=ht;const u=Je([he,V,d,o,p,s],([P,de,Re,ie,S,z])=>{l(),!(!P||!de)&&wt().then(()=>{l(),$t(t,i),l=nr(t,{anchorElement:de,open:_,options:{floating:Re,modal:{closeOnInteractOutside:ie,shouldCloseOnInteractOutside:O=>{var D;return(D=B.get())==null||D(O),!(O.defaultPrevented||w(de)&&de.contains(O.target))},onClose:()=>{_.set(!1),de.focus()},open:P},portal:Qt(t,S),escapeKeydown:z?void 0:null}}).destroy})}),f=Ge(U(t,"keydown",P=>{const de=P.target,Re=P.currentTarget;if(!w(de)||!w(Re)||!(de.closest('[role="menu"]')===Re))return;if(er.includes(P.key)&&ir(P,j.get()??!1),P.key===Ce.TAB){P.preventDefault(),_.set(!1),or(P,m,X);return}const S=P.key.length===1;!(P.ctrlKey||P.altKey||P.metaKey)&&S&&A.get()===!0&&E(P.key,st(Re))}));return{destroy(){u(),f(),l()}}}}),ae=Fe(e("trigger"),{stores:[_,se.menu,se.trigger],returned:([t,l,u])=>({"aria-controls":l,"aria-expanded":t,"data-state":t?"open":"closed",id:u,tabindex:0}),action:t=>(Ot(t),V.update(u=>u||t),{destroy:Ge(U(t,"click",u=>{const f=_.get(),P=u.currentTarget;w(P)&&(oe(P),f||u.preventDefault())}),U(t,"keydown",u=>{const f=u.currentTarget;if(!w(f)||!(At.includes(u.key)||u.key===Ce.ARROW_DOWN))return;u.preventDefault(),oe(f);const P=f.getAttribute("aria-controls");if(!P)return;const de=document.getElementById(P);if(!de)return;const Re=st(de);Re.length&&je(Re[0])}))})}),G=Fe(e("arrow"),{stores:c,returned:t=>({"data-arrow":!0,style:bt({position:"absolute",width:`var(--arrow-size, ${t}px)`,height:`var(--arrow-size, ${t}px)`})})}),me=Fe(e("overlay"),{stores:[he],returned:([t])=>({hidden:t?void 0:!0,tabindex:-1,style:bt({display:t?void 0:"none"}),"aria-hidden":"true","data-state":fn(t)}),action:t=>{let l=ht;if(s.get()){const f=Dr(t,{handler:()=>{_.set(!1);const P=V.get();P&&P.focus()}});f&&f.destroy&&(l=f.destroy)}const u=Je([p],([f])=>{if(f===null)return ht;const P=Qt(t,f);return P===null?ht:Pr(t,P).destroy});return{destroy(){l(),u()}}}}),ve=Fe(e("item"),{returned:()=>({role:"menuitem",tabindex:-1,"data-orientation":"vertical"}),action:t=>($t(t,i),Ot(t),{destroy:Ge(U(t,"pointerdown",u=>{const f=u.currentTarget;if(w(f)&&Ye(f)){u.preventDefault();return}}),U(t,"click",u=>{const f=u.currentTarget;if(w(f)){if(Ye(f)){u.preventDefault();return}if(u.defaultPrevented){je(f);return}y.get()&&lt(1).then(()=>{_.set(!1)})}}),U(t,"keydown",u=>{Ie(u)}),U(t,"pointermove",u=>{Ze(u)}),U(t,"pointerleave",u=>{tt(u)}),U(t,"focusin",u=>{Ae(u)}),U(t,"focusout",u=>{He(u)}))})}),ye=Fe(e("group"),{returned:()=>t=>({role:"group","aria-labelledby":t})}),ue=Fe(e("group-label"),{returned:()=>t=>({id:t})}),ce={defaultChecked:!1,disabled:!1},xe=t=>{const l={...ce,...t},u=l.checked??Se(l.defaultChecked??null),f=Ct(u,l.onCheckedChange),P=Se(l.disabled),de=Fe(e("checkbox-item"),{stores:[f,P],returned:([S,z])=>({role:"menuitemcheckbox",tabindex:-1,"data-orientation":"vertical","aria-checked":ct(S)?"mixed":S?"true":"false","data-disabled":Rt(z),"data-state":Dt(S)}),action:S=>($t(S,i),Ot(S),{destroy:Ge(U(S,"pointerdown",O=>{const D=O.currentTarget;if(w(D)&&Ye(D)){O.preventDefault();return}}),U(S,"click",O=>{const D=O.currentTarget;if(w(D)){if(Ye(D)){O.preventDefault();return}if(O.defaultPrevented){je(D);return}f.update(Qe=>ct(Qe)?!0:!Qe),y.get()&&wt().then(()=>{_.set(!1)})}}),U(S,"keydown",O=>{Ie(O)}),U(S,"pointermove",O=>{const D=O.currentTarget;if(w(D)){if(Ye(D)){Xe(O);return}Ze(O,D)}}),U(S,"pointerleave",O=>{tt(O)}),U(S,"focusin",O=>{Ae(O)}),U(S,"focusout",O=>{He(O)}))})}),Re=kt(f,S=>S===!0),ie=kt(f,S=>S==="indeterminate");return{elements:{checkboxItem:de},states:{checked:f},helpers:{isChecked:Re,isIndeterminate:ie},options:{disabled:P}}},Pe=(t={})=>{const l=t.value??Se(t.defaultValue??null),u=Ct(l,t.onValueChange),f=Fe(e("radio-group"),{returned:()=>({role:"group"})}),P={disabled:!1},de=Fe(e("radio-item"),{stores:[u],returned:([ie])=>S=>{const{value:z,disabled:O}={...P,...S},D=ie===z;return{disabled:O,role:"menuitemradio","data-state":D?"checked":"unchecked","aria-checked":D,"data-disabled":Rt(O),"data-value":z,"data-orientation":"vertical",tabindex:-1}},action:ie=>($t(ie,i),{destroy:Ge(U(ie,"pointerdown",z=>{const O=z.currentTarget;if(!w(O))return;const D=ie.dataset.value;if(ie.dataset.disabled||D===void 0){z.preventDefault();return}}),U(ie,"click",z=>{const O=z.currentTarget;if(!w(O))return;const D=ie.dataset.value;if(ie.dataset.disabled||D===void 0){z.preventDefault();return}if(z.defaultPrevented){if(!w(O))return;je(O);return}u.set(D),y.get()&&wt().then(()=>{_.set(!1)})}),U(ie,"keydown",z=>{Ie(z)}),U(ie,"pointermove",z=>{const O=z.currentTarget;if(!w(O))return;const D=ie.dataset.value;if(ie.dataset.disabled||D===void 0){Xe(z);return}Ze(z,O)}),U(ie,"pointerleave",z=>{tt(z)}),U(ie,"focusin",z=>{Ae(z)}),U(ie,"focusout",z=>{He(z)}))})}),Re=kt(u,ie=>S=>ie===S);return{elements:{radioGroup:f,radioItem:de},states:{value:u},helpers:{isChecked:Re}}},{elements:{root:ee}}=pn({orientation:"horizontal"}),re={...on,disabled:!1,positioning:{placement:"right-start",gutter:8}},Oe=t=>{const l={...re,...t},u=l.open??Se(!1),f=Ct(u,l==null?void 0:l.onOpenChange),P=xt(fr(l,"ids")),{positioning:de,arrowSize:Re,disabled:ie}=P,S=De(Se(null)),z=De(Se(null)),O=De(Se(0)),D=xt({...Zt(ar),...l.ids});tr(()=>{const K=document.getElementById(D.trigger.get());K&&S.set(K)});const Qe=rr({open:f,forceVisible:k,activeTrigger:S}),br=Fe(e("submenu"),{stores:[Qe,D.menu,D.trigger],returned:([K,$e,Me])=>({role:"menu",hidden:K?void 0:!0,style:bt({display:K?void 0:"none"}),id:$e,"aria-labelledby":Me,"data-state":K?"open":"closed","data-id":$e,tabindex:-1}),action:K=>{let $e=ht;const Me=Je([Qe,de],([$,Y])=>{if($e(),!$)return;const ge=S.get();ge&&wt().then(()=>{$e();const be=Gt(ge);$e=nr(K,{anchorElement:ge,open:f,options:{floating:Y,portal:w(be)?be:void 0,modal:null,focusTrap:null,escapeKeydown:null}}).destroy})}),W=Ge(U(K,"keydown",$=>{if($.key===Ce.ESCAPE)return;const Y=$.target,ge=$.currentTarget;if(!w(Y)||!w(ge)||!(Y.closest('[role="menu"]')===ge))return;if(er.includes($.key)){$.stopImmediatePropagation(),ir($,j.get()??!1);return}const dt=an.ltr.includes($.key),ft=$.ctrlKey||$.altKey||$.metaKey,Et=$.key.length===1;if(dt){const Yt=S.get();$.preventDefault(),f.update(()=>(Yt&&je(Yt),!1));return}if($.key===Ce.TAB){$.preventDefault(),_.set(!1),or($,m,X);return}!ft&&Et&&A.get()===!0&&E($.key,st(ge))}),U(K,"pointermove",$=>{Ee($)}),U(K,"focusout",$=>{const Y=S.get();if(g.get()){const ge=$.target,be=document.getElementById(D.menu.get());if(!w(be)||!w(ge))return;!be.contains(ge)&&ge!==Y&&f.set(!1)}else{const ge=$.currentTarget,be=$.relatedTarget;if(!w(be)||!w(ge))return;!ge.contains(be)&&be!==Y&&f.set(!1)}}));return{destroy(){Me(),$e(),W()}}}}),hr=Fe(e("subtrigger"),{stores:[f,ie,D.menu,D.trigger],returned:([K,$e,Me,W])=>({role:"menuitem",id:W,tabindex:-1,"aria-controls":Me,"aria-expanded":K,"data-state":K?"open":"closed","data-disabled":Rt($e),"aria-haspopop":"menu"}),action:K=>{$t(K,i),Ot(K),S.update(W=>W||K);const $e=()=>{Ft(z),window.clearTimeout(O.get()),L.set(null)},Me=Ge(U(K,"click",W=>{if(W.defaultPrevented)return;const $=W.currentTarget;!w($)||Ye($)||(je($),f.get()||f.update(Y=>Y||(S.set($),!Y)))}),U(K,"keydown",W=>{const $=N.get(),Y=W.currentTarget;if(!(!w(Y)||Ye(Y)||$.length>0&&W.key===Ce.SPACE)&&sn.ltr.includes(W.key)){if(!f.get()){Y.click(),W.preventDefault();return}const be=Y.getAttribute("aria-controls");if(!be)return;const dt=document.getElementById(be);if(!w(dt))return;const ft=st(dt)[0];je(ft)}}),U(K,"pointermove",W=>{if(!yt(W)||(_e(W),W.defaultPrevented))return;const $=W.currentTarget;if(!w($))return;dn(D.menu.get())||je($);const Y=z.get();!f.get()&&!Y&&!Ye($)&&z.set(window.setTimeout(()=>{f.update(()=>(S.set($),!0)),Ft(z)},100))}),U(K,"pointerleave",W=>{if(!yt(W))return;Ft(z);const $=document.getElementById(D.menu.get()),Y=$==null?void 0:$.getBoundingClientRect();if(Y){const ge=$==null?void 0:$.dataset.side,be=ge==="right",dt=be?-5:5,ft=Y[be?"left":"right"],Et=Y[be?"right":"left"];L.set({area:[{x:W.clientX+dt,y:W.clientY},{x:ft,y:Y.top},{x:Et,y:Y.top},{x:Et,y:Y.bottom},{x:ft,y:Y.bottom}],side:ge}),window.clearTimeout(O.get()),O.set(window.setTimeout(()=>{L.set(null)},300))}else{if(et(W),W.defaultPrevented)return;L.set(null)}}),U(K,"focusout",W=>{const $=W.currentTarget;if(!w($))return;vt($);const Y=W.relatedTarget;if(!w(Y))return;const ge=$.getAttribute("aria-controls");if(!ge)return;const be=document.getElementById(ge);be&&!be.contains(Y)&&f.set(!1)}),U(K,"focusin",W=>{Ae(W)}));return{destroy(){$e(),Me()}}}}),yr=Fe(e("subarrow"),{stores:Re,returned:K=>({"data-arrow":!0,style:bt({position:"absolute",width:`var(--arrow-size, ${K}px)`,height:`var(--arrow-size, ${K}px)`})})});return Je([_],([K])=>{K||(S.set(null),f.set(!1))}),Je([L],([K])=>{!gt||K||window.clearTimeout(O.get())}),Je([f],([K])=>{if(gt&&(K&&g.get()&&lt(1).then(()=>{const $e=document.getElementById(D.menu.get());if(!$e)return;const Me=st($e);Me.length&&je(Me[0])}),!K)){const $e=x.get(),Me=document.getElementById(D.trigger.get());if($e&&lt(1).then(()=>{const W=document.getElementById(D.menu.get());W&&W.contains($e)&&vt($e)}),!Me||document.activeElement===Me)return;vt(Me)}}),{ids:D,elements:{subTrigger:hr,subMenu:br,subArrow:yr},states:{subOpen:f},options:P}};tr(()=>{const t=document.getElementById(se.trigger.get());w(t)&&_.get()&&V.set(t);const l=[],u=()=>g.set(!1),f=()=>{g.set(!0),l.push(Ge(nt(document,"pointerdown",u,{capture:!0,once:!0}),nt(document,"pointermove",u,{capture:!0,once:!0})))},P=de=>{if(de.key===Ce.ESCAPE&&s.get()){_.set(!1);return}};return l.push(nt(document,"keydown",f,{capture:!0})),l.push(nt(document,"keydown",P)),()=>{l.forEach(de=>de())}}),Je([_,x],([t,l])=>{!t&&l&&vt(l)}),Je([_],([t])=>{if(gt&&!t){const l=V.get();if(!l)return;const u=q.get();!t&&l&&nn({prop:u,defaultEl:l})}}),Je([_,r],([t,l])=>{if(!gt)return;const u=[];return t&&l&&u.push(Xr()),lt(1).then(()=>{const f=document.getElementById(se.menu.get());if(f&&t&&g.get()){if(te.get()){je(f);return}const P=st(f);if(!P.length)return;je(P[0])}}),()=>{u.forEach(f=>f())}}),Je(_,t=>{if(!gt)return;const l=()=>g.set(!1),u=f=>{if(g.set(!0),f.key===Ce.ESCAPE&&t&&s.get()){_.set(!1);return}};return Ge(nt(document,"pointerdown",l,{capture:!0,once:!0}),nt(document,"pointermove",l,{capture:!0,once:!0}),nt(document,"keydown",u,{capture:!0}))});function oe(t){_.update(l=>{const u=!l;return u&&(m.set(Ur(t)),X.set(Vr(t)),V.set(t)),u})}function Ae(t){const l=t.currentTarget;if(!w(l))return;const u=x.get();u&&vt(u),Hr(l),x.set(l)}function He(t){const l=t.currentTarget;w(l)&&vt(l)}function _e(t){rt(t)&&t.preventDefault()}function Xe(t){if(rt(t))return;const l=t.target;if(!w(l))return;const u=Gt(l);u&&je(u)}function et(t){rt(t)&&t.preventDefault()}function Ee(t){if(!yt(t))return;const l=t.target,u=t.currentTarget;if(!w(u)||!w(l))return;const f=C.get(),P=f!==t.clientX;if(u.contains(l)&&P){const de=t.clientX>f?"right":"left";M.set(de),C.set(t.clientX)}}function Ze(t,l=null){if(!yt(t)||(_e(t),t.defaultPrevented))return;if(l){je(l);return}const u=t.currentTarget;w(u)&&je(u)}function tt(t){yt(t)&&Xe(t)}function Ie(t){if(N.get().length>0&&t.key===Ce.SPACE){t.preventDefault();return}if(At.includes(t.key)){t.preventDefault();const f=t.currentTarget;if(!w(f))return;f.click()}}function ct(t){return t==="indeterminate"}function Dt(t){return ct(t)?"indeterminate":t?"checked":"unchecked"}function rt(t){return H.get()(t)}function Gt(t){const l=t.closest('[role="menu"]');return w(l)?l:null}return{elements:{trigger:ae,menu:ke,overlay:me,item:ve,group:ye,groupLabel:ue,arrow:G,separator:ee},builders:{createCheckboxItem:xe,createSubmenu:Oe,createMenuRadioGroup:Pe},states:{open:_},helpers:{handleTypeaheadSearch:E},ids:se,options:n.rootOptions}}function or(n,e,i){if(n.shiftKey){const r=i.get();r&&(n.preventDefault(),lt(1).then(()=>r.focus()),i.set(null))}else{const r=e.get();r&&(n.preventDefault(),lt(1).then(()=>r.focus()),e.set(null))}}function st(n){return Array.from(n.querySelectorAll(`[data-melt-menu-id="${n.id}"]`)).filter(e=>w(e))}function Ot(n){!n||!Ye(n)||(n.setAttribute("data-disabled",""),n.setAttribute("aria-disabled","true"))}function Ft(n){if(!gt)return;const e=n.get();e&&(window.clearTimeout(e),n.set(null))}function yt(n){return n.pointerType==="mouse"}function $t(n,e){if(!n)return;const i=n.closest(`${e()}, ${e("submenu")}`);w(i)&&n.setAttribute("data-melt-menu-id",i.id)}function ir(n,e){n.preventDefault();const i=document.activeElement,r=n.currentTarget;if(!w(i)||!w(r))return;const c=st(r);if(!c.length)return;const d=c.filter(p=>!(p.hasAttribute("data-disabled")||p.getAttribute("disabled")==="true")),s=d.indexOf(i);let o;switch(n.key){case Ce.ARROW_DOWN:e?o=s<d.length-1?s+1:0:o=s<d.length-1?s+1:s;break;case Ce.ARROW_UP:e?o=s>0?s-1:d.length-1:o=s<0?d.length-1:s>0?s-1:0;break;case Ce.HOME:o=0;break;case Ce.END:o=d.length-1;break;default:return}je(d[o])}function un(n,e){if(!e)return!1;const i={x:n.clientX,y:n.clientY};return cn(i,e)}function cn(n,e){const{x:i,y:r}=n;let c=!1;for(let d=0,s=e.length-1;d<e.length;s=d++){const o=e[d].x,p=e[d].y,k=e[s].x,A=e[s].y;p>r!=A>r&&i<(k-o)*(r-p)/(A-p)+o&&(c=!c)}return c}function dn(n){const e=document.activeElement;if(!w(e))return!1;const i=e.closest(`[data-id="${n}"]`);return w(i)}function fn(n){return n?"open":"closed"}const vn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,loop:!1,dir:"ltr",defaultOpen:!1,forceVisible:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0};function gn(n){const e={...vn,...n},i=xt(fr(e,"ids")),r=e.open??Se(e.defaultOpen),c=Ct(r,e==null?void 0:e.onOpenChange),d=De(Se(null)),s=De(Se(null)),o=De(Se(null)),{elements:p,builders:k,ids:A,states:j,options:q}=ln({rootOptions:i,rootOpen:c,rootActiveTrigger:De(d),nextFocusable:De(s),prevFocusable:De(o),selector:"dropdown-menu",removeScroll:!0,ids:e.ids});return{ids:A,elements:p,states:j,builders:k,options:q}}const mn={orientation:"horizontal",decorative:!1},pn=n=>{const e={...mn,...n},i=xt(e),{orientation:r,decorative:c}=i;return{elements:{root:Fe("separator",{stores:[r,c],returned:([s,o])=>({role:o?"none":"separator","aria-orientation":s==="vertical"?s:void 0,"aria-hidden":o,"data-orientation":s})})},options:i}};function pr(){return{NAME:"menu",SUB_NAME:"menu-submenu",RADIO_GROUP_NAME:"menu-radiogroup",CHECKBOX_ITEM_NAME:"menu-checkboxitem",RADIO_ITEM_NAME:"menu-radioitem",GROUP_NAME:"menu-group",PARTS:["arrow","checkbox-indicator","checkbox-item","content","group","item","label","radio-group","radio-item","radio-indicator","separator","sub-content","sub-trigger","trigger"]}}function St(){const{NAME:n}=pr();return $r(n)}function _n(n){const{NAME:e,PARTS:i}=pr(),r=Or("menu",i),c={...gn({...Tr(n),forceVisible:!0}),getAttrs:r};return wr(e,c),{...c,updateOption:Cr(c.options)}}function bn(n){const i={...{side:"bottom",align:"center"},...n},{options:{positioning:r}}=St();Ar(r)(i)}function hn(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["href","asChild","disabled","el"]);We(e,!1);const c=ut(),d=()=>Ne(q,"$item",c),s=Be(),o=Be();let p=b(e,"href",24,()=>{}),k=b(e,"asChild",8,!1),A=b(e,"disabled",8,!1),j=b(e,"el",28,()=>{});const{elements:{item:q},getAttrs:te}=St(),y=Ht();le(()=>d(),()=>{we(s,d())}),le(()=>ne(A()),()=>{we(o,{...te("item"),...Ir(A())})}),le(()=>(v(s),v(o)),()=>{Object.assign(v(s),v(o))}),mt(),ze();var B=T(),_=h(B);J(_,k,V=>{var m=T(),X=h(m);pe(X,e,"default",{get builder(){return v(s)}},null),a(V,m)},V=>{var m=T(),X=h(m);vr(X,()=>p()?"a":"div",!1,(g,C)=>{ot(g,H=>j(H),()=>j()),it(g,H=>v(s).action(H));let L;Q(()=>L=qe(g,L,{href:p(),...v(s),...r},void 0,g.namespaceURI===lr,g.nodeName.includes("-"))),Te("m-click",g,y),Te("m-focusin",g,y),Te("m-focusout",g,y),Te("m-keydown",g,y),Te("m-pointerdown",g,y),Te("m-pointerleave",g,y),Te("m-pointermove",g,y),Te("pointerenter",g,function(H){gr.call(this,e,H)});var M=T(),x=h(M);pe(x,e,"default",{get builder(){return v(s)}},null),a(C,M)}),a(V,m)}),a(n,B),Ue()}function yn(n,e){We(e,!1);const i=ut(),r=()=>Ne(g,"$idValues",i);let c=b(e,"closeOnOutsideClick",24,()=>{}),d=b(e,"closeOnEscape",24,()=>{}),s=b(e,"portal",24,()=>{}),o=b(e,"open",28,()=>{}),p=b(e,"onOpenChange",24,()=>{}),k=b(e,"preventScroll",24,()=>{}),A=b(e,"loop",24,()=>{}),j=b(e,"dir",24,()=>{}),q=b(e,"typeahead",24,()=>{}),te=b(e,"closeFocus",24,()=>{}),y=b(e,"disableFocusFirstItem",24,()=>{}),B=b(e,"closeOnItemClick",24,()=>{}),_=b(e,"onOutsideClick",24,()=>{});const{states:{open:V},updateOption:m,ids:X}=_n({closeOnOutsideClick:c(),closeOnEscape:d(),portal:s(),forceVisible:!0,defaultOpen:o(),preventScroll:k(),loop:A(),dir:j(),typeahead:q(),closeFocus:te(),disableFocusFirstItem:y(),closeOnItemClick:B(),onOutsideClick:_(),onOpenChange:({next:M})=>{var x;return o()!==M&&((x=p())==null||x(M),o(M)),M}}),g=kt([X.menu,X.trigger],([M,x])=>({menu:M,trigger:x}));le(()=>ne(o()),()=>{o()!==void 0&&V.set(o())}),le(()=>ne(c()),()=>{m("closeOnOutsideClick",c())}),le(()=>ne(d()),()=>{m("closeOnEscape",d())}),le(()=>ne(s()),()=>{m("portal",s())}),le(()=>ne(k()),()=>{m("preventScroll",k())}),le(()=>ne(A()),()=>{m("loop",A())}),le(()=>ne(j()),()=>{m("dir",j())}),le(()=>ne(te()),()=>{m("closeFocus",te())}),le(()=>ne(y()),()=>{m("disableFocusFirstItem",y())}),le(()=>ne(q()),()=>{m("typeahead",q())}),le(()=>ne(B()),()=>{m("closeOnItemClick",B())}),le(()=>ne(_()),()=>{m("onOutsideClick",_())}),mt(),ze();var C=T(),L=h(C);pe(L,e,"default",{get ids(){return r()}},null),a(n,C),Ue()}var $n=I("<div><!></div>"),wn=I("<div><!></div>"),kn=I("<div><!></div>"),xn=I("<div><!></div>"),En=I("<div><!></div>");function Pn(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"]);We(e,!1);const c=ut(),d=()=>Ne(se,"$menu",c),s=()=>Ne(he,"$open",c),o=Be();let p=b(e,"transition",24,()=>{}),k=b(e,"transitionConfig",24,()=>{}),A=b(e,"inTransition",24,()=>{}),j=b(e,"inTransitionConfig",24,()=>{}),q=b(e,"outTransition",24,()=>{}),te=b(e,"outTransitionConfig",24,()=>{}),y=b(e,"asChild",8,!1),B=b(e,"id",24,()=>{}),_=b(e,"side",8,"bottom"),V=b(e,"align",8,"center"),m=b(e,"sideOffset",8,0),X=b(e,"alignOffset",8,0),g=b(e,"collisionPadding",8,8),C=b(e,"avoidCollisions",8,!0),L=b(e,"collisionBoundary",24,()=>{}),M=b(e,"sameWidth",8,!1),x=b(e,"fitViewport",8,!1),H=b(e,"strategy",8,"absolute"),N=b(e,"overlap",8,!1),E=b(e,"el",28,()=>{});const{elements:{menu:se},states:{open:he},ids:ke,getAttrs:ae}=St(),G=Ht(),me=ae("content");le(()=>ne(B()),()=>{B()&&ke.menu.set(B())}),le(()=>d(),()=>{we(o,d())}),le(()=>v(o),()=>{Object.assign(v(o),me)}),le(()=>(s(),ne(_()),ne(V()),ne(m()),ne(X()),ne(g()),ne(C()),ne(L()),ne(M()),ne(x()),ne(H()),ne(N())),()=>{s()&&bn({side:_(),align:V(),sideOffset:m(),alignOffset:X(),collisionPadding:g(),avoidCollisions:C(),collisionBoundary:L(),sameWidth:M(),fitViewport:x(),strategy:H(),overlap:N()})}),mt(),ze();var ve=T(),ye=h(ve);J(ye,()=>y()&&s(),ue=>{var ce=T(),xe=h(ce);pe(xe,e,"default",{get builder(){return v(o)}},null),a(ue,ce)},ue=>{var ce=T(),xe=h(ce);J(xe,()=>p()&&s(),Pe=>{var ee=$n();let re;var Oe=F(ee);pe(Oe,e,"default",{get builder(){return v(o)}},null),R(ee),ot(ee,oe=>E(oe),()=>E()),it(ee,oe=>v(o).action(oe)),at(()=>Te("m-keydown",ee,G)),Q(()=>re=qe(ee,re,{...v(o),...r})),_t(3,ee,p,k),a(Pe,ee)},Pe=>{var ee=T(),re=h(ee);J(re,()=>A()&&q()&&s(),Oe=>{var oe=wn();let Ae;var He=F(oe);pe(He,e,"default",{get builder(){return v(o)}},null),R(oe),ot(oe,_e=>E(_e),()=>E()),it(oe,_e=>v(o).action(_e)),at(()=>Te("m-keydown",oe,G)),Q(()=>Ae=qe(oe,Ae,{...v(o),...r})),_t(1,oe,A,j),_t(2,oe,q,te),a(Oe,oe)},Oe=>{var oe=T(),Ae=h(oe);J(Ae,()=>A()&&s(),He=>{var _e=kn();let Xe;var et=F(_e);pe(et,e,"default",{get builder(){return v(o)}},null),R(_e),ot(_e,Ee=>E(Ee),()=>E()),it(_e,Ee=>v(o).action(Ee)),at(()=>Te("m-keydown",_e,G)),Q(()=>Xe=qe(_e,Xe,{...v(o),...r})),_t(1,_e,A,j),a(He,_e)},He=>{var _e=T(),Xe=h(_e);J(Xe,()=>q()&&s(),et=>{var Ee=xn();let Ze;var tt=F(Ee);pe(tt,e,"default",{get builder(){return v(o)}},null),R(Ee),ot(Ee,Ie=>E(Ie),()=>E()),it(Ee,Ie=>v(o).action(Ie)),at(()=>Te("m-keydown",Ee,G)),Q(()=>Ze=qe(Ee,Ze,{...v(o),...r})),_t(2,Ee,q,te),a(et,Ee)},et=>{var Ee=T(),Ze=h(Ee);J(Ze,s,tt=>{var Ie=En();let ct;var Dt=F(Ie);pe(Dt,e,"default",{get builder(){return v(o)}},null),R(Ie),ot(Ie,rt=>E(rt),()=>E()),it(Ie,rt=>v(o).action(rt)),at(()=>Te("m-keydown",Ie,G)),Q(()=>ct=qe(Ie,ct,{...v(o),...r})),a(tt,Ie)},null,!0),a(et,Ee)},!0),a(He,_e)},!0),a(Oe,oe)},!0),a(Pe,ee)},!0),a(ue,ce)}),a(n,ve),Ue()}var On=I("<button><!></button>");function Tn(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["asChild","id","el"]);We(e,!1);const c=ut(),d=()=>Ne(A,"$trigger",c),s=Be();let o=b(e,"asChild",8,!1),p=b(e,"id",24,()=>{}),k=b(e,"el",28,()=>{});const{elements:{trigger:A},ids:j,getAttrs:q}=St(),te=Ht(),y=q("trigger");le(()=>ne(p()),()=>{p()&&j.trigger.set(p())}),le(()=>d(),()=>{we(s,d())}),le(()=>v(s),()=>{Object.assign(v(s),y)}),mt(),ze();var B=T(),_=h(B);J(_,o,V=>{var m=T(),X=h(m);pe(X,e,"default",{get builder(){return v(s)}},null),a(V,m)},V=>{var m=On();let X;var g=F(m);pe(g,e,"default",{get builder(){return v(s)}},null),R(m),ot(m,C=>k(C),()=>k()),it(m,C=>v(s).action(C)),at(()=>Te("m-keydown",m,te)),at(()=>Te("m-pointerdown",m,te)),Q(()=>X=qe(m,X,{...v(s),type:"button",...r})),a(V,m)}),a(n,B),Ue()}function Lt(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]);qt(n,pt({name:"circle-alert"},()=>i,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]],children:(c,d)=>{var s=T(),o=h(s);pe(o,e,"default",{},null),a(c,s)},$$slots:{default:!0}}))}function Cn(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]);qt(n,pt({name:"circle-check"},()=>i,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m9 12 2 2 4-4"}]],children:(c,d)=>{var s=T(),o=h(s);pe(o,e,"default",{},null),a(c,s)},$$slots:{default:!0}}))}function An(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]);qt(n,pt({name:"circle-x"},()=>i,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]],children:(c,d)=>{var s=T(),o=h(s);pe(o,e,"default",{},null),a(c,s)},$$slots:{default:!0}}))}var In=I("<div><!></div>");function zt(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["class","variant"]);We(e,!1);let c=b(e,"class",8,void 0),d=b(e,"variant",8,"default");ze();var s=In();let o;var p=F(s);pe(p,e,"default",{},null),R(s),Q(()=>o=qe(s,o,{class:Xt(qr({variant:d()}),c()),...r,role:"alert"})),a(n,s),Ue()}var jn=I("<div><!></div>");function Wt(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["class"]);We(e,!1);let c=b(e,"class",8,void 0);ze();var d=jn();let s;var o=F(d);pe(o,e,"default",{},null),R(d),Q(()=>s=qe(d,s,{class:Xt("text-sm [&_p]:leading-relaxed",c()),...r})),a(n,d),Ue()}function Ut(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["class","level"]);We(e,!1);let c=b(e,"class",8,void 0),d=b(e,"level",8,"h5");ze();var s=T(),o=h(s);vr(o,d,!1,(p,k)=>{let A;Q(()=>A=qe(p,A,{class:Xt("mb-1 font-medium leading-none tracking-tight",c()),...r},void 0,p.namespaceURI===lr,p.nodeName.includes("-")));var j=T(),q=h(j);pe(q,e,"default",{},null),a(k,j)}),a(n,s),Ue()}var Sn=I("<!> <!> <!>",1),Dn=I('<div class="absolute top-0 h-4 bg-red-500"></div>'),Rn=I('<div class="absolute top-0 h-4 bg-yellow-500 progress-stripe svelte-i2gyqw"></div>'),Mn=I('<div class="absolute top-0 h-4 bg-green-600"></div>'),Fn=I('<span class="inline-flex items-center gap-1"><div></div> </span>'),Nn=I('<div class="text-sm text-gray-500 flex flex-wrap gap-2"></div>'),Kn=I('<div class="w-full bg-gray-200 rounded-sm h-4 dark:bg-gray-700 relative overflow-hidden"><div></div> <!></div> <div class="flex justify-between mt-1 text-sm text-gray-500"><div class="flex"><!></div> <div class="flex gap-8"><span> </span> <span> </span></div></div>',1),Bn=I('<div class="mt-2"><!></div>'),Ln=I("<!> <!> <!>",1),zn=I('<div class="border rounded-lg p-4 bg-gray-50"><div class="flex items-center gap-4"><span class="font-medium">Latest Run:</span> <span> </span> <span> </span></div> <!> <!></div>');function Wn(n,e){We(e,!1);const i=ut(),r=()=>Ne(Jt,"$jobStore",i);ze();var c=T(),d=h(c);J(d,()=>r().currentJob,s=>{var o=zn(),p=F(o),k=Z(F(p),2),A=F(k,!0);Q(()=>Ke(A,r().currentJob.slice(-8))),R(k);var j=Z(k,2),q=F(j);R(j),R(p);var te=Z(p,2);J(te,()=>r().jobDetails,B=>{var _=Bn(),V=F(_);J(V,()=>(!r().jobDetails.task_status_map||Object.keys(r().jobDetails.task_status_map).length===0)&&!r().jobStatus,m=>{zt(m,{variant:"destructive",class:"mt-2",children:(X,g)=>{var C=Sn(),L=h(C);Lt(L,{class:"h-4 w-4"});var M=Z(L,2);Ut(M,{children:(H,N)=>{Le();var E=Ve("Experiment Failed");a(H,E)},$$slots:{default:!0}});var x=Z(M,2);Wt(x,{children:(H,N)=>{Le();var E=Ve("No task status information available. The experiment may have failed to start properly.");a(H,E)},$$slots:{default:!0}}),a(X,C)},$$slots:{default:!0}})},m=>{var X=Kn(),g=h(X),C=F(g),L=Z(C,2);J(L,()=>r().jobDetails.task_status_map,ae=>{var G=T(),me=h(G);It(me,1,()=>Object.entries(r().jobDetails.task_status_map),jt,(ve,ye,ue)=>{let ce=()=>v(ye)[1];var xe=T(),Pe=h(xe);J(Pe,()=>ce()==="failed",ee=>{var re=Dn();Q(()=>Pt(re,"style",`width: ${100/r().jobDetails.total_tasks}%; left: ${ue/r().jobDetails.total_tasks*100}%`)),a(ee,re)},ee=>{var re=T(),Oe=h(re);J(Oe,()=>ce()==="evaluating",oe=>{var Ae=Rn();Q(()=>Pt(Ae,"style",`width: ${100/r().jobDetails.total_tasks}%; left: ${ue/r().jobDetails.total_tasks*100}%`)),a(oe,Ae)},oe=>{var Ae=T(),He=h(Ae);J(He,()=>ce()==="completed",_e=>{var Xe=Mn();Q(()=>Pt(Xe,"style",`width: ${100/r().jobDetails.total_tasks}%; left: ${ue/r().jobDetails.total_tasks*100}%`)),a(_e,Xe)},null,!0),a(oe,Ae)},!0),a(ee,re)}),a(ve,xe)}),a(ae,G)}),R(g);var M=Z(g,2),x=F(M),H=F(x);J(H,()=>r().jobDetails.task_status_map,ae=>{var G=Nn();It(G,5,()=>Object.entries(r().taskStatusCounts),jt,(me,ve)=>{let ye=()=>v(ve)[0],ue=()=>v(ve)[1];var ce=T(),xe=h(ce);J(xe,()=>ue()>0,Pe=>{var ee=Fn(),re=F(ee),Oe=Z(re);R(ee),Q(()=>{Mt(re,`w-2 h-2 rounded-full ${(ye()==="completed"?"bg-green-500":ye()==="running"?"bg-blue-500":ye()==="evaluating"?"bg-yellow-500":ye()==="failed"?"bg-red-500":"bg-gray-500")??""}`),Ke(Oe,` ${ye()??""}: ${ue()??""}`)}),a(Pe,ee)}),a(me,ce)}),R(G),a(ae,G)}),R(x);var N=Z(x,2),E=F(N),se=F(E);R(E);var he=Z(E,2),ke=F(he);Q(()=>{var ae,G;return Ke(ke,`${(r().jobStatus==="completed"||r().jobStatus==="failed"?"100":Math.round((((ae=r().jobDetails)==null?void 0:ae.current_task)||0)/(((G=r().jobDetails)==null?void 0:G.total_tasks)||1)*100))??""}%`)}),R(he),R(N),R(M),Q(()=>{var ae,G;Mt(C,`${`h-4 transition-all duration-300 relative overflow-hidden rounded-r-sm ${r().jobStatus==="failed"?"bg-red-500":"bg-blue-600 progress-stripe"}`??""} svelte-i2gyqw`),Pt(C,"style",`width: ${(r().jobStatus==="completed"||r().jobStatus==="failed"?"100":r().jobDetails.current_task/r().jobDetails.total_tasks*100)??""}%;`),Ke(se,`${(((ae=r().jobDetails)==null?void 0:ae.current_task)||0)??""} / ${(((G=r().jobDetails)==null?void 0:G.total_tasks)||0)??""}`)}),a(m,X)}),R(_),a(B,_)});var y=Z(te,2);J(y,()=>r().jobStatus==="error"||r().jobStatus==="failed",B=>{zt(B,{variant:"destructive",class:"mt-2",children:(_,V)=>{var m=Ln(),X=h(m);Lt(X,{class:"h-4 w-4"});var g=Z(X,2);Ut(g,{children:(L,M)=>{Le();var x=Ve("Run Failed");a(L,x)},$$slots:{default:!0}});var C=Z(g,2);Wt(C,{children:(L,M)=>{var x=T(),H=h(x);J(H,()=>{var N;return(N=r().jobDetails)==null?void 0:N.error},N=>{var E=Ve();Q(()=>Ke(E,r().jobDetails.error)),a(N,E)},N=>{var E=Ve("The experiment failed to complete. Check the task details for more information.");a(N,E)}),a(L,x)},$$slots:{default:!0}}),a(_,m)},$$slots:{default:!0}})}),R(o),Q(()=>{Mt(j,`${`text-gray-500 ${r().jobStatus==="failed"||r().jobStatus==="error"?"text-red-500":""}`??""} svelte-i2gyqw`),Ke(q,`Status: ${r().jobStatus??""}`)}),a(s,o)}),a(n,c),Ue()}function _r(...n){return Mr(Fr(n))}function Un(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["align","sideOffset"]);We(e,!1);let c=b(e,"align",8,"start"),d=b(e,"sideOffset",8,4);ze();var s=Vt(()=>_r("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",i.class));Pn(n,pt({get align(){return c()},get sideOffset(){return d()},transition:Jr,get class(){return v(s)}},()=>r,{children:(o,p)=>{var k=T(),A=h(k);pe(A,e,"default",{},null),a(o,k)},$$slots:{default:!0}})),Ue()}var Vn=I("<button><!></button>");function Tt(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["inset","disabled"]);We(e,!1);let c=b(e,"inset",8,!1),d=b(e,"disabled",8,!1);ze(),hn(n,{children:(s,o)=>{var p=Vn();let k;var A=F(p);pe(A,e,"default",{},null),R(p),Q(()=>k=qe(p,k,{class:_r("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",c()&&"pl-8",i.class),disabled:d(),...r})),Te("click",p,function(j){gr.call(this,e,j)}),a(s,p)},$$slots:{default:!0}}),Ue()}function Hn(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["open"]);let c=b(e,"open",12,!1);yn(n,pt({get open(){return c()},set open(d){c(d)}},()=>r,{children:(d,s)=>{var o=T(),p=h(o);pe(p,e,"default",{},null),a(d,o)},$$slots:{default:!0},$$legacy:!0}))}function Xn(n,e){const i=fe(e,["children","$$slots","$$events","$$legacy"]),r=fe(i,["asChild"]);let c=b(e,"asChild",8,!1);Tn(n,pt({get asChild(){return c()}},()=>r,{children:(d,s)=>{var o=T(),p=h(o);pe(p,e,"default",{},null),a(d,o)},$$slots:{default:!0}}))}var qn=I('<div class="flex items-center gap-2"><!> <span class="text-gray-500"> </span></div>'),Jn=I("<!> Run Experiment",1),Gn=I("<!> Loading tasks...",1),Yn=I('<span class="text-red-500"> </span>'),Zn=I("<!> ",1),Qn=I("<!> <!>",1),es=I('<div class="flex items-center gap-1"><!> <!></div>'),ts=I("<div><!></div>");function rs(n,e){We(e,!1);const i=ut(),r=()=>Ne(mr,"$selectedProjectId",i),c=()=>Ne(Jt,"$jobStore",i);let d=b(e,"reloadRecentRuns",8),s=Be([]),o=Be(null),p=Be(!1),k=Be(!1);async function A(){if(r()){we(p,!0),we(o,null);try{const y=await Nr(r());we(s,y.tasks)}catch(y){console.error("Error loading tasks:",y),we(o,y instanceof Error?y.message:"Unknown error")}finally{we(p,!1)}}}function j(y){return y.id?y.id:y.name?y.name:y.description?y.description:typeof y.input=="string"?y.input.slice(0,30)+"...":y.id.slice(0,8)}le(()=>r(),()=>{r()&&A()}),mt(),ze();var q=ts(),te=F(q);J(te,()=>c().currentJob&&c().jobStatus&&!["completed","failed","error"].includes(c().jobStatus),y=>{var B=qn(),_=F(B);Bt(_,{class:"h-4 w-4 animate-spin"});var V=Z(_,2),m=F(V,!0);R(V),R(B),Q(()=>Ke(m,c().jobStatus)),a(y,B)},y=>{var B=es(),_=F(B);Kt(_,{variant:"primary",class:"flex items-center gap-2",$$events:{click:()=>Zr(r(),d())},children:(m,X)=>{var g=Jn(),C=h(g);sr(C,{class:"h-4 w-4"}),Le(),a(m,g)},$$slots:{default:!0}});var V=Z(_,2);Hn(V,{get open(){return v(k)},set open(m){we(k,m)},children:(m,X)=>{var g=Qn(),C=h(g);Xn(C,{children:(M,x)=>{Kt(M,{variant:"primary",class:"px-2",children:(H,N)=>{Gr(H,{class:"h-4 w-4"})},$$slots:{default:!0}})},$$slots:{default:!0}});var L=Z(C,2);Un(L,{align:"end",children:(M,x)=>{var H=T(),N=h(H);J(N,()=>v(p),E=>{Tt(E,{disabled:!0,children:(se,he)=>{var ke=Gn(),ae=h(ke);Bt(ae,{class:"h-4 w-4 animate-spin mr-2"}),Le(),a(se,ke)},$$slots:{default:!0}})},E=>{var se=T(),he=h(se);J(he,()=>v(o),ke=>{Tt(ke,{disabled:!0,children:(ae,G)=>{var me=Yn(),ve=F(me);R(me),Q(()=>Ke(ve,`Error: ${v(o)??""}`)),a(ae,me)},$$slots:{default:!0}})},ke=>{var ae=T(),G=h(ae);J(G,()=>v(s).length===0,me=>{Tt(me,{disabled:!0,children:(ve,ye)=>{Le();var ue=Ve("No tasks available");a(ve,ue)},$$slots:{default:!0}})},me=>{var ve=T(),ye=h(ve);It(ye,1,()=>v(s),jt,(ue,ce)=>{Tt(ue,{$$events:{click:()=>{Qr(r(),v(ce).id,d()),we(k,!1)}},children:(xe,Pe)=>{var ee=Zn(),re=h(ee);sr(re,{class:"h-4 w-4 mr-2"});var Oe=Z(re);Q(()=>Ke(Oe,` ${j(v(ce))??""}`)),a(xe,ee)},$$slots:{default:!0}})}),a(me,ve)},!0),a(ke,ae)},!0),a(E,se)}),a(M,H)},$$slots:{default:!0}}),a(m,g)},$$slots:{default:!0},$$legacy:!0}),R(B),a(y,B)}),R(q),a(n,q),Ue()}var ns=I("<!> <!> <!>",1),ss=I("<!> <!>",1);function as(n,e){We(e,!1);let i=b(e,"alerts",24,()=>[]);ze();var r=T(),c=h(r);J(c,()=>i().length>0,d=>{Nt(d,{children:(s,o)=>{var p=ss(),k=h(p);ur(k,{children:(j,q)=>{cr(j,{children:(te,y)=>{Le();var B=Ve("Key Alerts and Notifications");a(te,B)},$$slots:{default:!0}})},$$slots:{default:!0}});var A=Z(k,2);dr(A,{class:"space-y-4",children:(j,q)=>{var te=T(),y=h(te);It(y,1,i,jt,(B,_)=>{var V=Vt(()=>v(_).type==="improvement"?"default":"destructive");zt(B,{get variant(){return v(V)},children:(m,X)=>{var g=ns(),C=h(g);J(C,()=>v(_).type==="regression",x=>{Lt(x,{class:"h-4 w-4"})},x=>{var H=T(),N=h(H);J(N,()=>v(_).type==="security",E=>{An(E,{class:"h-4 w-4"})},E=>{var se=T(),he=h(se);J(he,()=>v(_).type==="improvement",ke=>{Cn(ke,{class:"h-4 w-4"})},null,!0),a(E,se)},!0),a(x,H)});var L=Z(C,2);Ut(L,{children:(x,H)=>{Le();var N=Ve();Q(()=>Ke(N,v(_).type.charAt(0).toUpperCase()+v(_).type.slice(1))),a(x,N)},$$slots:{default:!0}});var M=Z(L,2);Wt(M,{children:(x,H)=>{Le();var N=Ve();Q(()=>Ke(N,v(_).message)),a(x,N)},$$slots:{default:!0}}),a(m,g)},$$slots:{default:!0}})}),a(j,te)},$$slots:{default:!0}}),a(s,p)},$$slots:{default:!0}})}),a(n,r),Ue()}var os=I('<div class="flex items-center justify-center h-[50vh] text-gray-500"><div class="flex items-center gap-2"><!> <span>Loading project details...</span></div></div>'),is=I('<div class="flex items-center justify-center h-[50vh] text-gray-500"><!></div>'),ls=I("<!> <!>",1),us=I("<!> <!>",1),cs=I('<div class="flex items-center justify-center h-[50vh] text-gray-500"><!></div>'),ds=I('<span class="text-md font-medium">Total Runs</span> <div class="text-2xl font-bold"> </div>',1),fs=I('<div class="flex justify-between items-center"><h1 class="text-3xl font-bold -mb-2 -mt-2"> </h1> <!></div> <!> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><!></div> <!> <!>',1),vs=I('<div class="container mx-auto p-4 space-y-6"><!></div>');function Ts(n,e){We(e,!1);const i=ut(),r=()=>Ne(zr,"$projects",i),c=()=>Ne(mr,"$selectedProjectId",i),d=()=>Ne(Jt,"$jobStore",i),s=()=>Ne(rn,"$pendingRunStore",i),o=()=>Ne(Br,"$projectsLoading",i),p=()=>Ne(Lr,"$projectsError",i),k=Be();let A=Be([]),j=Be(null),q=Be(!1),te=Be(0);async function y(){we(q,!0),we(j,null);try{const g=await Kr(c());we(A,g.runs),we(te,g.total)}catch(g){console.error("Error loading recent runs:",g),we(j,g instanceof Error?g.message:"Unknown error")}finally{we(q,!1)}}async function B(){d().currentJob&&d().jobStatus&&!["completed","failed","error"].includes(d().jobStatus)&&await en(c(),d().currentJob,y)}async function _(){s()&&await tn(y)}const V=[];le(()=>(r(),c()),()=>{we(k,r().find(g=>g.id===c()))}),le(()=>v(k),()=>{v(k)&&(y(),B(),_())}),mt(),ze();var m=vs(),X=F(m);J(X,o,g=>{var C=os(),L=F(C),M=F(L);Bt(M,{class:"h-6 w-6 animate-spin"}),Le(2),R(L),R(C),a(g,C)},g=>{var C=T(),L=h(C);J(L,p,M=>{var x=is(),H=F(x),N=Vt(()=>`${p()} - Check if API is running`);kr(H,{get errorMessage(){return v(N)},onRetry:()=>window.location.reload(),className:"w-96"}),R(x),a(M,x)},M=>{var x=T(),H=h(x);J(H,()=>!v(k),N=>{var E=cs(),se=F(E);Nt(se,{class:"border-yellow-200 bg-yellow-50 w-96 space-y-4",children:(he,ke)=>{var ae=us(),G=h(ae);ur(G,{children:(ve,ye)=>{var ue=ls(),ce=h(ue);cr(ce,{class:"text-yellow-800",children:(Pe,ee)=>{Le();var re=Ve("Project Not Found");a(Pe,re)},$$slots:{default:!0}});var xe=Z(ce,2);xr(xe,{class:"text-yellow-600 pt-2",children:(Pe,ee)=>{Le();var re=Ve();Q(()=>Ke(re,`The project "${c()??""}" could not be found.`)),a(Pe,re)},$$slots:{default:!0}}),a(ve,ue)},$$slots:{default:!0}});var me=Z(G,2);Er(me,{class:"flex justify-end",children:(ve,ye)=>{Kt(ve,{variant:"outline",class:"border-yellow-200 text-yellow-800 hover:bg-yellow-100",$$events:{click:()=>window.location.href="/"},children:(ue,ce)=>{Le();var xe=Ve("Go Back");a(ue,xe)},$$slots:{default:!0}})},$$slots:{default:!0}}),a(he,ae)},$$slots:{default:!0}}),R(E),a(N,E)},N=>{var E=fs(),se=h(E),he=F(se),ke=F(he,!0);R(he);var ae=Z(he,2);rs(ae,{reloadRecentRuns:y}),R(se);var G=Z(se,2);Wn(G,{});var me=Z(G,2),ve=F(me);Nt(ve,{children:(ce,xe)=>{dr(ce,{class:"flex items-center justify-between py-4",children:(Pe,ee)=>{var re=ds(),Oe=Z(h(re),2),oe=F(Oe,!0);R(Oe),Q(()=>Ke(oe,v(te))),a(Pe,re)},$$slots:{default:!0}})},$$slots:{default:!0}}),R(me);var ye=Z(me,2);Yr(ye,{get runsList(){return v(A)},get isLoading(){return v(q)},get loadingError(){return v(j)},showViewAll:!0});var ue=Z(ye,2);as(ue,{alerts:V}),Q(()=>Ke(ke,v(k).name)),a(N,E)},!0),a(M,x)},!0),a(g,C)}),R(m),a(n,m),Ue()}export{Ts as component};
